!function(e){var t=function(n,o){this.id=++e.FE.ID;var r={};o&&o.documentReady&&(r.toolbarButtons=["fullscreen","undo","redo","getPDF","print","|","bold","italic","underline","color","clearFormatting","|","alignLeft","alignCenter","alignRight","alignJustify","|","formatOL","formatUL","indent","outdent","-","paragraphFormat","|","fontFamily","|","fontSize","|","insertLink","insertImage","quote"],r.paragraphFormatSelection=!0,r.fontFamilySelection=!0,r.fontSizeSelection=!0,r.placeholderText="",r.quickInsertEnabled=!1,r.charCounterCount=!1),this.opts=e.extend(!0,{},e.extend({},t.DEFAULTS,r,"object"==typeof o&&o));var i=JSON.stringify(this.opts);e.FE.OPTS_MAPPING[i]=e.FE.OPTS_MAPPING[i]||this.id,this.sid=e.FE.OPTS_MAPPING[i],e.FE.SHARED[this.sid]=e.FE.SHARED[this.sid]||{},this.shared=e.FE.SHARED[this.sid],this.shared.count=(this.shared.count||0)+1,this.$oel=e(n),this.$oel.data("froala.editor",this),this.o_doc=n.ownerDocument,this.o_win="defaultView"in this.o_doc?this.o_doc.defaultView:this.o_doc.parentWindow;var a=e(this.o_win).scrollTop();this.$oel.on("froala.doInit",function(){this.$oel.off("froala.doInit"),this.doc=this.$el.get(0).ownerDocument,this.win="defaultView"in this.doc?this.doc.defaultView:this.doc.parentWindow,this.$doc=e(this.doc),this.$win=e(this.win),this.opts.pluginsEnabled||(this.opts.pluginsEnabled=Object.keys(e.FE.PLUGINS)),this.opts.initOnClick?(this.load(e.FE.MODULES),this.$el.on("touchstart.init",(function(){e(this).data("touched",!0)})),this.$el.on("touchmove.init",(function(){e(this).removeData("touched")})),this.$el.on("mousedown.init touchend.init dragenter.init focus.init",function(t){if("touchend"==t.type&&!this.$el.data("touched"))return!0;if(1===t.which||!t.which){this.$el.off("mousedown.init touchstart.init touchmove.init touchend.init dragenter.init focus.init"),this.load(e.FE.MODULES),this.load(e.FE.PLUGINS);var n=t.originalEvent&&t.originalEvent.originalTarget;n&&"IMG"==n.tagName&&e(n).trigger("mousedown"),"touchend"==t.type&&this.image&&t.originalEvent&&t.originalEvent.target&&e(t.originalEvent.target).is("img")&&setTimeout(function(){this.image.edit(e(t.originalEvent.target))}.bind(this),100),this.ready=!0,this.events.trigger("initialized")}}.bind(this)),this.events.trigger("initializationDelayed")):(this.load(e.FE.MODULES),this.load(e.FE.PLUGINS),e(this.o_win).scrollTop(a),this.ready=!0,this.events.trigger("initialized"))}.bind(this)),this._init()};t.DEFAULTS={initOnClick:!1,pluginsEnabled:null},t.MODULES={},t.PLUGINS={},t.INSTANCES=[],t.OPTS_MAPPING={},t.SHARED={},t.ID=0,t.prototype._init=function(){var t=this.$oel.prop("tagName");this.$oel.closest("label").length>=1&&console.warn("Note! It is not recommended to initialize the Froala Editor within a label tag.");var n=function(){"TEXTAREA"!=t&&(this._original_html=this._original_html||this.$oel.html()),this.$box=this.$box||this.$oel,this.opts.fullPage&&(this.opts.iframe=!0),this.opts.iframe?(this.$iframe=e('<iframe src="about:blank" frameBorder="0">'),this.$wp=e("<div></div>"),this.$box.html(this.$wp),this.$wp.append(this.$iframe),this.$iframe.get(0).contentWindow.document.open(),this.$iframe.get(0).contentWindow.document.write("<!DOCTYPE html>"),this.$iframe.get(0).contentWindow.document.write("<html><head></head><body></body></html>"),this.$iframe.get(0).contentWindow.document.close(),this.$el=this.$iframe.contents().find("body"),this.el=this.$el.get(0),this.$head=this.$iframe.contents().find("head"),this.$html=this.$iframe.contents().find("html"),this.iframe_document=this.$iframe.get(0).contentWindow.document,this.$oel.trigger("froala.doInit")):(this.$el=e("<div></div>"),this.el=this.$el.get(0),this.$wp=e("<div></div>").append(this.$el),this.$box.html(this.$wp),this.$oel.trigger("froala.doInit"))}.bind(this),o=function(){this.$box=e("<div>"),this.$oel.before(this.$box).hide(),this._original_html=this.$oel.val(),this.$oel.parents("form").on("submit."+this.id,function(){this.events.trigger("form.submit")}.bind(this)),this.$oel.parents("form").on("reset."+this.id,function(){this.events.trigger("form.reset")}.bind(this)),n()}.bind(this),r=function(){this.$el=this.$oel,this.el=this.$el.get(0),this.$el.attr("contenteditable",!0).css("outline","none").css("display","inline-block"),this.opts.multiLine=!1,this.opts.toolbarInline=!1,this.$oel.trigger("froala.doInit")}.bind(this),i=function(){this.$el=this.$oel,this.el=this.$el.get(0),this.opts.toolbarInline=!1,this.$oel.trigger("froala.doInit")}.bind(this),a=function(){this.$el=this.$oel,this.el=this.$el.get(0),this.opts.toolbarInline=!1,this.$oel.on("click.popup",(function(e){e.preventDefault()})),this.$oel.trigger("froala.doInit")}.bind(this);this.opts.editInPopup?a():"TEXTAREA"==t?o():"A"==t?r():"IMG"==t?i():"BUTTON"==t||"INPUT"==t?(this.opts.editInPopup=!0,this.opts.toolbarInline=!1,a()):n()},t.prototype.load=function(t){for(var n in t)if(t.hasOwnProperty(n)){if(this[n])continue;if(e.FE.PLUGINS[n]&&this.opts.pluginsEnabled.indexOf(n)<0)continue;if(this[n]=new t[n](this),this[n]._init&&(this[n]._init(),this.opts.initOnClick&&"core"==n))return!1}},t.prototype.destroy=function(){this.destroying=!0,this.shared.count--,this.events.$off();var t=this.html.get();if(this.opts.iframe&&(this.events.disableBlur(),this.win.focus(),this.events.enableBlur()),this.events.trigger("destroy",[],!0),this.events.trigger("shared.destroy",void 0,!0),0===this.shared.count){for(var n in this.shared)this.shared.hasOwnProperty(n)&&(this.shared[n],e.FE.SHARED[this.sid][n]=null);delete e.FE.SHARED[this.sid]}this.$oel.parents("form").off("."+this.id),this.$oel.off("click.popup"),this.$oel.removeData("froala.editor"),this.$oel.off("froalaEditor"),this.core.destroy(t),e.FE.INSTANCES.splice(e.FE.INSTANCES.indexOf(this),1)},e.fn.froalaEditor=function(n){for(var o=[],r=0;r<arguments.length;r++)o.push(arguments[r]);if("string"==typeof n){var i=[];return this.each((function(){var t,r,a=e(this).data("froala.editor");if(!a)return console.warn("Editor should be initialized before calling the "+n+" method.");if(n.indexOf(".")>0&&a[n.split(".")[0]]?(a[n.split(".")[0]]&&(t=a[n.split(".")[0]]),r=n.split(".")[1]):(t=a,r=n.split(".")[0]),!t[r])return e.error("Method "+n+" does not exist in Froala Editor.");var s=t[r].apply(a,o.slice(1));void 0===s?i.push(this):0===i.length&&i.push(s)})),1==i.length?i[0]:i}if("object"==typeof n||!n)return this.each((function(){if(!e(this).data("froala.editor")){new t(this,n)}}))},e.fn.froalaEditor.Constructor=t,e.FroalaEditor=t,e.FE=t}(jQuery),function(e){e.FE.XS=0,e.FE.SM=1,e.FE.MD=2,e.FE.LG=3;e.FE.LinkRegExCommon="[a-z\\u0080-\\u009f\\u00a1-\\uffff0-9-_.]{1,}",e.FE.LinkRegExEnd="((:[0-9]{1,5})|)(((\\/|\\?|#)[a-z\\u00a1-\\uffff0-9@?\\|!^=%&amp;/~+#-\\'*-_{}]*)|())",e.FE.LinkRegExTLD="(("+e.FE.LinkRegExCommon+")(\\.(com|net|org|edu|mil|gov|co|biz|info|me|dev)))",e.FE.LinkRegExHTTP="((ftp|http|https):\\/\\/"+e.FE.LinkRegExCommon+")",e.FE.LinkRegExAuth="((ftp|http|https):\\/\\/[\\u0021-\\uffff]{1,}@"+e.FE.LinkRegExCommon+")",e.FE.LinkRegExWWW="(www\\."+e.FE.LinkRegExCommon+"\\.[a-z0-9-]{2,24})",e.FE.LinkRegEx="("+e.FE.LinkRegExTLD+"|"+e.FE.LinkRegExHTTP+"|"+e.FE.LinkRegExWWW+"|"+e.FE.LinkRegExAuth+")"+e.FE.LinkRegExEnd,e.FE.LinkProtocols=["mailto","tel","sms","notes","data","october"],e.FE.MAIL_REGEX=/.+@.+\..+/i,e.FE.MODULES.helpers=function(t){function n(){var e={},t=function(){var e,t=-1;return"Microsoft Internet Explorer"==navigator.appName?(e=navigator.userAgent,null!==new RegExp("MSIE ([0-9]{1,}[\\.0-9]{0,})").exec(e)&&(t=parseFloat(RegExp.$1))):"Netscape"==navigator.appName&&(e=navigator.userAgent,null!==new RegExp("Trident/.*rv:([0-9]{1,}[\\.0-9]{0,})").exec(e)&&(t=parseFloat(RegExp.$1))),t}();if(t>0)e.msie=!0;else{var n=navigator.userAgent.toLowerCase(),o=/(edge)[ \/]([\w.]+)/.exec(n)||/(chrome)[ \/]([\w.]+)/.exec(n)||/(webkit)[ \/]([\w.]+)/.exec(n)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(n)||/(msie) ([\w.]+)/.exec(n)||n.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(n)||[],r={browser:o[1]||"",version:o[2]||"0"};o[1]&&(e[r.browser]=!0),e.chrome?e.webkit=!0:e.webkit&&(e.safari=!0)}return e.msie&&(e.version=t),e}function o(){return/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&!a()}function r(){return/(Android)/g.test(navigator.userAgent)&&!a()}function i(){return/(Blackberry)/g.test(navigator.userAgent)}function a(){return/(Windows Phone)/gi.test(navigator.userAgent)}function s(e){return parseInt(e,10)||0}var l;var d=null;return{_init:function(){t.browser=n(),function(){function e(e,t){var r=e[t];e[t]=function(e){var t,i=!1,a=!1;if(e&&e.match(o)){e=e.replace(o,""),this.parentNode||(n.appendChild(this),a=!0);var s=this.parentNode;return this.id||(this.id="rootedQuerySelector_id_"+(new Date).getTime(),i=!0),t=r.call(s,"#"+this.id+" "+e),i&&(this.id=""),a&&n.removeChild(this),t}return r.call(this,e)}}var n=t.o_doc.createElement("div");try{n.querySelectorAll(":scope *")}catch(t){var o=/^\s*:scope/gi;e(Element.prototype,"querySelector"),e(Element.prototype,"querySelectorAll"),e(HTMLElement.prototype,"querySelector"),e(HTMLElement.prototype,"querySelectorAll")}}(),Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){var t=this;if(!t)return null;if(!document.documentElement.contains(this))return null;do{if(t.matches(e))return t;t=t.parentElement}while(null!==t);return null})},isIOS:o,isMac:function(){return null==d&&(d=navigator.platform.toUpperCase().indexOf("MAC")>=0),d},isAndroid:r,isBlackberry:i,isWindowsPhone:a,isMobile:function(){return r()||o()||i()},isEmail:function(t){return!/^(https?:|ftps?:|)\/\//i.test(t)&&e.FE.MAIL_REGEX.test(t)},requestAnimationFrame:function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}},getPX:s,screenSize:function(){var t=e('<div class="fr-visibility-helper"></div>').appendTo("body:first");try{var n=s(t.css("margin-left"));return t.remove(),n}catch(t){return e.FE.LG}},isTouch:function(){return"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch},sanitizeURL:function(t){return/^(https?:|ftps?:|)\/\//i.test(t)||/^([A-Za-z]:(\\){1,2}|[A-Za-z]:((\\){1,2}[^\\]+)+)(\\)?$/i.test(t)||new RegExp("^("+e.FE.LinkProtocols.join("|")+"):\\/\\/","i").test(t)?t:t=encodeURIComponent(t).replace(/%23/g,"#").replace(/%2F/g,"/").replace(/%25/g,"%").replace(/mailto%3A/gi,"mailto:").replace(/file%3A/gi,"file:").replace(/sms%3A/gi,"sms:").replace(/tel%3A/gi,"tel:").replace(/notes%3A/gi,"notes:").replace(/data%3Aimage/gi,"data:image").replace(/blob%3A/gi,"blob:").replace(/%3A(\d)/gi,":$1").replace(/webkit-fake-url%3A/gi,"webkit-fake-url:").replace(/%3F/g,"?").replace(/%3D/g,"=").replace(/%26/g,"&").replace(/&amp;/g,"&").replace(/%2C/g,",").replace(/%3B/g,";").replace(/%2B/g,"+").replace(/%40/g,"@").replace(/%5B/g,"[").replace(/%5D/g,"]").replace(/%7B/g,"{").replace(/%7D/g,"}")},isArray:function(e){return e&&!e.propertyIsEnumerable("length")&&"object"==typeof e&&"number"==typeof e.length},RGBToHex:function(e){function t(e){return("0"+parseInt(e,10).toString(16)).slice(-2)}try{return e&&"transparent"!==e?/^#[0-9A-F]{6}$/i.test(e)?e:("#"+t((e=e.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/))[1])+t(e[2])+t(e[3])).toUpperCase():""}catch(e){return null}},HEXtoRGB:function(e){e=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,n,o){return t+t+n+n+o+o}));var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?"rgb("+parseInt(t[1],16)+", "+parseInt(t[2],16)+", "+parseInt(t[3],16)+")":""},isURL:function(t){return!!/^(https?:|ftps?:|)\/\//i.test(t)&&(t=String(t).replace(/</g,"%3C").replace(/>/g,"%3E").replace(/"/g,"%22").replace(/ /g,"%20"),new RegExp("^"+e.FE.LinkRegExHTTP+e.FE.LinkRegExEnd+"$","gi").test(t))},getAlignment:function(n){var o=(n.css("text-align")||"").replace(/-(.*)-/g,"");if(["left","right","justify","center"].indexOf(o)<0){if(!l){var r=e('<div dir="'+("rtl"==t.opts.direction?"rtl":"auto")+'" style="text-align: '+t.$el.css("text-align")+'; position: fixed; left: -3000px;"><span id="s1">.</span><span id="s2">.</span></div>');e("body:first").append(r);var i=r.find("#s1").get(0).getBoundingClientRect().left,a=r.find("#s2").get(0).getBoundingClientRect().left;r.remove(),l=i<a?"left":"right"}o=l}return o},scrollTop:function(){return t.o_win.pageYOffset?t.o_win.pageYOffset:t.o_doc.documentElement&&t.o_doc.documentElement.scrollTop?t.o_doc.documentElement.scrollTop:t.o_doc.body.scrollTop?t.o_doc.body.scrollTop:0},scrollLeft:function(){return t.o_win.pageXOffset?t.o_win.pageXOffset:t.o_doc.documentElement&&t.o_doc.documentElement.scrollLeft?t.o_doc.documentElement.scrollLeft:t.o_doc.body.scrollLeft?t.o_doc.body.scrollLeft:0},isInViewPort:function(e){var t=e.getBoundingClientRect();return(t={top:Math.round(t.top),bottom:Math.round(t.bottom)}).top>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)||t.top<=0&&t.bottom>=(window.innerHeight||document.documentElement.clientHeight)}}}}(jQuery),function(e){e.FE.MODULES.events=function(t){var n,o={};function r(e,t,n){f(e,t,n)}function i(n){if(void 0===n&&(n=!0),!t.$wp)return!1;if(t.helpers.isIOS()){t.$win.get(0).focus();var o=0===t.$win.scrollTop()?1:t.$win.scrollTop();window.scrollTo(0,o)}if(t.core.hasFocus())return!1;if(!t.core.hasFocus()&&n){var r=t.$win.scrollTop();if(t.browser.msie&&t.$box&&t.$box.css("position","fixed"),t.browser.msie&&t.$wp&&t.$wp.css("overflow","visible"),t.browser.msie&&t.$sc&&t.$sc.css("position","fixed"),l(),t.$el.focus(),t.events.trigger("focus"),s(),t.browser.msie&&t.$sc&&t.$sc.css("position",""),t.browser.msie&&t.$box&&t.$box.css("position",""),t.browser.msie&&t.$wp&&t.$wp.css("overflow","auto"),r!=t.$win.scrollTop()&&t.$win.scrollTop(r),!t.selection.info(t.el).atStart)return!1}if(!t.core.hasFocus()||t.$el.find(".fr-marker").length>0)return!1;if(t.selection.info(t.el).atStart&&t.selection.isCollapsed()&&null!=t.html.defaultTag()){var i=t.markers.insert();if(i&&!t.node.blockParent(i)){e(i).remove();var a=t.$el.find(t.html.blockTagsQuery()).get(0);a&&(e(a).prepend(e.FE.MARKERS),t.selection.restore())}else i&&e(i).remove()}}var a=!1;function s(){n=!0}function l(){n=!1}function d(){return n}function c(e,n,r){var i,a=e.split(" ");if(a.length>1){for(var s=0;s<a.length;s++)c(a[s],n,r);return!0}void 0===r&&(r=!1),i=0!==e.indexOf("shared.")?o[e]=o[e]||[]:t.shared._events[e]=t.shared._events[e]||[],r?i.unshift(n):i.push(n)}var p=[];function f(e,n,o,r,i){"function"==typeof o&&(i=r,r=o,o=!1);var a=i?t.shared.$_events:p,s=i?t.sid:t.id;r=function(e){return function(){if(!t.destroying)return e.apply(this,arguments)}}(r),o?e.on(n.split(" ").join(".ed"+s+" ")+".ed"+s,o,r):e.on(n.split(" ").join(".ed"+s+" ")+".ed"+s,r),a.push([e,n.split(" ").join(".ed"+s+" ")+".ed"+s])}function h(e){for(var t=0;t<e.length;t++)e[t][0].off(e[t][1])}function u(n,r,i){if(!t.edit.isDisabled()||i){var a,s;if(0!==n.indexOf("shared."))a=o[n];else{if(t.shared.count>0)return!1;a=t.shared._events[n]}if(a)for(var l=0;l<a.length;l++)if(!1===(s=a[l].apply(t,r)))return!1;return!1!==(s=t.$oel.triggerHandler("froalaEditor."+n,e.merge([t],r||[])))&&s}}function g(){for(var e in o)o.hasOwnProperty(e)&&delete o[e]}function m(){for(var e in t.shared._events)t.shared._events.hasOwnProperty(e)&&delete t.shared._events[e]}return{_init:function(){t.shared.$_events=t.shared.$_events||[],t.shared._events={},t.helpers.isMobile()?(t._mousedown="touchstart",t._mouseup="touchend",t._move="touchmove",t._mousemove="touchmove"):(t._mousedown="mousedown",t._mouseup="mouseup",t._move="",t._mousemove="mousemove"),r(t.$el,"click mouseup mousedown touchstart touchend dragenter dragover dragleave dragend drop dragstart",(function(e){u(e.type,[e])})),c("mousedown",(function(){for(var n=0;n<e.FE.INSTANCES.length;n++)e.FE.INSTANCES[n]!=t&&e.FE.INSTANCES[n].popups&&e.FE.INSTANCES[n].popups.areVisible()&&e.FE.INSTANCES[n].$el.find(".fr-marker").remove()})),r(t.$win,t._mousedown,(function(e){u("window.mousedown",[e]),s()})),r(t.$win,t._mouseup,(function(e){u("window.mouseup",[e])})),r(t.$win,"cut copy keydown keyup touchmove touchend",(function(e){u("window."+e.type,[e])})),r(t.$doc,"dragend drop",(function(e){u("document."+e.type,[e])})),r(t.$el,"keydown keypress keyup input",(function(e){u(e.type,[e])})),r(t.$el,"focus",(function(e){d()&&(i(!1),!1===a&&u(e.type,[e]))})),r(t.$el,"blur",(function(e){d()&&!0===a&&(u(e.type,[e]),s())})),f(t.$el,"mousedown",'[contenteditable="true"]',(function(){l(),t.$el.blur()})),c("focus",(function(){a=!0})),c("blur",(function(){a=!1})),s(),r(t.$el,"cut copy paste beforepaste",(function(e){u(e.type,[e])})),c("destroy",g),c("shared.destroy",m)},on:c,trigger:u,bindClick:function(n,o,r){f(n,t._mousedown,o,(function(n){t.edit.isDisabled()||function(n){var o=e(n.currentTarget);t.edit.isDisabled()||t.node.hasClass(o.get(0),"fr-disabled")?n.preventDefault():"mousedown"===n.type&&1!==n.which||(t.helpers.isMobile()||n.preventDefault(),(t.helpers.isAndroid()||t.helpers.isWindowsPhone())&&0===o.parents(".fr-dropdown-menu").length&&(n.preventDefault(),n.stopPropagation()),o.addClass("fr-selected"),t.events.trigger("commands.mousedown",[o]))}(n)}),!0),f(n,t._mouseup+" "+t._move,o,(function(n){t.edit.isDisabled()||function(n,o){var r=e(n.currentTarget);if(t.edit.isDisabled()||t.node.hasClass(r.get(0),"fr-disabled"))return n.preventDefault(),!1;if("mouseup"===n.type&&1!==n.which)return!0;if(!t.node.hasClass(r.get(0),"fr-selected"))return!0;if("touchmove"!=n.type){if(n.stopPropagation(),n.stopImmediatePropagation(),n.preventDefault(),!t.node.hasClass(r.get(0),"fr-selected"))return t.button.getButtons(".fr-selected",!0).removeClass("fr-selected"),!1;if(t.button.getButtons(".fr-selected",!0).removeClass("fr-selected"),r.data("dragging")||r.attr("disabled"))return r.removeData("dragging"),!1;var i=r.data("timeout");i&&(clearTimeout(i),r.removeData("timeout")),o.apply(t,[n])}else r.data("timeout")||r.data("timeout",setTimeout((function(){r.data("dragging",!0)}),100))}(n,r)}),!0),f(n,"mousedown click mouseup",o,(function(e){t.edit.isDisabled()||e.stopPropagation()}),!0),c("window.mouseup",(function(){t.edit.isDisabled()||(n.find(o).removeClass("fr-selected"),s())})),f(n,"mouseenter",o,(function(){e(this).hasClass("fr-options")&&e(this).prev(".fr-btn").addClass("fr-btn-hover"),e(this).next(".fr-btn").hasClass("fr-options")&&e(this).next(".fr-btn").addClass("fr-btn-hover")})),f(n,"mouseleave",o,(function(){e(this).hasClass("fr-options")&&e(this).prev(".fr-btn").removeClass("fr-btn-hover"),e(this).next(".fr-btn").hasClass("fr-options")&&e(this).next(".fr-btn").removeClass("fr-btn-hover")}))},disableBlur:l,enableBlur:s,blurActive:d,focus:i,chainTrigger:function(n,r,i){if(!t.edit.isDisabled()||i){var a,s;if(0!==n.indexOf("shared."))a=o[n];else{if(t.shared.count>0)return!1;a=t.shared._events[n]}if(a)for(var l=0;l<a.length;l++)void 0!==(s=a[l].apply(t,[r]))&&(r=s);return void 0!==(s=t.$oel.triggerHandler("froalaEditor."+n,e.merge([t],[r])))&&(r=s),r}},$on:f,$off:function(){h(p),p=[],0===t.shared.count&&(h(t.shared.$_events),t.shared.$_events=[])}}}}(jQuery),function(e){e.FE.MODULES.node=function(t){function n(e){return e&&"IFRAME"!=e.tagName?Array.prototype.slice.call(e.childNodes||[]):[]}function o(t){return!!t&&(t.nodeType==Node.ELEMENT_NODE&&e.FE.BLOCK_TAGS.indexOf(t.tagName.toLowerCase())>=0)}function r(e){var t={},n=e.attributes;if(n)for(var o=0;o<n.length;o++){var r=n[o];t[r.nodeName]=r.value}return t}function i(e){for(var t="",n=r(e),o=Object.keys(n).sort(),i=0;i<o.length;i++){var a=o[i],s=n[a];s.indexOf("'")<0&&s.indexOf('"')>=0?t+=" "+a+"='"+s+"'":s.indexOf('"')>=0&&s.indexOf("'")>=0?t+=" "+a+'="'+(s=s.replace(/"/g,"&quot;"))+'"':t+=" "+a+'="'+s+'"'}return t}function a(e){return e===t.el}return{isBlock:o,isEmpty:function(r,i){if(!r)return!0;if(r.querySelector("table"))return!1;var a=n(r);1==a.length&&o(a[0])&&(a=n(a[0]));for(var s=!1,l=0;l<a.length;l++){var d=a[l];if((!i||!t.node.hasClass(d,"fr-marker"))&&(d.nodeType!=Node.TEXT_NODE||0!==d.textContent.length)){if("BR"!=d.tagName&&(d.textContent||"").replace(/\u200B/gi,"").replace(/\n/g,"").length>0)return!1;if(s)return!1;"BR"==d.tagName&&(s=!0)}}return!(r.querySelectorAll(e.FE.VOID_ELEMENTS.join(",")).length-r.querySelectorAll("br").length)&&(!r.querySelector(t.opts.htmlAllowedEmptyTags.join(":not(.fr-marker),")+":not(.fr-marker)")&&(!(r.querySelectorAll(e.FE.BLOCK_TAGS.join(",")).length>1)&&!r.querySelector(t.opts.htmlDoNotWrapTags.join(":not(.fr-marker),")+":not(.fr-marker)")))},blockParent:function(e){for(;e&&e.parentNode!==t.el&&(!e.parentNode||!t.node.hasClass(e.parentNode,"fr-inner"));)if(o(e=e.parentNode))return e;return null},deepestParent:function(n,r,i){if(void 0===r&&(r=[]),void 0===i&&(i=!0),r.push(t.el),r.indexOf(n.parentNode)>=0||n.parentNode&&t.node.hasClass(n.parentNode,"fr-inner")||n.parentNode&&e.FE.SIMPLE_ENTER_TAGS.indexOf(n.parentNode.tagName)>=0&&i)return null;for(;r.indexOf(n.parentNode)<0&&n.parentNode&&!t.node.hasClass(n.parentNode,"fr-inner")&&(e.FE.SIMPLE_ENTER_TAGS.indexOf(n.parentNode.tagName)<0||!i)&&(!o(n)||!o(n.parentNode)||!i);)n=n.parentNode;return n},rawAttributes:r,attributes:i,clearAttributes:function(e){for(var t=e.attributes,n=t.length-1;n>=0;n--){var o=t[n];e.removeAttribute(o.nodeName)}},openTagString:function(e){return"<"+e.tagName.toLowerCase()+i(e)+">"},closeTagString:function(e){return"</"+e.tagName.toLowerCase()+">"},isFirstSibling:function e(n,o){void 0===o&&(o=!0);for(var r=n.previousSibling;r&&o&&t.node.hasClass(r,"fr-marker");)r=r.previousSibling;return!r||r.nodeType==Node.TEXT_NODE&&""===r.textContent&&e(r)},isLastSibling:function e(n,o){void 0===o&&(o=!0);for(var r=n.nextSibling;r&&o&&t.node.hasClass(r,"fr-marker");)r=r.nextSibling;return!r||r.nodeType==Node.TEXT_NODE&&""===r.textContent&&e(r)},isList:function(e){return!!e&&["UL","OL"].indexOf(e.tagName)>=0},isLink:function(e){return!!e&&(e.nodeType==Node.ELEMENT_NODE&&"a"==e.tagName.toLowerCase())},isElement:a,contents:n,isVoid:function(t){return t&&t.nodeType==Node.ELEMENT_NODE&&e.FE.VOID_ELEMENTS.indexOf((t.tagName||"").toLowerCase())>=0},hasFocus:function(e){return e===t.doc.activeElement&&(!t.doc.hasFocus||t.doc.hasFocus())&&!!(a(e)||e.type||e.href||~e.tabIndex)},isEditable:function(e){return(!e.getAttribute||"false"!=e.getAttribute("contenteditable"))&&["STYLE","SCRIPT"].indexOf(e.tagName)<0},isDeletable:function(e){return e&&e.nodeType==Node.ELEMENT_NODE&&e.getAttribute("class")&&(e.getAttribute("class")||"").indexOf("fr-deletable")>=0},hasClass:function(t,n){return t instanceof e&&(t=t.get(0)),t&&t.classList&&t.classList.contains(n)},filter:function(e){return t.browser.msie?e:{acceptNode:e}}}}}(jQuery),function(e){e.FE.INVISIBLE_SPACE="&#8203;",e.FE.START_MARKER='<span class="fr-marker" data-id="0" data-type="true" style="display: none; line-height: 0;">'+e.FE.INVISIBLE_SPACE+"</span>",e.FE.END_MARKER='<span class="fr-marker" data-id="0" data-type="false" style="display: none; line-height: 0;">'+e.FE.INVISIBLE_SPACE+"</span>",e.FE.MARKERS=e.FE.START_MARKER+e.FE.END_MARKER,e.FE.MODULES.markers=function(t){function n(){if(!t.$wp)return null;try{var n=t.selection.ranges(0),o=n.commonAncestorContainer;if(t.core.isEmpty())return t.selection.setAtStart(t.el),t.$el.find(".fr-marker:first").replaceWith('<span class="fr-single-marker" style="display: none; line-height: 0;">'+e.FE.INVISIBLE_SPACE+"</span>"),t.$el.find(".fr-marker").remove(),t.$el.find(".fr-single-marker").removeClass("fr-single-marker").addClass("fr-marker").get(0);if(o!=t.el&&0===t.$el.find(o).length)return null;var r=n.cloneRange(),i=n.cloneRange();r.collapse(!0);var a=e('<span class="fr-marker" style="display: none; line-height: 0;">'+e.FE.INVISIBLE_SPACE+"</span>",t.doc)[0];if(r.insertNode(a),a=t.$el.find("span.fr-marker").get(0)){for(var s=a.nextSibling;s&&s.nodeType===Node.TEXT_NODE&&0===s.textContent.length;)e(s).remove(),s=t.$el.find("span.fr-marker").get(0).nextSibling;return t.selection.clear(),t.selection.get().addRange(i),a}return null}catch(e){console.warn("MARKER",e)}}function o(){t.$el.find(".fr-marker").remove()}return{place:function(n,o,r){var i,a,s;try{var l=n.cloneRange();if(l.collapse(o),l.insertNode(function(n,o){return e('<span class="fr-marker" data-id="'+o+'" data-type="'+n+'" style="display: '+(t.browser.safari?"none":"inline-block")+'; line-height: 0;">'+e.FE.INVISIBLE_SPACE+"</span>",t.doc)[0]}(o,r)),!0===o)for(s=(i=t.$el.find('span.fr-marker[data-type="true"][data-id="'+r+'"]').get(0)).nextSibling;s&&s.nodeType===Node.TEXT_NODE&&0===s.textContent.length;)e(s).remove(),s=i.nextSibling;if(!0===o&&!n.collapsed){for(;!t.node.isElement(i.parentNode)&&!s;)e(i.parentNode).after(i),s=i.nextSibling;if(s&&s.nodeType===Node.ELEMENT_NODE&&t.node.isBlock(s)&&"HR"!==s.tagName){a=[s];do{s=a[0],a=t.node.contents(s)}while(a[0]&&t.node.isBlock(a[0]));e(s).prepend(e(i))}}if(!1===o&&!n.collapsed){if((s=(i=t.$el.find('span.fr-marker[data-type="false"][data-id="'+r+'"]').get(0)).previousSibling)&&s.nodeType===Node.ELEMENT_NODE&&t.node.isBlock(s)&&"HR"!==s.tagName){a=[s];do{s=a[a.length-1],a=t.node.contents(s)}while(a[a.length-1]&&t.node.isBlock(a[a.length-1]));e(s).append(e(i))}i.parentNode&&["TD","TH"].indexOf(i.parentNode.tagName)>=0&&i.parentNode.previousSibling&&!i.previousSibling&&e(i.parentNode.previousSibling).append(i)}var d=t.$el.find('span.fr-marker[data-type="'+o+'"][data-id="'+r+'"]').get(0);return d&&(d.style.display="none"),d}catch(e){return null}},insert:n,split:function(){t.selection.isCollapsed()||t.selection.remove();var o=t.$el.find(".fr-marker").get(0);if(null==o&&(o=n()),null==o)return null;var r=t.node.deepestParent(o);if(r||(r=t.node.blockParent(o))&&"LI"!=r.tagName&&(r=null),r)if(t.node.isBlock(r)&&t.node.isEmpty(r))"LI"!=r.tagName||r.parentNode.firstElementChild!=r||t.node.isEmpty(r.parentNode)?e(r).replaceWith('<span class="fr-marker"></span>'):e(r).append('<span class="fr-marker"></span>');else if(t.cursor.isAtStart(o,r))e(r).before('<span class="fr-marker"></span>'),e(o).remove();else if(t.cursor.isAtEnd(o,r))e(r).after('<span class="fr-marker"></span>'),e(o).remove();else{var i=o,a="",s="";do{i=i.parentNode,a+=t.node.closeTagString(i),s=t.node.openTagString(i)+s}while(i!=r);e(o).replaceWith('<span id="fr-break"></span>');var l=t.node.openTagString(r)+e(r).html()+t.node.closeTagString(r);l=l.replace(/<span id="fr-break"><\/span>/g,a+'<span class="fr-marker"></span>'+s),e(r).replaceWith(l)}return t.$el.find(".fr-marker").get(0)},insertAtPoint:function(e){var r,i=e.clientX,a=e.clientY;o();var s=null;if(void 0!==t.doc.caretPositionFromPoint?(r=t.doc.caretPositionFromPoint(i,a),(s=t.doc.createRange()).setStart(r.offsetNode,r.offset),s.setEnd(r.offsetNode,r.offset)):void 0!==t.doc.caretRangeFromPoint&&(r=t.doc.caretRangeFromPoint(i,a),(s=t.doc.createRange()).setStart(r.startContainer,r.startOffset),s.setEnd(r.startContainer,r.startOffset)),null!==s&&void 0!==t.win.getSelection){var l=t.win.getSelection();l.removeAllRanges(),l.addRange(s)}else if(void 0!==t.doc.body.createTextRange)try{(s=t.doc.body.createTextRange()).moveToPoint(i,a);var d=s.duplicate();d.moveToPoint(i,a),s.setEndPoint("EndToEnd",d),s.select()}catch(e){return!1}n()},remove:o}}}(jQuery),function(e){e.FE.MODULES.selection=function(t){function n(){var e="";return t.win.getSelection?e=t.win.getSelection():t.doc.getSelection?e=t.doc.getSelection():t.doc.selection&&(e=t.doc.selection.createRange().text),e.toString()}function o(){return t.win.getSelection?t.win.getSelection():t.doc.getSelection?t.doc.getSelection():t.doc.selection.createRange()}function r(e){var n=o(),r=[];if(n&&n.getRangeAt&&n.rangeCount){r=[];for(var i=0;i<n.rangeCount;i++)r.push(n.getRangeAt(i))}else r=t.doc.createRange?[t.doc.createRange()]:[];return void 0!==e?r[e]:r}function i(){var e=o();try{e.removeAllRanges?e.removeAllRanges():e.empty?e.empty():e.clear&&e.clear()}catch(e){}}function a(e,t){var n=e;return n.nodeType==Node.ELEMENT_NODE&&n.childNodes.length>0&&n.childNodes[t]&&(n=n.childNodes[t]),n.nodeType==Node.TEXT_NODE&&(n=n.parentNode),n}function s(){if(t.$wp){t.markers.remove();var n,o,i=r(),a=[];for(o=0;o<i.length;o++)if(i[o].startContainer!==t.doc||t.browser.msie){var s=(n=i[o]).collapsed,l=t.markers.place(n,!0,o),d=t.markers.place(n,!1,o);if(void 0!==l&&l||!s||(e(".fr-marker").remove(),t.selection.setAtEnd(t.el)),t.el.normalize(),t.browser.safari&&!s)try{(n=t.doc.createRange()).setStartAfter(l),n.setEndBefore(d),a.push(n)}catch(e){}}if(t.browser.safari&&a.length)for(t.selection.clear(),o=0;o<a.length;o++)t.selection.get().addRange(a[o])}}function l(){var n,r=t.el.querySelectorAll('.fr-marker[data-type="true"]');if(!t.$wp)return t.markers.remove(),!1;if(0===r.length)return!1;if(t.browser.msie||t.browser.edge)for(n=0;n<r.length;n++)r[n].style.display="inline-block";t.core.hasFocus()||t.browser.msie||t.browser.webkit||t.$el.focus(),i();var a=o();for(n=0;n<r.length;n++){var s=e(r[n]).data("id"),l=r[n],c=t.doc.createRange(),p=t.$el.find('.fr-marker[data-type="false"][data-id="'+s+'"]');(t.browser.msie||t.browser.edge)&&p.css("display","inline-block");var f=null;if(p.length>0){p=p[0];try{for(var h,u=!1,g=l.nextSibling;g&&g.nodeType==Node.TEXT_NODE&&0===g.textContent.length;)h=g,g=g.nextSibling,e(h).remove();for(var m,v,b=p.nextSibling;b&&b.nodeType==Node.TEXT_NODE&&0===b.textContent.length;)h=b,b=b.nextSibling,e(h).remove();if(l.nextSibling==p||p.nextSibling==l){for(var E=l.nextSibling==p?l:p,y=E==l?p:l,w=E.previousSibling;w&&w.nodeType==Node.TEXT_NODE&&0===w.length;)h=w,w=w.previousSibling,e(h).remove();if(w&&w.nodeType==Node.TEXT_NODE)for(;w&&w.previousSibling&&w.previousSibling.nodeType==Node.TEXT_NODE;)w.previousSibling.textContent=w.previousSibling.textContent+w.textContent,w=w.previousSibling,e(w.nextSibling).remove();for(var S=y.nextSibling;S&&S.nodeType==Node.TEXT_NODE&&0===S.length;)h=S,S=S.nextSibling,e(h).remove();if(S&&S.nodeType==Node.TEXT_NODE)for(;S&&S.nextSibling&&S.nextSibling.nodeType==Node.TEXT_NODE;)S.nextSibling.textContent=S.textContent+S.nextSibling.textContent,S=S.nextSibling,e(S.previousSibling).remove();if(w&&(t.node.isVoid(w)||t.node.isBlock(w))&&(w=null),S&&(t.node.isVoid(S)||t.node.isBlock(S))&&(S=null),w&&S&&w.nodeType==Node.TEXT_NODE&&S.nodeType==Node.TEXT_NODE){e(l).remove(),e(p).remove();var C=w.textContent.length;w.textContent=w.textContent+S.textContent,e(S).remove(),t.opts.htmlUntouched||t.spaces.normalize(w),c.setStart(w,C),c.setEnd(w,C),u=!0}else!w&&S&&S.nodeType==Node.TEXT_NODE?(e(l).remove(),e(p).remove(),t.opts.htmlUntouched||t.spaces.normalize(S),f=e(t.doc.createTextNode("​")),e(S).before(f),c.setStart(S,0),c.setEnd(S,0),u=!0):!S&&w&&w.nodeType==Node.TEXT_NODE&&(e(l).remove(),e(p).remove(),t.opts.htmlUntouched||t.spaces.normalize(w),f=e(t.doc.createTextNode("​")),e(w).after(f),c.setStart(w,w.textContent.length),c.setEnd(w,w.textContent.length),u=!0)}if(!u)(t.browser.chrome||t.browser.edge)&&l.nextSibling==p?(m=d(p,c,!0)||c.setStartAfter(p),v=d(l,c,!1)||c.setEndBefore(l)):(l.previousSibling==p&&(p=(l=p).nextSibling),p.nextSibling&&"BR"===p.nextSibling.tagName||!p.nextSibling&&t.node.isBlock(l.previousSibling)||l.previousSibling&&"BR"==l.previousSibling.tagName||(l.style.display="inline",p.style.display="inline",f=e(t.doc.createTextNode("​"))),m=d(l,c,!0)||e(l).before(f)&&c.setStartBefore(l),v=d(p,c,!1)||e(p).after(f)&&c.setEndAfter(p)),"function"==typeof m&&m(),"function"==typeof v&&v()}catch(e){console.warn("RESTORE RANGE",e)}}f&&f.remove();try{a.addRange(c)}catch(e){console.warn("ADD RANGE",e)}}t.markers.remove()}function d(n,o,r){var i,a=n.previousSibling,s=n.nextSibling;return a&&s&&a.nodeType==Node.TEXT_NODE&&s.nodeType==Node.TEXT_NODE?(i=a.textContent.length,r?(s.textContent=a.textContent+s.textContent,e(a).remove(),e(n).remove(),t.opts.htmlUntouched||t.spaces.normalize(s),function(){o.setStart(s,i)}):(a.textContent=a.textContent+s.textContent,e(s).remove(),e(n).remove(),t.opts.htmlUntouched||t.spaces.normalize(a),function(){o.setEnd(a,i)})):a&&!s&&a.nodeType==Node.TEXT_NODE?(i=a.textContent.length,r?(t.opts.htmlUntouched||t.spaces.normalize(a),function(){o.setStart(a,i)}):(t.opts.htmlUntouched||t.spaces.normalize(a),function(){o.setEnd(a,i)})):!(!s||a||s.nodeType!=Node.TEXT_NODE)&&(r?(t.opts.htmlUntouched||t.spaces.normalize(s),function(){o.setStart(s,0)}):(t.opts.htmlUntouched||t.spaces.normalize(s),function(){o.setEnd(s,0)}))}function c(){for(var e=r(),t=0;t<e.length;t++)if(!e[t].collapsed)return!1;return!0}function p(e){var n,o,r=!1,i=!1;if(t.win.getSelection){var a=t.win.getSelection();a.rangeCount&&((o=(n=a.getRangeAt(0)).cloneRange()).selectNodeContents(e),o.setEnd(n.startContainer,n.startOffset),r=""===o.toString(),o.selectNodeContents(e),o.setStart(n.endContainer,n.endOffset),i=""===o.toString())}else t.doc.selection&&"Control"!=t.doc.selection.type&&((o=(n=t.doc.selection.createRange()).duplicate()).moveToElementText(e),o.setEndPoint("EndToStart",n),r=""===o.text,o.moveToElementText(e),o.setEndPoint("StartToEnd",n),i=""===o.text);return{atStart:r,atEnd:i}}function f(n,o){void 0===o&&(o=!0);var r=e(n).html();r&&r.replace(/\u200b/g,"").length!=r.length&&e(n).html(r.replace(/\u200b/g,""));for(var i=t.node.contents(n),a=0;a<i.length;a++)i[a].nodeType!=Node.ELEMENT_NODE?e(i[a]).remove():(f(i[a],0===a),0===a&&(o=!1));n.nodeType==Node.TEXT_NODE?e(n).replaceWith('<span data-first="true" data-text="true"></span>'):o&&e(n).attr("data-first",!0)}function h(){return 0===e(this).find("fr-inner").length}function u(n,o){var r=t.node.contents(n.get(0));["TD","TH"].indexOf(n.get(0).tagName)>=0&&1==n.find(".fr-marker").length&&t.node.hasClass(r[0],"fr-marker")&&n.attr("data-del-cell",!0);for(var i=0;i<r.length;i++){var a=r[i];t.node.hasClass(a,"fr-marker")?o=(o+1)%2:o?e(a).find(".fr-marker").length>0?o=u(e(a),o):["TD","TH"].indexOf(a.tagName)<0&&!t.node.hasClass(a,"fr-inner")?!t.opts.keepFormatOnDelete||t.$el.find("[data-first]").length>0||t.node.isVoid(a)?e(a).remove():f(a):t.node.hasClass(a,"fr-inner")?0===e(a).find(".fr-inner").length?e(a).html("<br>"):e(a).find(".fr-inner").filter(h).html("<br>"):(e(a).empty(),e(a).attr("data-del-cell",!0)):e(a).find(".fr-marker").length>0&&(o=u(e(a),o))}return o}function g(){try{if(!t.$wp)return!1;for(var e=r(0).commonAncestorContainer;e&&!t.node.isElement(e);)e=e.parentNode;return!!t.node.isElement(e)}catch(e){return!1}}function m(n,o){if(!n||n.getElementsByClassName("fr-marker").length>0)return!1;for(var r=n.firstChild;r&&(t.node.isBlock(r)||o&&!t.node.isVoid(r)&&r.nodeType==Node.ELEMENT_NODE);)n=r,r=r.firstChild;n.innerHTML=e.FE.MARKERS+n.innerHTML}function v(n,o){if(!n||n.getElementsByClassName("fr-marker").length>0)return!1;for(var r=n.lastChild;r&&(t.node.isBlock(r)||o&&!t.node.isVoid(r)&&r.nodeType==Node.ELEMENT_NODE);)n=r,r=r.lastChild;var i=t.doc.createElement("SPAN");for(i.setAttribute("id","fr-sel-markers"),i.innerHTML=e.FE.MARKERS;n.parentNode&&t.opts.htmlAllowedEmptyTags&&t.opts.htmlAllowedEmptyTags.indexOf(n.tagName.toLowerCase())>=0;)n=n.parentNode;n.appendChild(i);var a=n.querySelector("#fr-sel-markers");a.outerHTML=a.innerHTML}return{text:n,get:o,ranges:r,clear:i,element:function(){var i=o();try{if(i.rangeCount){var a,s=r(0),l=s.startContainer;if(t.node.isElement(l)&&0===s.startOffset&&l.childNodes.length)for(;l.childNodes.length&&l.childNodes[0].nodeType===Node.ELEMENT_NODE;)l=l.childNodes[0];if(l.nodeType==Node.TEXT_NODE&&s.startOffset==(l.textContent||"").length&&l.nextSibling&&(l=l.nextSibling),l.nodeType==Node.ELEMENT_NODE){var d=!1;if(l.childNodes.length>0&&l.childNodes[s.startOffset]){for(a=l.childNodes[s.startOffset];a&&a.nodeType==Node.TEXT_NODE&&0===a.textContent.length;)a=a.nextSibling;if(a&&a.textContent.replace(/\u200B/g,"")===n().replace(/\u200B/g,"")&&(l=a,d=!0),!d&&l.childNodes.length>1&&s.startOffset>0&&l.childNodes[s.startOffset-1]){for(a=l.childNodes[s.startOffset-1];a&&a.nodeType==Node.TEXT_NODE&&0===a.textContent.length;)a=a.nextSibling;a&&a.textContent.replace(/\u200B/g,"")===n().replace(/\u200B/g,"")&&(l=a,d=!0)}}else!s.collapsed&&l.nextSibling&&l.nextSibling.nodeType==Node.ELEMENT_NODE&&(a=l.nextSibling)&&a.textContent.replace(/\u200B/g,"")===n().replace(/\u200B/g,"")&&(l=a,d=!0);!d&&l.childNodes.length>0&&e(l.childNodes[0]).text().replace(/\u200B/g,"")===n().replace(/\u200B/g,"")&&["BR","IMG","HR"].indexOf(l.childNodes[0].tagName)<0&&(l=l.childNodes[0])}for(;l.nodeType!=Node.ELEMENT_NODE&&l.parentNode;)l=l.parentNode;for(var c=l;c&&"HTML"!=c.tagName;){if(c==t.el)return l;c=e(c).parent()[0]}}}catch(e){}return t.el},endElement:function(){var i=o();try{if(i.rangeCount){var a,s=r(0),l=s.endContainer;if(l.nodeType==Node.ELEMENT_NODE){var d=!1;l.childNodes.length>0&&l.childNodes[s.endOffset]&&e(l.childNodes[s.endOffset]).text()===n()?(l=l.childNodes[s.endOffset],d=!0):!s.collapsed&&l.previousSibling&&l.previousSibling.nodeType==Node.ELEMENT_NODE?(a=l.previousSibling)&&a.textContent.replace(/\u200B/g,"")===n().replace(/\u200B/g,"")&&(l=a,d=!0):!s.collapsed&&l.childNodes.length>0&&l.childNodes[s.endOffset]&&(a=l.childNodes[s.endOffset].previousSibling).nodeType==Node.ELEMENT_NODE&&a&&a.textContent.replace(/\u200B/g,"")===n().replace(/\u200B/g,"")&&(l=a,d=!0),!d&&l.childNodes.length>0&&e(l.childNodes[l.childNodes.length-1]).text()===n()&&["BR","IMG","HR"].indexOf(l.childNodes[l.childNodes.length-1].tagName)<0&&(l=l.childNodes[l.childNodes.length-1])}for(l.nodeType==Node.TEXT_NODE&&0===s.endOffset&&l.previousSibling&&l.previousSibling.nodeType==Node.ELEMENT_NODE&&(l=l.previousSibling);l.nodeType!=Node.ELEMENT_NODE&&l.parentNode;)l=l.parentNode;for(var c=l;c&&"HTML"!=c.tagName;){if(c==t.el)return l;c=e(c).parent()[0]}}}catch(e){}return t.el},save:s,restore:l,isCollapsed:c,isFull:function(){if(c())return!1;t.selection.save();var n,o=t.el.querySelectorAll("td, th, img, br");for(n=0;n<o.length;n++)o[n].nextSibling&&(o[n].innerHTML='<span class="fr-mk">'+e.FE.INVISIBLE_SPACE+"</span>"+o[n].innerHTML);var r=!1,i=p(t.el);for(i.atStart&&i.atEnd&&(r=!0),o=t.el.querySelectorAll(".fr-mk"),n=0;n<o.length;n++)o[n].parentNode.removeChild(o[n]);return t.selection.restore(),r},inEditor:g,remove:function(){if(c())return!0;var n;s();var o=function(t){for(var n=t.previousSibling;n&&n.nodeType==Node.TEXT_NODE&&0===n.textContent.length;){var o=n;n=n.previousSibling,e(o).remove()}return n},r=function(t){for(var n=t.nextSibling;n&&n.nodeType==Node.TEXT_NODE&&0===n.textContent.length;){var o=n;n=n.nextSibling,e(o).remove()}return n},i=t.$el.find('.fr-marker[data-type="true"]');for(n=0;n<i.length;n++)for(var a=i[n];!(o(a)||t.node.isBlock(a.parentNode)||t.$el.is(a.parentNode)||t.node.hasClass(a.parentNode,"fr-inner"));)e(a.parentNode).before(a);var d=t.$el.find('.fr-marker[data-type="false"]');for(n=0;n<d.length;n++){for(var p=d[n];!(r(p)||t.node.isBlock(p.parentNode)||t.$el.is(p.parentNode)||t.node.hasClass(p.parentNode,"fr-inner"));)e(p.parentNode).after(p);p.parentNode&&t.node.isBlock(p.parentNode)&&t.node.isEmpty(p.parentNode)&&!t.$el.is(p.parentNode)&&!t.node.hasClass(p.parentNode,"fr-inner")&&t.opts.keepFormatOnDelete&&e(p.parentNode).after(p)}if(function(){for(var n=t.$el.find(".fr-marker"),o=0;o<n.length;o++)if(e(n[o]).parentsUntil('.fr-element, [contenteditable="true"]','[contenteditable="false"]').length)return!1;return!0}()){u(t.$el,0);var f=t.$el.find('[data-first="true"]');if(f.length)t.$el.find(".fr-marker").remove(),f.append(e.FE.INVISIBLE_SPACE+e.FE.MARKERS).removeAttr("data-first"),f.attr("data-text")&&f.replaceWith(f.html());else for(t.$el.find("table").filter((function(){return e(this).find("[data-del-cell]").length>0&&e(this).find("[data-del-cell]").length==e(this).find("td, th").length})).remove(),t.$el.find("[data-del-cell]").removeAttr("data-del-cell"),i=t.$el.find('.fr-marker[data-type="true"]'),n=0;n<i.length;n++){var h=i[n],g=h.nextSibling,m=t.$el.find('.fr-marker[data-type="false"][data-id="'+e(h).data("id")+'"]').get(0);if(m){if(h&&(!g||g!=m)){var v=t.node.blockParent(h),b=t.node.blockParent(m),E=!1,y=!1;if(v&&["UL","OL"].indexOf(v.tagName)>=0&&(v=null,E=!0),b&&["UL","OL"].indexOf(b.tagName)>=0&&(b=null,y=!0),e(h).after(m),v!=b)if(null!=v||E)if(null!=b||y||0!==e(v).parentsUntil(t.$el,"table").length)v&&b&&0===e(v).parentsUntil(t.$el,"table").length&&0===e(b).parentsUntil(t.$el,"table").length&&0===e(v).find(b).length&&0===e(b).find(v).length&&(e(v).append(e(b).html()),e(b).remove());else{for(g=v;!g.nextSibling&&g.parentNode!=t.el;)g=g.parentNode;for(g=g.nextSibling;g&&"BR"!=g.tagName;){var w=g.nextSibling;e(v).append(g),g=w}g&&"BR"==g.tagName&&e(g).remove()}else{var S=t.node.deepestParent(h);S?(e(S).after(e(b).html()),e(b).remove()):0===e(b).parentsUntil(t.$el,"table").length&&(e(h).next().after(e(b).html()),e(b).remove())}}}else m=e(h).clone().attr("data-type",!1),e(h).after(m)}}t.$el.find("li:empty").remove(),t.opts.keepFormatOnDelete||t.html.fillEmptyBlocks(),t.html.cleanEmptyTags(!0),t.opts.htmlUntouched||(t.clean.lists(),t.$el.find("li:empty").append("<br>"),t.spaces.normalize());var C=t.$el.find(".fr-marker:last").get(0),_=t.$el.find(".fr-marker:first").get(0);void 0!==C&&void 0!==_&&!C.nextSibling&&_.previousSibling&&"BR"==_.previousSibling.tagName&&t.node.isElement(C.parentNode)&&t.node.isElement(_.parentNode)&&t.$el.append("<br>"),l()},blocks:function(){var n,i=[],s=o();if(g()&&s.rangeCount){var l=r();for(n=0;n<l.length;n++){var d,c=l[n],p=a(c.startContainer,c.startOffset),f=a(c.endContainer,c.endOffset);(t.node.isBlock(p)||t.node.hasClass(p,"fr-inner"))&&i.indexOf(p)<0&&i.push(p),(d=t.node.blockParent(p))&&i.indexOf(d)<0&&i.push(d);for(var h=[],u=p;u!==f&&u!==t.el;)h.indexOf(u)<0&&u.children&&u.children.length?(h.push(u),u=u.children[0]):u.nextSibling?u=u.nextSibling:u.parentNode&&(u=u.parentNode,h.push(u)),t.node.isBlock(u)&&h.indexOf(u)<0&&i.indexOf(u)<0&&(u!==f||c.endOffset>0)&&i.push(u);t.node.isBlock(f)&&i.indexOf(f)<0&&c.endOffset>0&&i.push(f),(d=t.node.blockParent(f))&&i.indexOf(d)<0&&i.push(d)}}for(n=i.length-1;n>0;n--)e(i[n]).find(i).length&&i.splice(n,1);return i},info:p,setAtEnd:v,setAtStart:m,setBefore:function(n,o){void 0===o&&(o=!0);for(var r=n.previousSibling;r&&r.nodeType==Node.TEXT_NODE&&0===r.textContent.length;)r=r.previousSibling;return r?(t.node.isBlock(r)?v(r):"BR"==r.tagName?e(r).before(e.FE.MARKERS):e(r).after(e.FE.MARKERS),!0):!!o&&(t.node.isBlock(n)?m(n):e(n).before(e.FE.MARKERS),!0)},setAfter:function(n,o){void 0===o&&(o=!0);for(var r=n.nextSibling;r&&r.nodeType==Node.TEXT_NODE&&0===r.textContent.length;)r=r.nextSibling;return r?(t.node.isBlock(r)?m(r):e(r).before(e.FE.MARKERS),!0):!!o&&(t.node.isBlock(n)?v(n):e(n).after(e.FE.MARKERS),!0)},rangeElement:a}}}(jQuery),function(e){e.extend(e.FE.DEFAULTS,{htmlAllowedTags:["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","br","button","canvas","caption","cite","code","col","colgroup","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meter","nav","noscript","object","ol","optgroup","option","output","p","param","pre","progress","queue","rp","rt","ruby","s","samp","script","style","section","select","small","source","span","strike","strong","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","var","video","wbr"],htmlRemoveTags:["script","style"],htmlAllowedAttrs:["accept","accept-charset","accesskey","action","align","allowfullscreen","allowtransparency","alt","aria-.*","async","autocomplete","autofocus","autoplay","autosave","background","bgcolor","border","charset","cellpadding","cellspacing","checked","cite","class","color","cols","colspan","content","contenteditable","contextmenu","controls","coords","data","data-.*","datetime","default","defer","dir","dirname","disabled","download","draggable","dropzone","enctype","for","form","formaction","frameborder","headers","height","hidden","high","href","hreflang","http-equiv","icon","id","ismap","itemprop","keytype","kind","label","lang","language","list","loop","low","max","maxlength","media","method","min","mozallowfullscreen","multiple","muted","name","novalidate","open","optimum","pattern","ping","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","reversed","rows","rowspan","sandbox","scope","scoped","scrolling","seamless","selected","shape","size","sizes","span","src","srcdoc","srclang","srcset","start","step","summary","spellcheck","style","tabindex","target","title","type","translate","usemap","value","valign","webkitallowfullscreen","width","wrap"],htmlAllowedStyleProps:[".*"],htmlAllowComments:!0,htmlUntouched:!1,fullPage:!1}),e.FE.HTML5Map={B:"STRONG",I:"EM",STRIKE:"S"},e.FE.MODULES.clean=function(t){var n,o,r,i;function a(e){if(e.nodeType==Node.ELEMENT_NODE&&e.getAttribute("class")&&e.getAttribute("class").indexOf("fr-marker")>=0)return!1;var n,o=t.node.contents(e),r=[];for(n=0;n<o.length;n++)o[n].nodeType!=Node.ELEMENT_NODE||t.node.isVoid(o[n])?o[n].nodeType==Node.TEXT_NODE&&(o[n].textContent=o[n].textContent.replace(/\u200b/g,"")):o[n].textContent.replace(/\u200b/g,"").length!=o[n].textContent.length&&a(o[n]);if(e.nodeType==Node.ELEMENT_NODE&&!t.node.isVoid(e)&&(e.normalize(),o=t.node.contents(e),r=e.querySelectorAll(".fr-marker"),o.length-r.length==0)){for(n=0;n<o.length;n++)if(o[n].nodeType==Node.ELEMENT_NODE&&(o[n].getAttribute("class")||"").indexOf("fr-marker")<0)return!1;for(n=0;n<r.length;n++)e.parentNode.insertBefore(r[n].cloneNode(!0),e);return e.parentNode.removeChild(e),!1}}function s(e,n){if(e.nodeType==Node.COMMENT_NODE)return"\x3c!--"+e.nodeValue+"--\x3e";if(e.nodeType==Node.TEXT_NODE)return n?e.textContent.replace(/\&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):e.textContent.replace(/\&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\u00A0/g,"&nbsp;").replace(/\u0009/g,"");if(e.nodeType!=Node.ELEMENT_NODE)return e.outerHTML;if(e.nodeType==Node.ELEMENT_NODE&&["STYLE","SCRIPT","NOSCRIPT"].indexOf(e.tagName)>=0)return e.outerHTML;if(e.nodeType==Node.ELEMENT_NODE&&"svg"==e.tagName){var o=document.createElement("div"),r=e.cloneNode(!0);return o.appendChild(r),o.innerHTML}if("IFRAME"==e.tagName)return e.outerHTML.replace(/\&lt;/g,"<").replace(/\&gt;/g,">");var i=e.childNodes;if(0===i.length)return e.outerHTML;for(var a="",l=0;l<i.length;l++)"PRE"==e.tagName&&(n=!0),a+=s(i[l],n);return t.node.openTagString(e)+a+t.node.closeTagString(e)}var l=[];function d(e){var t=e.replace(/;;/gi,";");return";"!=(t=t.replace(/^;/gi,"")).charAt(t.length)&&(t+=";"),t}function c(e){var n;for(n in e)if(e.hasOwnProperty(n)){var o=n.match(r),a=null;"style"==n&&t.opts.htmlAllowedStyleProps.length&&(a=e[n].match(i)),o&&a?e[n]=d(a.join(";")):o&&("style"!=n||a)||delete e[n]}for(var s="",l=Object.keys(e).sort(),c=0;c<l.length;c++)e[n=l[c]].indexOf('"')<0?s+=" "+n+'="'+e[n]+'"':s+=" "+n+"='"+e[n]+"'";return s}function p(n,o){var r,i=document.implementation.createHTMLDocument("Froala DOC").createElement("DIV");e(i).append(n);var a="";if(i){var l=t.node.contents(i);for(r=0;r<l.length;r++)o(l[r]);for(l=t.node.contents(i),r=0;r<l.length;r++)a+=s(l[r])}return a}function f(e,n,o){l=[];var r=e=e.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,(function(e){return l.push(e),"[FROALA.EDITOR.SCRIPT "+(l.length-1)+"]"})).replace(/<noscript\b[^<]*(?:(?!<\/noscript>)<[^<]*)*<\/noscript>/gi,(function(e){return l.push(e),"[FROALA.EDITOR.NOSCRIPT "+(l.length-1)+"]"})).replace(/<meta((?:[\w\W]*?)) http-equiv="/g,'<meta$1 data-fr-http-equiv="').replace(/<img((?:[\w\W]*?)) src="/g,'<img$1 data-fr-src="'),i=null;return t.opts.fullPage&&(r=t.html.extractNode(e,"body")||(e.indexOf("<body")>=0?"":e),o&&(i=t.html.extractNode(e,"head")||"")),r=p(r,n),i&&(i=p(i,n)),function(e){return(e=(e=e.replace(/\[FROALA\.EDITOR\.SCRIPT ([\d]*)\]/gi,(function(e,n){return t.opts.htmlRemoveTags.indexOf("script")>=0?"":l[parseInt(n,10)]}))).replace(/\[FROALA\.EDITOR\.NOSCRIPT ([\d]*)\]/gi,(function(e,n){return t.opts.htmlRemoveTags.indexOf("noscript")>=0?"":l[parseInt(n,10)].replace(/\&lt;/g,"<").replace(/\&gt;/g,">")}))).replace(/<img((?:[\w\W]*?)) data-fr-src="/g,'<img$1 src="')}(function(e,n,o){if(t.opts.fullPage){var r=t.html.extractDoctype(o),i=c(t.html.extractNodeAttrs(o,"html"));return n=null==n?t.html.extractNode(o,"head")||"<title></title>":n,r+"<html"+i+"><head"+c(t.html.extractNodeAttrs(o,"head"))+">"+n+"</head><body"+c(t.html.extractNodeAttrs(o,"body"))+">"+e+"</body></html>"}return e}(r,i,e))}function h(e){var n=t.doc.createElement("DIV");return n.innerText=e,n.textContent}function u(a){for(var s=t.node.contents(a),l=0;l<s.length;l++)s[l].nodeType!=Node.TEXT_NODE&&u(s[l]);!function(a){if("SPAN"==a.tagName&&(a.getAttribute("class")||"").indexOf("fr-marker")>=0)return!1;var s,l;if("PRE"==a.tagName&&(l=(s=a).innerHTML).indexOf("\n")>=0&&(s.innerHTML=l.replace(/\n/g,"<br>")),a.nodeType==Node.ELEMENT_NODE&&(a.getAttribute("data-fr-src")&&0!==a.getAttribute("data-fr-src").indexOf("blob:")&&a.setAttribute("data-fr-src",t.helpers.sanitizeURL(h(a.getAttribute("data-fr-src")))),a.getAttribute("href")&&a.setAttribute("href",t.helpers.sanitizeURL(h(a.getAttribute("href")))),a.getAttribute("src")&&a.setAttribute("src",t.helpers.sanitizeURL(h(a.getAttribute("src")))),a.getAttribute("data")&&a.setAttribute("data",t.helpers.sanitizeURL(h(a.getAttribute("data")))),["TABLE","TBODY","TFOOT","TR"].indexOf(a.tagName)>=0&&(a.innerHTML=a.innerHTML.trim())),!t.opts.pasteAllowLocalImages&&a.nodeType==Node.ELEMENT_NODE&&"IMG"==a.tagName&&a.getAttribute("data-fr-src")&&0===a.getAttribute("data-fr-src").indexOf("file://"))return a.parentNode.removeChild(a),!1;if(a.nodeType==Node.ELEMENT_NODE&&e.FE.HTML5Map[a.tagName]&&""===t.node.attributes(a)){var c=e.FE.HTML5Map[a.tagName],p="<"+c+">"+a.innerHTML+"</"+c+">";a.insertAdjacentHTML("beforebegin",p),(a=a.previousSibling).parentNode.removeChild(a.nextSibling)}if(t.opts.htmlAllowComments||a.nodeType!=Node.COMMENT_NODE)if(a.tagName&&a.tagName.match(o))a.parentNode.removeChild(a);else if(a.tagName&&!a.tagName.match(n)){if("svg"===a.tagName)a.parentNode.removeChild(a);else if(!t.browser.safari||"path"!=a.tagName||!a.parentNode||"svg"!=a.parentNode.tagName)try{a.outerHTML=a.innerHTML}catch(e){}}else{var f=a.attributes;if(f)for(var u=f.length-1;u>=0;u--){var g=f[u],m=g.nodeName.match(r),v=null;"style"==g.nodeName&&t.opts.htmlAllowedStyleProps.length&&(v=g.value.match(i)),m&&v?g.value=d(v.join(";")):m&&("style"!=g.nodeName||v)||a.removeAttribute(g.nodeName)}}else 0!==a.data.indexOf("[FROALA.EDITOR")&&a.parentNode.removeChild(a)}(a)}return{_init:function(){t.opts.fullPage&&e.merge(t.opts.htmlAllowedTags,["head","title","style","link","base","body","html","meta"])},html:function(a,s,l,d){void 0===s&&(s=[]),void 0===l&&(l=[]),void 0===d&&(d=!1);var c,p=e.merge([],t.opts.htmlAllowedTags);for(c=0;c<s.length;c++)p.indexOf(s[c])>=0&&p.splice(p.indexOf(s[c]),1);var h=e.merge([],t.opts.htmlAllowedAttrs);for(c=0;c<l.length;c++)h.indexOf(l[c])>=0&&h.splice(h.indexOf(l[c]),1);return h.push("data-fr-.*"),h.push("fr-.*"),n=new RegExp("^"+p.join("$|^")+"$","gi"),r=new RegExp("^"+h.join("$|^")+"$","gi"),o=new RegExp("^"+t.opts.htmlRemoveTags.join("$|^")+"$","gi"),i=t.opts.htmlAllowedStyleProps.length?new RegExp("((^|;|\\s)"+t.opts.htmlAllowedStyleProps.join(":.+?(?=;|$))|((^|;|\\s)")+":.+?(?=(;)|$))","gi"):null,a=f(a,u,!0)},toHTML5:function(){var n=t.el.querySelectorAll(Object.keys(e.FE.HTML5Map).join(","));if(n.length){var o=!1;t.el.querySelector(".fr-marker")||(t.selection.save(),o=!0);for(var r=0;r<n.length;r++)""===t.node.attributes(n[r])&&e(n[r]).replaceWith("<"+e.FE.HTML5Map[n[r].tagName]+">"+n[r].innerHTML+"</"+e.FE.HTML5Map[n[r].tagName]+">");o&&t.selection.restore()}},tables:function(){!function(){for(var e=t.el.querySelectorAll("tr"),n=0;n<e.length;n++){for(var o=e[n].children,r=!0,i=0;i<o.length;i++)if("TH"!=o[i].tagName){r=!1;break}if(!1!==r&&0!==o.length){for(var a=e[n];a&&"TABLE"!=a.tagName&&"THEAD"!=a.tagName;)a=a.parentNode;var s=a;"THEAD"!=s.tagName&&(s=t.doc.createElement("THEAD"),a.insertBefore(s,a.firstChild)),s.appendChild(e[n])}}}()},lists:function(){!function(){var e=[],n=function(e){return!t.node.isList(e.parentNode)};do{if(e.length){var o=e[0],r=t.doc.createElement("ul");o.parentNode.insertBefore(r,o);do{var i=o;o=o.nextSibling,r.appendChild(i)}while(o&&"LI"==o.tagName)}e=[];for(var a=t.el.querySelectorAll("li"),s=0;s<a.length;s++)n(a[s])&&e.push(a[s])}while(e.length>0)}(),function(){for(var e=t.el.querySelectorAll("ol + ol, ul + ul"),n=0;n<e.length;n++){var o=e[n];if(t.node.isList(o.previousSibling)&&t.node.openTagString(o)==t.node.openTagString(o.previousSibling)){for(var r=t.node.contents(o),i=0;i<r.length;i++)o.previousSibling.appendChild(r[i]);o.parentNode.removeChild(o)}}}(),function(){for(var n=t.el.querySelectorAll("ul, ol"),o=0;o<n.length;o++)for(var r=t.node.contents(n[o]),i=null,a=r.length-1;a>=0;a--)"LI"!=r[a].tagName&&"UL"!=r[a].tagName&&"OL"!=r[a].tagName?(i||(i=e("<li>")).insertBefore(r[a]),i.prepend(r[a])):i=null}(),function(){var e,n,o;do{n=!1;var r=t.el.querySelectorAll("li:empty");for(e=0;e<r.length;e++)r[e].parentNode.removeChild(r[e]);var i=t.el.querySelectorAll("ul, ol");for(e=0;e<i.length;e++)(o=i[e]).querySelector("LI")||(n=!0,o.parentNode.removeChild(o))}while(!0===n)}(),function(){for(var n=t.el.querySelectorAll("ul > ul, ol > ol, ul > ol, ol > ul"),o=0;o<n.length;o++){var r=n[o],i=r.previousSibling;i&&("LI"==i.tagName?i.appendChild(r):e(r).wrap("<li></li>"))}}(),function(){for(var n=t.el.querySelectorAll("li > ul, li > ol"),o=0;o<n.length;o++){var r=n[o];if(r.nextSibling){var i=r.nextSibling,a=e("<li>");e(r.parentNode).after(a);do{var s=i;i=i.nextSibling,a.append(s)}while(i)}}}(),function(){for(var n=t.el.querySelectorAll("li > ul, li > ol"),o=0;o<n.length;o++){var r=n[o];if(t.node.isFirstSibling(r))e(r).before("<br/>");else if(r.previousSibling&&"BR"==r.previousSibling.tagName){for(var i=r.previousSibling.previousSibling;i&&t.node.hasClass(i,"fr-marker");)i=i.previousSibling;i&&"BR"!=i.tagName&&e(r.previousSibling).remove()}}}(),function(){for(var n=t.el.querySelectorAll("li:empty"),o=0;o<n.length;o++)e(n[o]).remove()}()},invisibleSpaces:function(e){return e.replace(/\u200b/g,"").length==e.length?e:t.clean.exec(e,a)},exec:f}}}(jQuery),function(e){e.FE.MODULES.spaces=function(t){function n(n,o){var r=n.previousSibling,i=n.nextSibling,a=n.textContent,s=n.parentNode;if(!t.html.isPreformatted(s)){o&&(a=a.replace(/[\f\n\r\t\v ]{2,}/g," "),i&&"BR"!==i.tagName&&!t.node.isBlock(i)||!(t.node.isBlock(s)||t.node.isLink(s)&&!s.nextSibling||t.node.isElement(s))||(a=a.replace(/[\f\n\r\t\v ]{1,}$/g,"")),r&&"BR"!==r.tagName&&!t.node.isBlock(r)||!(t.node.isBlock(s)||t.node.isLink(s)&&!s.previousSibling||t.node.isElement(s))||(a=a.replace(/^[\f\n\r\t\v ]{1,}/g,"")),(t.node.isBlock(i)||t.node.isBlock(r))&&(a=a.replace(/^[\f\n\r\t\v ]{1,}/g,""))," "===a&&(r&&t.node.isVoid(r)||i&&t.node.isVoid(i))&&!(r&&i&&t.node.isVoid(r)||i&&r&&t.node.isVoid(i))&&(a="")),(!r&&t.node.isBlock(i)||!i&&t.node.isBlock(r))&&t.node.isBlock(s)&&s!==t.el&&(a=a.replace(/^[\f\n\r\t\v ]{1,}/g,"")),o||(a=a.replace(new RegExp(e.FE.UNICODE_NBSP,"g")," "));for(var l="",d=0;d<a.length;d++)32!=a.charCodeAt(d)||0!==d&&32!=l.charCodeAt(d-1)||r&&i&&t.node.isVoid(r)||r&&i&&t.node.isVoid(i)?l+=a[d]:l+=e.FE.UNICODE_NBSP;(!i||i&&t.node.isBlock(i)||i&&i.nodeType==Node.ELEMENT_NODE&&t.win.getComputedStyle(i)&&"block"==t.win.getComputedStyle(i).display)&&(t.node.isVoid(r)||(l=l.replace(/ $/,e.FE.UNICODE_NBSP))),!r||t.node.isVoid(r)||t.node.isBlock(r)||1!==(l=l.replace(/^\u00A0([^ $])/," $1")).length||160!==l.charCodeAt(0)||!i||t.node.isVoid(i)||t.node.isBlock(i)||t.node.hasClass(r,"fr-marker")&&t.node.hasClass(i,"fr-marker")||(l=" "),o||(l=l.replace(/([^ \u00A0])\u00A0([^ \u00A0])/g,"$1 $2")),n.textContent!=l&&(n.textContent=l)}}function o(e,o){if(void 0!==e&&e||(e=t.el),void 0===o&&(o=!1),!e.getAttribute||"false"!=e.getAttribute("contenteditable"))if(e.nodeType==Node.TEXT_NODE)n(e,o);else if(e.nodeType==Node.ELEMENT_NODE)for(var r=t.doc.createTreeWalker(e,NodeFilter.SHOW_TEXT,t.node.filter((function(e){for(var n=e.parentNode;n&&n!==t.el;){if("STYLE"==n.tagName||"IFRAME"==n.tagName)return!1;if("PRE"===n.tagName)return!1;n=n.parentNode}return null!=e.textContent.match(/([ \u00A0\f\n\r\t\v]{2,})|(^[ \u00A0\f\n\r\t\v]{1,})|([ \u00A0\f\n\r\t\v]{1,}$)/g)&&!t.node.hasClass(e.parentNode,"fr-marker")})),!1);r.nextNode();)n(r.currentNode,o)}return{normalize:o,normalizeAroundCursor:function(){for(var e=[],n=t.el.querySelectorAll(".fr-marker"),r=0;r<n.length;r++){for(var i=null,a=t.node.blockParent(n[r]),s=(i=a||n[r]).nextSibling,l=i.previousSibling;s&&"BR"==s.tagName;)s=s.nextSibling;for(;l&&"BR"==l.tagName;)l=l.previousSibling;i&&e.indexOf(i)<0&&e.push(i),l&&e.indexOf(l)<0&&e.push(l),s&&e.indexOf(s)<0&&e.push(s)}for(var d=0;d<e.length;d++)o(e[d])}}}}(jQuery),function(e){e.FE.UNICODE_NBSP=String.fromCharCode(160),e.FE.VOID_ELEMENTS=["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"],e.FE.BLOCK_TAGS=["address","article","aside","audio","blockquote","canvas","details","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","li","main","nav","noscript","ol","output","p","pre","section","table","tbody","td","tfoot","th","thead","tr","ul","video"],e.extend(e.FE.DEFAULTS,{htmlAllowedEmptyTags:["textarea","a","i","iframe","object","video","style","script",".icon",".bi",".fa",".fr-emoticon",".fr-inner","path","line"],htmlDoNotWrapTags:["figure","script","style"],htmlSimpleAmpersand:!1,htmlIgnoreCSSProperties:[],htmlExecuteScripts:!0}),e.FE.MODULES.html=function(t){function n(){return t.opts.enter==e.FE.ENTER_P?"p":t.opts.enter==e.FE.ENTER_DIV?"div":t.opts.enter==e.FE.ENTER_BR?null:void 0}function o(e,n){return!(!e||e===t.el)&&(n?-1!=["PRE","SCRIPT","STYLE"].indexOf(e.tagName)||o(e.parentNode,n):-1!=["PRE","SCRIPT","STYLE"].indexOf(e.tagName))}function r(n){var o,r=[],a=[];if(n){var s=t.el.querySelectorAll(".fr-marker");for(o=0;o<s.length;o++){var l=t.node.blockParent(s[o])||s[o];if(l){var d=l.nextSibling,c=l.previousSibling;l&&a.indexOf(l)<0&&t.node.isBlock(l)&&a.push(l),c&&t.node.isBlock(c)&&a.indexOf(c)<0&&a.push(c),d&&t.node.isBlock(d)&&a.indexOf(d)<0&&a.push(d)}}}else a=t.el.querySelectorAll(i());var p=i();for(p+=","+e.FE.VOID_ELEMENTS.join(","),p+=", .fr-inner",p+=","+t.opts.htmlAllowedEmptyTags.join(":not(.fr-marker),")+":not(.fr-marker)",o=a.length-1;o>=0;o--)if(!(a[o].textContent&&a[o].textContent.replace(/\u200B|\n/g,"").length>0||a[o].querySelectorAll(p).length>0)){for(var f=t.node.contents(a[o]),h=!1,u=0;u<f.length;u++)if(f[u].nodeType!=Node.COMMENT_NODE&&f[u].textContent&&f[u].textContent.replace(/\u200B|\n/g,"").length>0){h=!0;break}h||r.push(a[o])}return r}function i(){return e.FE.BLOCK_TAGS.join(", ")}function a(n){var o,r,i=e.merge([],e.FE.VOID_ELEMENTS);i=e.merge(i,t.opts.htmlAllowedEmptyTags),i=void 0===n?e.merge(i,e.FE.BLOCK_TAGS):e.merge(i,e.FE.NO_DELETE_TAGS),o=t.el.querySelectorAll("*:empty:not("+i.join("):not(")+"):not(.fr-marker)");do{r=!1;for(var a=0;a<o.length;a++)0!==o[a].attributes.length&&void 0===o[a].getAttribute("href")||(o[a].parentNode.removeChild(o[a]),r=!0);o=t.el.querySelectorAll("*:empty:not("+i.join("):not(")+"):not(.fr-marker)")}while(o.length&&r)}function s(e,o){var r=n();if(o&&(r="div"),r){for(var i=t.doc.createDocumentFragment(),a=null,s=!1,l=e.firstChild,d=!1;l;){var c=l.nextSibling;if(l.nodeType==Node.ELEMENT_NODE&&(t.node.isBlock(l)||t.opts.htmlDoNotWrapTags.indexOf(l.tagName.toLowerCase())>=0&&!t.node.hasClass(l,"fr-marker")))a=null,i.appendChild(l.cloneNode(!0));else if(l.nodeType!=Node.ELEMENT_NODE&&l.nodeType!=Node.TEXT_NODE)a=null,i.appendChild(l.cloneNode(!0));else if("BR"==l.tagName)null==a?(a=t.doc.createElement(r),d=!0,o&&(a.setAttribute("class","fr-temp-div"),a.setAttribute("data-empty",!0)),a.appendChild(l.cloneNode(!0)),i.appendChild(a)):!1===s&&(a.appendChild(t.doc.createElement("br")),o&&(a.setAttribute("class","fr-temp-div"),a.setAttribute("data-empty",!0))),a=null;else{var p=l.textContent;l.nodeType!==Node.TEXT_NODE||p.replace(/\n/g,"").replace(/(^ *)|( *$)/g,"").length>0||p.replace(/(^ *)|( *$)/g,"").length&&p.indexOf("\n")<0?(null==a&&(a=t.doc.createElement(r),d=!0,o&&a.setAttribute("class","fr-temp-div"),i.appendChild(a),s=!1),a.appendChild(l.cloneNode(!0)),s||t.node.hasClass(l,"fr-marker")||l.nodeType==Node.TEXT_NODE&&0===p.replace(/ /g,"").length||(s=!0)):d=!0}l=c}d&&(e.innerHTML="",e.appendChild(i))}}function l(e,t){for(var n=e.length-1;n>=0;n--)s(e[n],t)}function d(e,n,o,r,i){if(!t.$wp)return!1;void 0===e&&(e=!1),void 0===n&&(n=!1),void 0===o&&(o=!1),void 0===r&&(r=!1),void 0===i&&(i=!1);var a=t.$wp.scrollTop();s(t.el,e),r&&l(t.el.querySelectorAll(".fr-inner"),e),n&&l(t.el.querySelectorAll("td, th"),e),o&&l(t.el.querySelectorAll("blockquote"),e),i&&l(t.el.querySelectorAll("li"),e),a!=t.$wp.scrollTop()&&t.$wp.scrollTop(a)}function c(e){if(void 0===e&&(e=t.el),e&&["SCRIPT","STYLE","PRE"].indexOf(e.tagName)>=0)return!1;for(var n=t.doc.createTreeWalker(e,NodeFilter.SHOW_TEXT,t.node.filter((function(e){return null!=e.textContent.match(/([ \n]{2,})|(^[ \n]{1,})|([ \n]{1,}$)/g)})),!1);n.nextNode();){var r=n.currentNode;if(!o(r.parentNode,!0)){var i=t.node.isBlock(r.parentNode)||t.node.isElement(r.parentNode),a=r.textContent.replace(/(?!^)( ){2,}(?!$)/g," ").replace(/\n/g," ").replace(/^[ ]{2,}/g," ").replace(/[ ]{2,}$/g," ");if(i){var s=r.previousSibling,l=r.nextSibling;s&&l&&" "==a?a=t.node.isBlock(s)&&t.node.isBlock(l)?"":" ":(s||(a=a.replace(/^ */,"")),l||(a=a.replace(/ *$/,"")))}r.textContent=a}}}function p(e,t,n){var o=new RegExp(t,"gi").exec(e);return o?o[n]:null}function f(e){var t=e.doctype,n="<!DOCTYPE html>";return t&&(n="<!DOCTYPE "+t.name+(t.publicId?' PUBLIC "'+t.publicId+'"':"")+(!t.publicId&&t.systemId?" SYSTEM":"")+(t.systemId?' "'+t.systemId+'"':"")+">"),n}function h(n){var o=n.parentNode;if(o&&(t.node.isBlock(o)||t.node.isElement(o))&&["TD","TH"].indexOf(o.tagName)<0){for(var r=n.previousSibling,i=n.nextSibling;r&&(r.nodeType==Node.TEXT_NODE&&0===r.textContent.replace(/\n|\r/g,"").length||t.node.hasClass(r,"fr-tmp"));)r=r.previousSibling;if(i)return!1;r&&o&&"BR"!=r.tagName&&!t.node.isBlock(r)&&!i&&o.textContent.replace(/\u200B/g,"").length>0&&r.textContent.length>0&&!t.node.hasClass(r,"fr-marker")&&(t.el==o&&!i&&t.opts.enter==e.FE.ENTER_BR&&t.browser.msie||n.parentNode.removeChild(n))}else!o||t.node.isBlock(o)||t.node.isElement(o)||n.previousSibling||n.nextSibling||!t.node.isDeletable(n.parentNode)||h(n.parentNode)}function u(){t.opts.htmlUntouched||(a(),d(),c(),t.spaces.normalize(null,!0),t.html.fillEmptyBlocks(),t.clean.lists(),t.clean.tables(),t.clean.toHTML5(),t.html.cleanBRs()),t.selection.restore(),g(),t.placeholder.refresh()}function g(){t.node.isEmpty(t.el)&&(null!=n()?t.el.querySelector(i())||t.el.querySelector(t.opts.htmlDoNotWrapTags.join(":not(.fr-marker),")+":not(.fr-marker)")||(t.core.hasFocus()?(t.$el.html("<"+n()+">"+e.FE.MARKERS+"<br/></"+n()+">"),t.selection.restore()):t.$el.html("<"+n()+"><br/></"+n()+">")):t.el.querySelector("*:not(.fr-marker):not(br)")||(t.core.hasFocus()?(t.$el.html(e.FE.MARKERS+"<br/>"),t.selection.restore()):t.$el.html("<br/>")))}function m(e,t){return p(e,"<"+t+"[^>]*?>([\\w\\W]*)</"+t+">",1)}function v(n,o){var r=e("<div "+(p(n,"<"+o+"([^>]*?)>",1)||"")+">");return t.node.rawAttributes(r.get(0))}function b(e){return(p(e,"<!DOCTYPE([^>]*?)>",0)||"<!DOCTYPE html>").replace(/\n/g," ").replace(/ {2,}/g," ")}function E(e,n){t.opts.htmlExecuteScripts?e.html(n):e.get(0).innerHTML=n}function y(e){var t;(t=/:not\(([^\)]*)\)/g).test(e)&&(e=e.replace(t,"     $1 "));var n=100*(e.match(/(#[^\s\+>~\.\[:]+)/g)||[]).length+10*(e.match(/(\[[^\]]+\])/g)||[]).length+10*(e.match(/(\.[^\s\+>~\.\[:]+)/g)||[]).length+10*(e.match(/(:[\w-]+\([^\)]*\))/gi)||[]).length+10*(e.match(/(:[^\s\+>~\.\[:]+)/g)||[]).length+(e.match(/(::[^\s\+>~\.\[:]+|:first-line|:first-letter|:before|:after)/gi)||[]).length;return n+=((e=(e=e.replace(/[\*\s\+>~]/g," ")).replace(/[#\.]/g," ")).match(/([^\s\+>~\.\[:]+)/g)||[]).length}function w(e){if(t.events.trigger("html.processGet",[e]),e&&e.getAttribute&&""===e.getAttribute("class")&&e.removeAttribute("class"),e&&e.getAttribute&&""===e.getAttribute("style")&&e.removeAttribute("style"),e&&e.nodeType==Node.ELEMENT_NODE){var n,o=e.querySelectorAll('[class=""],[style=""]');for(n=0;n<o.length;n++){var r=o[n];""===r.getAttribute("class")&&r.removeAttribute("class"),""===r.getAttribute("style")&&r.removeAttribute("style")}if("BR"===e.tagName)h(e);else{var i=e.querySelectorAll("br");for(n=0;n<i.length;n++)h(i[n])}}}function S(e,t){return e[3]-t[3]}function C(e){var n=t.doc.createElement("div");return n.innerHTML=e,null!==n.querySelector(i())}function _(n){var o=null;if(void 0===n&&(o=t.selection.element()),t.opts.keepFormatOnDelete)return!1;var r,i,a=o?(o.textContent.match(/\u200B/g)||[]).length-o.querySelectorAll(".fr-marker").length:0;if((t.el.textContent.match(/\u200B/g)||[]).length-t.el.querySelectorAll(".fr-marker").length==a)return!1;do{i=!1,r=t.el.querySelectorAll("*:not(.fr-marker)");for(var s=0;s<r.length;s++){var l=r[s];if(o!=l){var d=l.textContent;0===l.children.length&&1===d.length&&8203==d.charCodeAt(0)&&"TD"!==l.tagName&&(e(l).remove(),i=!0)}}}while(i)}return{defaultTag:n,isPreformatted:o,emptyBlocks:r,emptyBlockTagsQuery:function(){return e.FE.BLOCK_TAGS.join(":empty, ")+":empty"},blockTagsQuery:i,fillEmptyBlocks:function(n){var o=r(n);t.node.isEmpty(t.el)&&t.opts.enter===e.FE.ENTER_BR&&o.push(t.el);for(var i=0;i<o.length;i++){var a=o[i];"false"===a.getAttribute("contenteditable")||a.querySelector(t.opts.htmlAllowedEmptyTags.join(":not(.fr-marker),")+":not(.fr-marker)")||t.node.isVoid(a)||"TABLE"!=a.tagName&&"TBODY"!=a.tagName&&"TR"!=a.tagName&&"UL"!=a.tagName&&"OL"!=a.tagName&&a.appendChild(t.doc.createElement("br"))}if(t.browser.msie&&t.opts.enter==e.FE.ENTER_BR){var s=t.node.contents(t.el);s.length&&s[s.length-1].nodeType==Node.TEXT_NODE&&t.$el.append("<br>")}},cleanEmptyTags:a,cleanWhiteTags:_,cleanBlankSpaces:c,blocks:function(){return t.$el.get(0).querySelectorAll(i())},getDoctype:f,set:function(n){var o,r,i,a=t.clean.html((n||"").trim(),[],[],t.opts.fullPage);if(t.opts.fullPage){var s=m(a,"body")||(a.indexOf("<body")>=0?"":a),l=v(a,"body"),d=m(a,"head")||"<title></title>",c=v(a,"head"),p=e("<div>").append(d).contents().each((function(){(this.nodeType==Node.COMMENT_NODE||["BASE","LINK","META","NOSCRIPT","SCRIPT","STYLE","TEMPLATE","TITLE"].indexOf(this.tagName)>=0)&&this.parentNode.removeChild(this)})).end().html().trim();d=e("<div>").append(d).contents().map((function(){return this.nodeType==Node.COMMENT_NODE?"\x3c!--"+this.nodeValue+"--\x3e":["BASE","LINK","META","NOSCRIPT","SCRIPT","STYLE","TEMPLATE","TITLE"].indexOf(this.tagName)>=0?this.outerHTML:""})).toArray().join("");var f=b(a),h=v(a,"html");E(t.$el,p+"\n"+s),t.node.clearAttributes(t.el),t.$el.attr(l),t.$el.addClass("fr-view"),t.$el.attr("spellcheck",t.opts.spellcheck),t.$el.attr("dir",t.opts.direction),E(t.$head,d),t.node.clearAttributes(t.$head.get(0)),t.$head.attr(c),t.node.clearAttributes(t.$html.get(0)),t.$html.attr(h),t.iframe_document.doctype.parentNode.replaceChild((o=f,r=t.iframe_document,(i=o.match(/<!DOCTYPE ?([^ ]*) ?([^ ]*) ?"?([^"]*)"? ?"?([^"]*)"?>/i))?r.implementation.createDocumentType(i[1],i[3],i[4]):r.implementation.createDocumentType("html")),t.iframe_document.doctype)}else E(t.$el,a);var g=t.edit.isDisabled();t.edit.on(),t.core.injectStyle(t.opts.iframeDefaultStyle+t.opts.iframeStyle),u(),t.opts.useClasses||(t.$el.find("[fr-original-class]").each((function(){this.setAttribute("class",this.getAttribute("fr-original-class")),this.removeAttribute("fr-original-class")})),t.$el.find("[fr-original-style]").each((function(){this.setAttribute("style",this.getAttribute("fr-original-style")),this.removeAttribute("fr-original-style")}))),g&&t.edit.off(),t.events.trigger("html.set")},get:function(e,n){if(!t.$wp)return t.$oel.clone().removeClass("fr-view").removeAttr("contenteditable").get(0).outerHTML;var o="";t.events.trigger("html.beforeGet");var r,i,a=[],s={},l=[],d=t.el.querySelectorAll("input, textarea");for(r=0;r<d.length;r++)d[r].setAttribute("value",d[r].value);if(!t.opts.useClasses&&!n){var c=new RegExp("^"+t.opts.htmlIgnoreCSSProperties.join("$|^")+"$","gi");for(r=0;r<t.doc.styleSheets.length;r++){var p,h=0;try{p=t.doc.styleSheets[r].cssRules,t.doc.styleSheets[r].ownerNode&&"STYLE"==t.doc.styleSheets[r].ownerNode.nodeType&&(h=1)}catch(e){}if(p)for(var u=0,g=p.length;u<g;u++)if(p[u].selectorText&&p[u].style.cssText.length>0){var m,v=p[u].selectorText.replace(/body |\.fr-view /g,"").replace(/::/g,":");try{m=t.el.querySelectorAll(v)}catch(e){m=[]}for(i=0;i<m.length;i++){!m[i].getAttribute("fr-original-style")&&m[i].getAttribute("style")?(m[i].setAttribute("fr-original-style",m[i].getAttribute("style")),a.push(m[i])):m[i].getAttribute("fr-original-style")||(m[i].setAttribute("fr-original-style",""),a.push(m[i])),s[m[i]]||(s[m[i]]={});for(var b=1e3*h+y(p[u].selectorText),E=p[u].style.cssText.split(";"),C=0;C<E.length;C++){var _=E[C].trim().split(":")[0];if(_&&(!_.match(c)&&(s[m[i]][_]||(s[m[i]][_]=0,(m[i].getAttribute("fr-original-style")||"").indexOf(_+":")>=0&&(s[m[i]][_]=1e4)),b>=s[m[i]][_]&&(s[m[i]][_]=b,E[C].trim().length)))){var T=E[C].trim().split(":");T.splice(0,1),l.push([m[i],_.trim(),T.join(":").trim(),b])}}}}}for(l.sort(S),r=0;r<l.length;r++){var k=l[r];k[0].style[k[1]]=k[2]}for(r=0;r<a.length;r++)if(a[r].getAttribute("class")&&(a[r].setAttribute("fr-original-class",a[r].getAttribute("class")),a[r].removeAttribute("class")),(a[r].getAttribute("fr-original-style")||"").trim().length>0){var A=a[r].getAttribute("fr-original-style").split(";");for(i=0;i<A.length;i++)if(A[i].indexOf(":")>0){var x=A[i].split(":"),N=x[0];x.splice(0,1),a[r].style[N.trim()]=x.join(":").trim()}}}if(t.node.isEmpty(t.el))t.opts.fullPage&&(o=f(t.iframe_document),o+="<html"+t.node.attributes(t.$html.get(0))+">"+t.$html.find("head").get(0).outerHTML+"<body></body></html>");else if(void 0===e&&(e=!1),t.opts.fullPage){o=f(t.iframe_document),t.$el.removeClass("fr-view");var R=t.opts.heightMin,F=t.opts.height,O=t.opts.heightMax;t.opts.heightMin=null,t.opts.height=null,t.opts.heightMax=null,t.size.refresh(),o+="<html"+t.node.attributes(t.$html.get(0))+">"+t.$html.html()+"</html>",t.opts.heightMin=R,t.opts.height=F,t.opts.heightMax=O,t.size.refresh(),t.$el.addClass("fr-view")}else o=t.$el.html();if(!t.opts.useClasses&&!n)for(r=0;r<a.length;r++)a[r].getAttribute("fr-original-class")&&(a[r].setAttribute("class",a[r].getAttribute("fr-original-class")),a[r].removeAttribute("fr-original-class")),null!=a[r].getAttribute("fr-original-style")&&void 0!==a[r].getAttribute("fr-original-style")?(0!==a[r].getAttribute("fr-original-style").length?a[r].setAttribute("style",a[r].getAttribute("fr-original-style")):a[r].removeAttribute("style"),a[r].removeAttribute("fr-original-style")):a[r].removeAttribute("style");t.opts.fullPage&&(o=(o=(o=(o=(o=(o=(o=(o=o.replace(/<style data-fr-style="true">(?:[\w\W]*?)<\/style>/g,"")).replace(/<link([^>]*)data-fr-style="true"([^>]*)>/g,"")).replace(/<style(?:[\w\W]*?)class="firebugResetStyles"(?:[\w\W]*?)>(?:[\w\W]*?)<\/style>/g,"")).replace(/<body((?:[\w\W]*?)) spellcheck="true"((?:[\w\W]*?))>((?:[\w\W]*?))<\/body>/g,"<body$1$2>$3</body>")).replace(/<body((?:[\w\W]*?)) contenteditable="(true|false)"((?:[\w\W]*?))>((?:[\w\W]*?))<\/body>/g,"<body$1$3>$4</body>")).replace(/<body((?:[\w\W]*?)) dir="([\w]*)"((?:[\w\W]*?))>((?:[\w\W]*?))<\/body>/g,"<body$1$3>$4</body>")).replace(/<body((?:[\w\W]*?))class="([\w\W]*?)(fr-rtl|fr-ltr)([\w\W]*?)"((?:[\w\W]*?))>((?:[\w\W]*?))<\/body>/g,'<body$1class="$2$4"$5>$6</body>')).replace(/<body((?:[\w\W]*?)) class=""((?:[\w\W]*?))>((?:[\w\W]*?))<\/body>/g,"<body$1$2>$3</body>")),t.opts.htmlSimpleAmpersand&&(o=o.replace(/\&amp;/gi,"&")),t.events.trigger("html.afterGet"),e||(o=o.replace(/<span[^>]*? class\s*=\s*["']?fr-marker["']?[^>]+>\u200b<\/span>/gi,"")),o=t.clean.invisibleSpaces(o),o=t.clean.exec(o,w);var D=t.events.chainTrigger("html.get",o);return"string"==typeof D&&(o=D),o=(o=o.replace(/<pre(?:[\w\W]*?)>(?:[\w\W]*?)<\/pre>/g,(function(e){return e.replace(/<br>/g,"\n")}))).replace(/<meta((?:[\w\W]*?)) data-fr-http-equiv="/g,'<meta$1 http-equiv="')},getSelected:function(){var n,o,r=function(n,o){for(;o&&(o.nodeType==Node.TEXT_NODE||!t.node.isBlock(o))&&!t.node.isElement(o)&&!t.node.hasClass(o,"fr-inner");)o&&o.nodeType!=Node.TEXT_NODE&&e(n).wrapInner(t.node.openTagString(o)+t.node.closeTagString(o)),o=o.parentNode;o&&n.innerHTML==o.innerHTML&&(n.innerHTML=o.outerHTML)},i="";if(void 0!==t.win.getSelection){t.browser.mozilla&&(t.selection.save(),t.$el.find('.fr-marker[data-type="false"]').length>1&&(t.$el.find('.fr-marker[data-type="false"][data-id="0"]').remove(),t.$el.find('.fr-marker[data-type="false"]:last').attr("data-id","0"),t.$el.find(".fr-marker").not('[data-id="0"]').remove()),t.selection.restore());for(var a=t.selection.ranges(),s=0;s<a.length;s++){var l=document.createElement("div");l.appendChild(a[s].cloneContents()),r(l,(n=void 0,o=void 0,o=null,t.win.getSelection?(n=t.win.getSelection())&&n.rangeCount&&(o=n.getRangeAt(0).commonAncestorContainer).nodeType!=Node.ELEMENT_NODE&&(o=o.parentNode):(n=t.doc.selection)&&"Control"!=n.type&&(o=n.createRange().parentElement()),null!=o&&(e.inArray(t.el,e(o).parents())>=0||o==t.el)?o:null)),e(l).find(".fr-element").length>0&&(l=t.el),i+=l.innerHTML}}else void 0!==t.doc.selection&&"Text"==t.doc.selection.type&&(i=t.doc.selection.createRange().htmlText);return i},insert:function(n,o,r){var i,a,s;if(t.selection.isCollapsed()||t.selection.remove(),i=o?n:t.clean.html(n),n.indexOf('class="fr-marker"')<0&&(a=i,(s=t.doc.createElement("div")).innerHTML=a,t.selection.setAtEnd(s,!0),i=s.innerHTML),t.node.isEmpty(t.el)&&!t.opts.keepFormatOnDelete&&C(i))t.el.innerHTML=i;else{var l=t.markers.insert();if(l){t.node.isLastSibling(l)&&e(l).parent().hasClass("fr-deletable")&&e(l).insertAfter(e(l).parent());var d=t.node.blockParent(l);if((C(i)||r)&&(t.node.deepestParent(l)||d&&"LI"==d.tagName)){if(d&&"LI"==d.tagName&&(i=function(n){if(!t.html.defaultTag())return n;var o=t.doc.createElement("div");o.innerHTML=n;for(var r=o.querySelectorAll(":scope > "+t.html.defaultTag()),i=r.length-1;i>=0;i--){var a=r[i];t.node.isBlock(a.previousSibling)||(a.previousSibling&&!t.node.isEmpty(a)&&e("<br>").insertAfter(a.previousSibling),a.outerHTML=a.innerHTML)}return o.innerHTML}(i)),!(l=t.markers.split()))return!1;l.outerHTML=i}else l.outerHTML=i}else t.el.innerHTML=t.el.innerHTML+i}u(),t.keys.positionCaret(),t.events.trigger("html.inserted")},wrap:d,unwrap:function(){t.$el.find("div.fr-temp-div").each((function(){this.previousSibling&&this.previousSibling.nodeType===Node.TEXT_NODE&&e(this).before("<br>"),e(this).attr("data-empty")||!this.nextSibling||t.node.isBlock(this.nextSibling)&&!e(this.nextSibling).hasClass("fr-temp-div")?e(this).replaceWith(e(this).html()):e(this).replaceWith(e(this).html()+"<br>")})),t.$el.find(".fr-temp-div").removeClass("fr-temp-div").filter((function(){return""===e(this).attr("class")})).removeAttr("class")},escapeEntities:function(e){return e.replace(/</gi,"&lt;").replace(/>/gi,"&gt;").replace(/"/gi,"&quot;").replace(/'/gi,"&#39;")},checkIfEmpty:g,extractNode:m,extractNodeAttrs:v,extractDoctype:b,cleanBRs:function(){for(var e=t.el.getElementsByTagName("br"),n=0;n<e.length;n++)h(e[n])},_init:function(){if(t.$wp){var e=function(){_(),t.placeholder&&setTimeout(t.placeholder.refresh,0)};t.events.on("mouseup",e),t.events.on("keydown",e),t.events.on("contentChanged",g)}}}}}(jQuery),function(e){e.extend(e.FE.DEFAULTS,{height:null,heightMax:null,heightMin:null,width:null}),e.FE.MODULES.size=function(e){function t(){n(),e.opts.height&&e.$el.css("minHeight",e.opts.height-e.helpers.getPX(e.$el.css("padding-top"))-e.helpers.getPX(e.$el.css("padding-bottom"))),e.$iframe.height(e.$el.outerHeight(!0))}function n(){e.opts.heightMin?e.$el.css("minHeight",e.opts.heightMin):e.$el.css("minHeight",""),e.opts.heightMax?(e.$wp.css("maxHeight",e.opts.heightMax),e.$wp.css("overflow","auto")):(e.$wp.css("maxHeight",""),e.$wp.css("overflow","")),e.opts.height?(e.$wp.height(e.opts.height),e.$wp.css("overflow","auto"),e.$el.css("minHeight",e.opts.height-e.helpers.getPX(e.$el.css("padding-top"))-e.helpers.getPX(e.$el.css("padding-bottom")))):(e.$wp.css("height",""),e.opts.heightMin||e.$el.css("minHeight",""),e.opts.heightMax||e.$wp.css("overflow","")),e.opts.width&&e.$box.width(e.opts.width)}return{_init:function(){if(!e.$wp)return!1;n(),e.$iframe&&(e.events.on("keyup keydown",(function(){setTimeout(t,0)}),!0),e.events.on("commands.after html.set init initialized paste.after",t))},syncIframe:t,refresh:n}}}(jQuery),function(e){e.extend(e.FE.DEFAULTS,{language:null}),e.FE_LANGUAGE||(e.FE_LANGUAGE={}),e.FE.MODULES.language=function(t){var n;return{_init:function(){e.FE_LANGUAGE&&(n=e.FE_LANGUAGE[t.opts.language]),n&&n.direction&&(t.opts.direction=n.direction)},translate:function(e){return n&&n.translation[e]&&n.translation[e].length?n.translation[e]:e}}}}(jQuery),function(e){e.extend(e.FE.DEFAULTS,{placeholderText:"Type something"}),e.FE.MODULES.placeholder=function(t){function n(){t.$placeholder||(t.$placeholder=e('<span class="fr-placeholder"></span>'),t.$wp.append(t.$placeholder));var n=t.opts.iframe?t.$iframe.prev().outerHeight(!0):t.$el.prev().outerHeight(!0),o=0,r=0,i=0,a=0,s=0,l=0,d=t.node.contents(t.el),c=e(t.selection.element()).css("text-align");if(d.length&&d[0].nodeType==Node.ELEMENT_NODE){var p=e(d[0]);(!t.opts.toolbarInline||t.$el.prev().length>0)&&t.ready&&(o=t.helpers.getPX(p.css("margin-top")),a=t.helpers.getPX(p.css("padding-top")),r=t.helpers.getPX(p.css("margin-left")),i=t.helpers.getPX(p.css("margin-right")),s=t.helpers.getPX(p.css("padding-left")),l=t.helpers.getPX(p.css("padding-right"))),t.$placeholder.css("font-size",p.css("font-size")),t.$placeholder.css("line-height",p.css("line-height"))}else t.$placeholder.css("font-size",t.$el.css("font-size")),t.$placeholder.css("line-height",t.$el.css("line-height"));if(t.$wp.addClass("show-placeholder"),t.$placeholder.css({marginTop:Math.max(t.helpers.getPX(t.$el.css("margin-top")),o)+(n||0),paddingTop:Math.max(t.helpers.getPX(t.$el.css("padding-top")),a),paddingLeft:Math.max(t.helpers.getPX(t.$el.css("padding-left")),s),marginLeft:Math.max(t.helpers.getPX(t.$el.css("margin-left")),r),paddingRight:Math.max(t.helpers.getPX(t.$el.css("padding-right")),l),marginRight:Math.max(t.helpers.getPX(t.$el.css("margin-right")),i),textAlign:c}).text(t.language.translate(t.opts.placeholderText||t.$oel.attr("placeholder")||"")),t.$placeholder.html(t.$placeholder.text().replace(/\n/g,"<br>")),t.size.refresh(),t.$placeholder.height()>t.$el.height()){var f=t.opts.heightMin;t.opts.heightMin=t.$placeholder.height()+t.$tb?t.$tb.height():0,t.size.refresh(),t.opts.heightMin=f}}function o(){t.$wp.removeClass("show-placeholder"),t.size.refresh()}function r(){if(!t.$wp)return!1;t.core.isEmpty()?n():o()}return{_init:function(){if(!t.$wp)return!1;t.events.on("init input keydown keyup contentChanged initialized",r)},show:n,hide:o,refresh:r,isVisible:function(){return!!t.$wp&&t.node.hasClass(t.$wp.get(0),"show-placeholder")}}}}(jQuery),jQuery.FE.MODULES.edit=function(e){function t(){if(e.browser.mozilla)try{e.doc.execCommand("enableObjectResizing",!1,"false"),e.doc.execCommand("enableInlineTableEditing",!1,"false")}catch(e){}if(e.browser.msie)try{e.doc.body.addEventListener("mscontrolselect",(function(e){return e.preventDefault(),!1}))}catch(e){}}var n=!1;function o(){return n}return{_init:function(){e.events.on("focus",(function(){o()?e.edit.off():e.edit.on()}))},on:function(){e.$wp?(e.$el.attr("contenteditable",!0),e.$el.removeClass("fr-disabled").attr("aria-disabled",!1),e.$tb&&e.$tb.removeClass("fr-disabled").removeAttr("aria-disabled"),t()):e.$el.is("a")&&e.$el.attr("contenteditable",!0),n=!1},off:function(){e.events.disableBlur(),e.$wp?(e.$el.attr("contenteditable",!1),e.$el.addClass("fr-disabled").attr("aria-disabled",!0),e.$tb&&e.$tb.addClass("fr-disabled").attr("aria-disabled",!0)):e.$el.is("a")&&e.$el.attr("contenteditable",!1),e.events.enableBlur(),n=!0},disableDesign:t,isDisabled:o}},function(e){e.extend(e.FE.DEFAULTS,{documentReady:!1,editorClass:null,typingTimer:500,iframe:!1,requestWithCORS:!0,requestWithCredentials:!1,requestHeaders:{},useClasses:!0,spellcheck:!0,iframeDefaultStyle:'html{margin:0px;height:auto;}body{height:auto;padding:10px;background:transparent;color:#000000;position:relative;z-index: 2;-webkit-user-select:auto;margin:0px;overflow:hidden;min-height:20px;}body:after{content:"";display:block;clear:both;}body::-moz-selection{background:#b5d6fd;color:#000;}body::selection{background:#b5d6fd;color:#000;}',iframeStyle:"",iframeStyleFiles:[],direction:"auto",zIndex:1,tabIndex:null,disableRightClick:!1,scrollableContainer:"body",keepFormatOnDelete:!1,theme:null}),e.FE.MODULES.core=function(t){function n(){if(t.$box.addClass("fr-box"+(t.opts.editorClass?" "+t.opts.editorClass:"")),t.$box.attr("role","application"),t.$wp.addClass("fr-wrapper"),t.opts.documentReady&&t.$box.addClass("fr-document"),t.opts.iframe||t.$el.addClass("fr-element fr-view"),(t.opts.height===1/0||t.opts.height&&t.opts.height<window.innerHeight||t.opts.heightMax&&t.opts.heightMax<window.innerHeight)&&t.$el.addClass("fr-element-scroll-visible"),t.opts.iframe){t.$iframe.addClass("fr-iframe"),t.$el.addClass("fr-view");for(var e=0;e<t.o_doc.styleSheets.length;e++){var n;try{n=t.o_doc.styleSheets[e].cssRules}catch(e){}if(n)for(var o=0,r=n.length;o<r;o++)!n[o].selectorText||0!==n[o].selectorText.indexOf(".fr-view")&&0!==n[o].selectorText.indexOf(".fr-element")||n[o].style.cssText.length>0&&(0===n[o].selectorText.indexOf(".fr-view")?t.opts.iframeStyle+=n[o].selectorText.replace(/\.fr-view/g,"body")+"{"+n[o].style.cssText+"}":t.opts.iframeStyle+=n[o].selectorText.replace(/\.fr-element/g,"body")+"{"+n[o].style.cssText+"}")}}"auto"!=t.opts.direction&&t.$box.removeClass("fr-ltr fr-rtl").addClass("fr-"+t.opts.direction),t.$el.attr("dir",t.opts.direction),t.$wp.attr("dir",t.opts.direction),t.opts.zIndex>1&&t.$box.css("z-index",t.opts.zIndex),t.opts.theme&&t.$box.addClass(t.opts.theme+"-theme"),t.opts.tabIndex=t.opts.tabIndex||t.$oel.attr("tabIndex"),t.opts.tabIndex&&t.$el.attr("tabIndex",t.opts.tabIndex)}return{_init:function(){if(e.FE.INSTANCES.push(t),t.drag_support={filereader:"undefined"!=typeof FileReader,formdata:!!t.win.FormData,progress:"upload"in new XMLHttpRequest},t.$wp){n(),t.html.set(t._original_html),t.$el.attr("spellcheck",t.opts.spellcheck),t.helpers.isMobile()&&(t.$el.attr("autocomplete",t.opts.spellcheck?"on":"off"),t.$el.attr("autocorrect",t.opts.spellcheck?"on":"off"),t.$el.attr("autocapitalize",t.opts.spellcheck?"on":"off")),t.opts.disableRightClick&&t.events.$on(t.$el,"contextmenu",(function(e){if(2==e.button)return!1}));try{t.doc.execCommand("styleWithCSS",!1,!1)}catch(e){}}"TEXTAREA"==t.$oel.get(0).tagName&&(t.events.on("contentChanged",(function(){t.$oel.val(t.html.get())})),t.events.on("form.submit",(function(){t.$oel.val(t.html.get())})),t.events.on("form.reset",(function(){t.html.set(t._original_html)})),t.$oel.val(t.html.get())),t.helpers.isIOS()&&t.events.$on(t.$doc,"selectionchange",(function(){t.$doc.get(0).hasFocus()||t.$win.get(0).focus()})),t.events.trigger("init"),t.opts.autofocus&&!t.opts.initOnClick&&t.$wp&&t.events.on("initialized",(function(){t.events.focus(!0)}))},destroy:function(e){"TEXTAREA"==t.$oel.get(0).tagName&&t.$oel.val(e),t.$box&&t.$box.removeAttr("role"),t.$wp&&("TEXTAREA"==t.$oel.get(0).tagName?(t.$el.html(""),t.$wp.html(""),t.$box.replaceWith(t.$oel),t.$oel.show()):(t.$wp.replaceWith(e),t.$el.html(""),t.$box.removeClass("fr-view fr-ltr fr-box "+(t.opts.editorClass||"")),t.opts.theme&&t.$box.addClass(t.opts.theme+"-theme"))),this.$wp=null,this.$el=null,this.el=null,this.$box=null},isEmpty:function(){return t.node.isEmpty(t.el)},getXHR:function(e,n){var o=new XMLHttpRequest;for(var r in o.open(n,e,!0),t.opts.requestWithCredentials&&(o.withCredentials=!0),t.opts.requestHeaders)t.opts.requestHeaders.hasOwnProperty(r)&&o.setRequestHeader(r,t.opts.requestHeaders[r]);return o},injectStyle:function(n){if(t.opts.iframe){t.$head.find("style[data-fr-style], link[data-fr-style]").remove(),t.$head.append('<style data-fr-style="true">'+n+"</style>");for(var o=0;o<t.opts.iframeStyleFiles.length;o++){var r=e('<link data-fr-style="true" rel="stylesheet" href="'+t.opts.iframeStyleFiles[o]+'">');r.get(0).addEventListener("load",t.size.syncIframe),t.$head.append(r)}}},hasFocus:function(){return t.browser.mozilla&&t.helpers.isMobile()?t.selection.inEditor():t.node.hasFocus(t.el)||t.$el.find("*:focus").length>0},sameInstance:function(e){if(!e)return!1;var n=e.data("instance");return!!n&&n.id==t.id}}}}(jQuery),function(e){e.FE.MODULES.cursorLists=function(t){function n(e){for(var t=e;"LI"!=t.tagName;)t=t.parentNode;return t}function o(e){for(var n=e;!t.node.isList(n);)n=n.parentNode;return n}return{_startEnter:function(r){var i,a=n(r),s=a.nextSibling,l=a.previousSibling,d=t.html.defaultTag();if(t.node.isEmpty(a,!0)&&s){for(var c="",p="",f=r.parentNode;!t.node.isList(f)&&f.parentNode&&("LI"!==f.parentNode.tagName||f.parentNode===a);)c=t.node.openTagString(f)+c,p+=t.node.closeTagString(f),f=f.parentNode;c=t.node.openTagString(f)+c,p+=t.node.closeTagString(f);var h="";for(h=f.parentNode&&"LI"==f.parentNode.tagName?p+"<li>"+e.FE.MARKERS+"<br>"+c:d?p+"<"+d+">"+e.FE.MARKERS+"<br></"+d+">"+c:p+e.FE.MARKERS+"<br>"+c;["UL","OL"].indexOf(f.tagName)<0||f.parentNode&&"LI"===f.parentNode.tagName;)f=f.parentNode;e(a).replaceWith('<span id="fr-break"></span>');var u=t.node.openTagString(f)+e(f).html()+t.node.closeTagString(f);u=u.replace(/<span id="fr-break"><\/span>/g,h),e(f).replaceWith(u),t.$el.find("li:empty").remove()}else if(l&&s||!t.node.isEmpty(a,!0)){for(var g="<br>",m=r.parentNode;m&&"LI"!=m.tagName;)g=t.node.openTagString(m)+g+t.node.closeTagString(m),m=m.parentNode;e(a).before("<li>"+g+"</li>"),e(r).remove()}else if(l){i=o(a);for(var v=e.FE.MARKERS+"<br>",b=r.parentNode;b&&"LI"!=b.tagName;)v=t.node.openTagString(b)+v+t.node.closeTagString(b),b=b.parentNode;i.parentNode&&"LI"==i.parentNode.tagName?e(i.parentNode).after("<li>"+v+"</li>"):d?e(i).after("<"+d+">"+v+"</"+d+">"):e(i).after(v),e(a).remove()}else(i=o(a)).parentNode&&"LI"==i.parentNode.tagName?s?e(i.parentNode).before(t.node.openTagString(a)+e.FE.MARKERS+"<br></li>"):e(i.parentNode).after(t.node.openTagString(a)+e.FE.MARKERS+"<br></li>"):d?e(i).before("<"+d+">"+e.FE.MARKERS+"<br></"+d+">"):e(i).before(e.FE.MARKERS+"<br>"),e(a).remove()},_middleEnter:function(o){for(var r=n(o),i="",a=o,s="",l="";a!=r;){var d="A"==(a=a.parentNode).tagName&&t.cursor.isAtEnd(o,a)?"fr-to-remove":"";s=t.node.openTagString(e(a).clone().addClass(d).get(0))+s,l=t.node.closeTagString(a)+l}i=l+i+s+e.FE.MARKERS+(t.opts.keepFormatOnDelete?e.FE.INVISIBLE_SPACE:""),e(o).replaceWith('<span id="fr-break"></span>');var c=t.node.openTagString(r)+e(r).html()+t.node.closeTagString(r);c=c.replace(/<span id="fr-break"><\/span>/g,i),e(r).replaceWith(c)},_endEnter:function(o){for(var r=n(o),i=e.FE.MARKERS,a="",s=o,l=!1;s!=r;){var d="A"==(s=s.parentNode).tagName&&t.cursor.isAtEnd(o,s)?"fr-to-remove":"";l||s==r||t.node.isBlock(s)||(l=!0,a+=e.FE.INVISIBLE_SPACE),a=t.node.openTagString(e(s).clone().addClass(d).get(0))+a,i+=t.node.closeTagString(s)}var c=a+i;e(o).remove(),e(r).after(c)},_backspace:function(r){var i=n(r),a=i.previousSibling;if(a){a=e(a).find(t.html.blockTagsQuery()).get(-1)||a,e(r).replaceWith(e.FE.MARKERS);var s=t.node.contents(a);s.length&&"BR"==s[s.length-1].tagName&&e(s[s.length-1]).remove(),e(i).find(t.html.blockTagsQuery()).not("ol, ul, table").each((function(){this.parentNode==i&&e(this).replaceWith(e(this).html()+(t.node.isEmpty(this)?"":"<br>"))}));for(var l,d=t.node.contents(i)[0];d&&!t.node.isList(d);)l=d.nextSibling,e(a).append(d),d=l;for(a=i.previousSibling;d;)l=d.nextSibling,e(a).append(d),d=l;(s=t.node.contents(a)).length>1&&"BR"===s[s.length-1].tagName&&e(s[s.length-1]).remove(),e(i).remove()}else{var c=o(i);if(e(r).replaceWith(e.FE.MARKERS),c.parentNode&&"LI"==c.parentNode.tagName){var p=c.previousSibling;t.node.isBlock(p)?(e(i).find(t.html.blockTagsQuery()).not("ol, ul, table").each((function(){this.parentNode==i&&e(this).replaceWith(e(this).html()+(t.node.isEmpty(this)?"":"<br>"))})),e(p).append(e(i).html())):e(c).before(e(i).html())}else{var f=t.html.defaultTag();f&&0===e(i).find(t.html.blockTagsQuery()).length?e(c).before("<"+f+">"+e(i).html()+"</"+f+">"):e(c).before(e(i).html())}e(i).remove(),t.html.wrap(),0===e(c).find("li").length&&e(c).remove()}},_del:function(o){var r,i=n(o),a=i.nextSibling;if(a){(r=t.node.contents(a)).length&&"BR"==r[0].tagName&&e(r[0]).remove(),e(a).find(t.html.blockTagsQuery()).not("ol, ul, table").each((function(){this.parentNode==a&&e(this).replaceWith(e(this).html()+(t.node.isEmpty(this)?"":"<br>"))}));for(var s,l=o,d=t.node.contents(a)[0];d&&!t.node.isList(d);)s=d.nextSibling,e(l).after(d),l=d,d=s;for(;d;)s=d.nextSibling,e(i).append(d),d=s;e(o).replaceWith(e.FE.MARKERS),e(a).remove()}else{for(var c=i;!c.nextSibling&&c!=t.el;)c=c.parentNode;if(c==t.el)return!1;if(c=c.nextSibling,t.node.isBlock(c))e.FE.NO_DELETE_TAGS.indexOf(c.tagName)<0&&(e(o).replaceWith(e.FE.MARKERS),(r=t.node.contents(i)).length&&"BR"==r[r.length-1].tagName&&e(r[r.length-1]).remove(),e(i).append(e(c).html()),e(c).remove());else for((r=t.node.contents(i)).length&&"BR"==r[r.length-1].tagName&&e(r[r.length-1]).remove(),e(o).replaceWith(e.FE.MARKERS);c&&!t.node.isBlock(c)&&"BR"!=c.tagName;)e(i).append(e(c)),c=c.nextSibling}}}}}(jQuery),function(e){e.FE.NO_DELETE_TAGS=["TH","TD","TR","TABLE","FORM"],e.FE.SIMPLE_ENTER_TAGS=["TH","TD","LI","DL","DT","FORM"],e.FE.MODULES.cursor=function(t){function n(e){return!!e&&(!!t.node.isBlock(e)||(e.nextSibling&&e.nextSibling.nodeType==Node.TEXT_NODE&&0===e.nextSibling.textContent.replace(/\u200b/g,"").length?n(e.nextSibling):!(e.nextSibling&&(!e.previousSibling||"BR"!=e.nextSibling.tagName||e.nextSibling.nextSibling))&&n(e.parentNode)))}function o(e){return!!e&&(!!t.node.isBlock(e)||(e.previousSibling&&e.previousSibling.nodeType==Node.TEXT_NODE&&0===e.previousSibling.textContent.replace(/\u200b/g,"").length?o(e.previousSibling):!e.previousSibling&&(!(e.previousSibling||!t.node.hasClass(e.parentNode,"fr-inner"))||o(e.parentNode))))}function r(e,n){return!!e&&(e!=t.$wp.get(0)&&(e.previousSibling&&e.previousSibling.nodeType==Node.TEXT_NODE&&0===e.previousSibling.textContent.replace(/\u200b/g,"").length?r(e.previousSibling,n):!e.previousSibling&&(e.parentNode==n||r(e.parentNode,n))))}function i(e,n){return!!e&&(e!=t.$wp.get(0)&&(e.nextSibling&&e.nextSibling.nodeType==Node.TEXT_NODE&&0===e.nextSibling.textContent.replace(/\u200b/g,"").length?i(e.nextSibling,n):!(e.nextSibling&&(!e.previousSibling||"BR"!=e.nextSibling.tagName||e.nextSibling.nextSibling))&&(e.parentNode==n||i(e.parentNode,n))))}function a(n){return e(n).parentsUntil(t.$el,"LI").length>0&&0===e(n).parentsUntil("LI","TABLE").length}function s(e,t){var n=new RegExp((t?"^":"")+"(([\\uD83C-\\uDBFF\\uDC00-\\uDFFF]+\\u200D)*[\\uD83C-\\uDBFF\\uDC00-\\uDFFF]{2})"+(t?"":"$"),"i"),o=e.match(n);return o?o[0].length:1}function l(n){for(var o,r=n;!r.previousSibling;)if(r=r.parentNode,t.node.isElement(r))return!1;if(r=r.previousSibling,!t.node.isBlock(r)&&t.node.isEditable(r)){for(o=t.node.contents(r);r.nodeType!=Node.TEXT_NODE&&!t.node.isDeletable(r)&&o.length&&t.node.isEditable(r);)r=o[o.length-1],o=t.node.contents(r);if(r.nodeType==Node.TEXT_NODE){var i=r.textContent,a=i.length;if(i.length&&"\n"===i[i.length-1])return r.textContent=i.substring(0,a-2),0===r.textContent.length&&r.parentNode.removeChild(r),l(n);if(t.opts.tabSpaces&&i.length>=t.opts.tabSpaces)0===i.substr(i.length-t.opts.tabSpaces,i.length-1).replace(/ /g,"").replace(new RegExp(e.FE.UNICODE_NBSP,"g"),"").length&&(a=i.length-t.opts.tabSpaces+1);r.textContent=i.substring(0,a-s(i)),t.opts.htmlUntouched&&!n.nextSibling&&r.textContent.length&&" "===r.textContent[r.textContent.length-1]&&(r.textContent=r.textContent.substring(0,r.textContent.length-1)+e.FE.UNICODE_NBSP);var d=i.length!=r.textContent.length;if(0===r.textContent.length)if(d&&t.opts.keepFormatOnDelete)e(r).after(e.FE.INVISIBLE_SPACE+e.FE.MARKERS);else if((2!=r.parentNode.childNodes.length||r.parentNode!=n.parentNode)&&1!=r.parentNode.childNodes.length||t.node.isBlock(r.parentNode)||t.node.isElement(r.parentNode)||!t.node.isDeletable(r.parentNode)){for(;!t.node.isElement(r.parentNode)&&t.node.isEmpty(r.parentNode)&&e.FE.NO_DELETE_TAGS.indexOf(r.parentNode.tagName)<0;){var c=r;r=r.parentNode,c.parentNode.removeChild(c)}e(r).after(e.FE.MARKERS),t.node.isElement(r.parentNode)&&!n.nextSibling&&r.previousSibling&&"BR"==r.previousSibling.tagName&&e(n).after("<br>"),r.parentNode.removeChild(r)}else e(r.parentNode).after(e.FE.MARKERS),e(r.parentNode).remove();else e(r).after(e.FE.MARKERS)}else t.node.isDeletable(r)?(e(r).after(e.FE.MARKERS),e(r).remove()):n.nextSibling&&"BR"==n.nextSibling.tagName&&t.node.isVoid(r)&&"BR"!=r.tagName?(e(n.nextSibling).remove(),e(n).replaceWith(e.FE.MARKERS)):!1!==t.events.trigger("node.remove",[e(r)])&&(e(r).after(e.FE.MARKERS),e(r).remove())}else if(e.FE.NO_DELETE_TAGS.indexOf(r.tagName)<0&&(t.node.isEditable(r)||t.node.isDeletable(r)))if(t.node.isDeletable(r))e(n).replaceWith(e.FE.MARKERS),e(r).remove();else if(t.node.isEmpty(r)&&!t.node.isList(r))e(r).remove(),e(n).replaceWith(e.FE.MARKERS);else{for(t.node.isList(r)&&(r=e(r).find("li:last").get(0)),(o=t.node.contents(r))&&"BR"==o[o.length-1].tagName&&e(o[o.length-1]).remove(),o=t.node.contents(r);o&&t.node.isBlock(o[o.length-1]);)r=o[o.length-1],o=t.node.contents(r);e(r).append(e.FE.MARKERS);for(var p=n;!p.previousSibling;)p=p.parentNode;for(;p&&"BR"!==p.tagName&&!t.node.isBlock(p);){var f=p;p=p.nextSibling,e(r).append(f)}p&&"BR"==p.tagName&&e(p).remove(),e(n).remove()}else n.nextSibling&&"BR"==n.nextSibling.tagName&&e(n.nextSibling).remove()}function d(n){var o=e(n).parentsUntil(t.$el,"BLOCKQUOTE").length>0,r=t.node.deepestParent(n,[],!o);if(r&&"BLOCKQUOTE"==r.tagName){var i=t.node.deepestParent(n,[e(n).parentsUntil(t.$el,"BLOCKQUOTE").get(0)]);i&&i.nextSibling&&(r=i)}if(null!==r){var a,s=r.nextSibling;if(t.node.isBlock(r)&&(t.node.isEditable(r)||t.node.isDeletable(r))&&s&&e.FE.NO_DELETE_TAGS.indexOf(s.tagName)<0)if(t.node.isDeletable(s))e(s).remove(),e(n).replaceWith(e.FE.MARKERS);else if(t.node.isBlock(s)&&t.node.isEditable(s))if(t.node.isList(s))if(t.node.isEmpty(r,!0))e(r).remove(),e(s).find("li:first").prepend(e.FE.MARKERS);else{var l=e(s).find("li:first");"BLOCKQUOTE"==r.tagName&&(a=t.node.contents(r)).length&&t.node.isBlock(a[a.length-1])&&(r=a[a.length-1]),0===l.find("ul, ol").length&&(e(n).replaceWith(e.FE.MARKERS),l.find(t.html.blockTagsQuery()).not("ol, ul, table").each((function(){this.parentNode==l.get(0)&&e(this).replaceWith(e(this).html()+(t.node.isEmpty(this)?"":"<br>"))})),e(r).append(t.node.contents(l.get(0))),l.remove(),0===e(s).find("li").length&&e(s).remove())}else{if((a=t.node.contents(s)).length&&"BR"==a[0].tagName&&e(a[0]).remove(),"BLOCKQUOTE"!=s.tagName&&"BLOCKQUOTE"==r.tagName)for(a=t.node.contents(r);a.length&&t.node.isBlock(a[a.length-1]);)r=a[a.length-1],a=t.node.contents(r);else if("BLOCKQUOTE"==s.tagName&&"BLOCKQUOTE"!=r.tagName)for(a=t.node.contents(s);a.length&&t.node.isBlock(a[0]);)s=a[0],a=t.node.contents(s);e(n).replaceWith(e.FE.MARKERS),e(r).append(s.innerHTML),e(s).remove()}else{for(e(n).replaceWith(e.FE.MARKERS);s&&"BR"!==s.tagName&&!t.node.isBlock(s)&&t.node.isEditable(s);){var d=s;s=s.nextSibling,e(r).append(d)}s&&"BR"==s.tagName&&t.node.isEditable(s)&&e(s).remove()}}}function c(o){for(var r,i=o;!i.nextSibling;)if(i=i.parentNode,t.node.isElement(i))return!1;if("BR"==(i=i.nextSibling).tagName&&t.node.isEditable(i))if(i.nextSibling){if(t.node.isBlock(i.nextSibling)&&t.node.isEditable(i.nextSibling)){if(!(e.FE.NO_DELETE_TAGS.indexOf(i.nextSibling.tagName)<0))return void e(i).remove();i=i.nextSibling,e(i.previousSibling).remove()}}else if(n(i)){if(a(o))t.cursorLists._del(o);else t.node.deepestParent(i)&&((!t.node.isEmpty(t.node.blockParent(i))||(t.node.blockParent(i).nextSibling&&e.FE.NO_DELETE_TAGS.indexOf(t.node.blockParent(i).nextSibling.tagName))<0)&&e(i).remove(),d(o));return}if(!t.node.isBlock(i)&&t.node.isEditable(i)){for(r=t.node.contents(i);i.nodeType!=Node.TEXT_NODE&&r.length&&!t.node.isDeletable(i)&&t.node.isEditable(i);)i=r[0],r=t.node.contents(i);i.nodeType==Node.TEXT_NODE?(e(i).before(e.FE.MARKERS),i.textContent.length&&(i.textContent=i.textContent.substring(s(i.textContent,!0),i.textContent.length))):(t.node.isDeletable(i)||!1!==t.events.trigger("node.remove",[e(i)]))&&(e(i).before(e.FE.MARKERS),e(i).remove()),e(o).remove()}else if(e.FE.NO_DELETE_TAGS.indexOf(i.tagName)<0&&(t.node.isEditable(i)||t.node.isDeletable(i)))if(t.node.isDeletable(i))e(o).replaceWith(e.FE.MARKERS),e(i).remove();else if(t.node.isList(i))o.previousSibling?(e(i).find("li:first").prepend(o),t.cursorLists._backspace(o)):(e(i).find("li:first").prepend(e.FE.MARKERS),e(o).remove());else if((r=t.node.contents(i))&&r.length&&"BR"==r[0].tagName&&e(r[0]).remove(),r&&"BLOCKQUOTE"==i.tagName){var l=r[0];for(e(o).before(e.FE.MARKERS);l&&"BR"!=l.tagName;){var c=l;l=l.nextSibling,e(o).before(c)}l&&"BR"==l.tagName&&e(l).remove()}else e(o).after(e(i).html()).after(e.FE.MARKERS),e(i).remove()}function p(){for(var e=t.el.querySelectorAll("blockquote:empty"),n=0;n<e.length;n++)e[n].parentNode.removeChild(e[n])}function f(n,o,r){var a,s=t.node.deepestParent(n,[],!r);if(s&&"BLOCKQUOTE"==s.tagName)return i(n,s)?(a=t.html.defaultTag(),o?e(n).replaceWith("<br>"+e.FE.MARKERS):a?e(s).after("<"+a+">"+e.FE.MARKERS+"<br></"+a+">"):e(s).after(e.FE.MARKERS+"<br>"),e(n).remove(),!1):(u(n,o,r),!1);if(null==s)(a=t.html.defaultTag())&&t.node.isElement(n.parentNode)?e(n).replaceWith("<"+a+">"+e.FE.MARKERS+"<br></"+a+">"):!n.previousSibling||e(n.previousSibling).is("br")||n.nextSibling?e(n).replaceWith("<br>"+e.FE.MARKERS):e(n).replaceWith("<br>"+e.FE.MARKERS+"<br>");else{var l=n,d="";"PRE"!=s.tagName||n.nextSibling||(o=!0),t.node.isBlock(s)&&!o||(d="<br/>");var c,p="",f="",h="",g="";(a=t.html.defaultTag())&&t.node.isBlock(s)&&(h="<"+a+">",g="</"+a+">",s.tagName==a.toUpperCase()&&(h=t.node.openTagString(e(s).clone().removeAttr("id").get(0))));do{if(l=l.parentNode,!o||l!=s||o&&!t.node.isBlock(s))if(p+=t.node.closeTagString(l),l==s&&t.node.isBlock(s))f=h+f;else{var m="A"==l.tagName&&i(n,l)?"fr-to-remove":"";f=t.node.openTagString(e(l).clone().addClass(m).get(0))+f}}while(l!=s);d=p+d+f+(n.parentNode==s&&t.node.isBlock(s)?"":e.FE.INVISIBLE_SPACE)+e.FE.MARKERS,t.node.isBlock(s)&&!e(s).find("*:last").is("br")&&e(s).append("<br/>"),e(n).after('<span id="fr-break"></span>'),e(n).remove(),s.nextSibling&&!t.node.isBlock(s.nextSibling)||t.node.isBlock(s)||e(s).after("<br>"),c=(c=!o&&t.node.isBlock(s)?t.node.openTagString(s)+e(s).html()+g:t.node.openTagString(s)+e(s).html()+t.node.closeTagString(s)).replace(/<span id="fr-break"><\/span>/g,d),e(s).replaceWith(c)}}function h(n,o,a){var s,l=t.node.deepestParent(n,[],!a);if(l&&"TABLE"==l.tagName)return e(l).find("td:first, th:first").prepend(n),h(n,o,a);if(l&&"BLOCKQUOTE"==l.tagName)if(r(n,l)){if(!o)return(s=t.html.defaultTag())?e(l).before("<"+s+">"+e.FE.MARKERS+"<br></"+s+">"):e(l).before(e.FE.MARKERS+"<br>"),e(n).remove(),!1}else i(n,l)?f(n,o,!0):u(n,o,!0);if(null==l)(s=t.html.defaultTag())&&t.node.isElement(n.parentNode)?e(n).replaceWith("<"+s+">"+e.FE.MARKERS+"<br></"+s+">"):e(n).replaceWith("<br>"+e.FE.MARKERS);else{if(t.node.isBlock(l))if("PRE"==l.tagName&&(o=!0),o)e(n).remove(),e(l).prepend("<br>"+e.FE.MARKERS);else{if(t.node.isEmpty(l,!0))return f(n,o,a);if(t.opts.keepFormatOnDelete){for(var d=n,c=e.FE.INVISIBLE_SPACE;d!=l&&!t.node.isElement(d);)d=d.parentNode,c=t.node.openTagString(d)+c+t.node.closeTagString(d);e(l).before(c)}else e(l).before(t.node.openTagString(e(l).clone().removeAttr("id").get(0))+"<br>"+t.node.closeTagString(l))}else e(l).before("<br>");e(n).remove()}}function u(n,o,a){var s=t.node.deepestParent(n,[],!a);if(null==s)t.html.defaultTag()&&n.parentNode===t.el?e(n).replaceWith("<"+t.html.defaultTag()+">"+e.FE.MARKERS+"<br></"+t.html.defaultTag()+">"):(n.nextSibling&&!t.node.isBlock(n.nextSibling)||e(n).after("<br>"),e(n).replaceWith("<br>"+e.FE.MARKERS));else{var l=n,d="";"PRE"==s.tagName&&(o=!0),t.node.isBlock(s)&&!o||(d="<br>");var c="",p="";do{var f=l;if(l=l.parentNode,"BLOCKQUOTE"==s.tagName&&t.node.isEmpty(f)&&!t.node.hasClass(f,"fr-marker")&&e(f).find(n).length>0&&e(f).after(n),"BLOCKQUOTE"!=s.tagName||!i(n,l)&&!r(n,l))if(!o||l!=s||o&&!t.node.isBlock(s)){c+=t.node.closeTagString(l);var h="A"==l.tagName&&i(n,l)?"fr-to-remove":"";p=t.node.openTagString(e(l).clone().addClass(h).removeAttr("id").get(0))+p}else"BLOCKQUOTE"==s.tagName&&o&&(c="",p="")}while(l!=s);var u=s==n.parentNode&&t.node.isBlock(s)||n.nextSibling;if("BLOCKQUOTE"==s.tagName)if(n.previousSibling&&t.node.isBlock(n.previousSibling)&&n.nextSibling&&"BR"==n.nextSibling.tagName&&(e(n.nextSibling).after(n),n.nextSibling&&"BR"==n.nextSibling.tagName&&e(n.nextSibling).remove()),o)d=c+d+e.FE.MARKERS+p;else{var g=t.html.defaultTag();d=c+d+(g?"<"+g+">":"")+e.FE.MARKERS+"<br>"+(g?"</"+g+">":"")+p}else d=c+d+p+(u?"":e.FE.INVISIBLE_SPACE)+e.FE.MARKERS;e(n).replaceWith('<span id="fr-break"></span>');var m=t.node.openTagString(s)+e(s).html()+t.node.closeTagString(s);m=m.replace(/<span id="fr-break"><\/span>/g,d),e(s).replaceWith(m)}}return{enter:function(r){var i=t.markers.insert();if(!i)return!0;for(var s=i.parentNode;s&&!t.node.isElement(s);){if("false"===s.getAttribute("contenteditable"))return e(i).replaceWith(e.FE.MARKERS),t.selection.restore(),!1;if("true"===s.getAttribute("contenteditable"))break;s=s.parentNode}t.el.normalize();var l=!1;e(i).parentsUntil(t.$el,"BLOCKQUOTE").length>0&&(l=!0),e(i).parentsUntil(t.$el,"TD, TH").length&&(l=!1),n(i)?!a(i)||r||l?f(i,r,l):t.cursorLists._endEnter(i):o(i)?!a(i)||r||l?h(i,r,l):t.cursorLists._startEnter(i):!a(i)||r||l?u(i,r,l):t.cursorLists._middleEnter(i),t.$el.find(".fr-to-remove").each((function(){for(var n=t.node.contents(this),o=0;o<n.length;o++)n[o].nodeType==Node.TEXT_NODE&&(n[o].textContent=n[o].textContent.replace(/\u200B/g,""));e(this).replaceWith(this.innerHTML)})),t.html.fillEmptyBlocks(!0),t.opts.htmlUntouched||(t.html.cleanEmptyTags(),t.clean.lists(),t.spaces.normalizeAroundCursor()),t.selection.restore()},backspace:function(){var i=!1,d=t.markers.insert();if(!d)return!0;for(var c=d.parentNode;c&&!t.node.isElement(c);){if("false"===c.getAttribute("contenteditable"))return e(d).replaceWith(e.FE.MARKERS),t.selection.restore(),!1;if("true"===c.getAttribute("contenteditable"))break;c=c.parentNode}t.el.normalize();var f=d.previousSibling;if(f){var h=f.textContent;h&&h.length&&8203==h.charCodeAt(h.length-1)&&(1==h.length?e(f).remove():f.textContent=f.textContent.substr(0,h.length-s(h)))}return a(d)&&r(d,e(d).parents("li:first").get(0))?t.cursorLists._backspace(d):i=n(d)?l(d):o(d)?function(n){for(var o=e(n).parentsUntil(t.$el,"BLOCKQUOTE").length>0,r=t.node.deepestParent(n,[],!o),i=r;r&&!r.previousSibling&&"BLOCKQUOTE"!=r.tagName&&r.parentElement!=t.el&&!t.node.hasClass(r.parentElement,"fr-inner")&&e.FE.SIMPLE_ENTER_TAGS.indexOf(r.parentElement.tagName)<0;)r=r.parentElement;if(r&&"BLOCKQUOTE"==r.tagName){var a=t.node.deepestParent(n,[e(n).parentsUntil(t.$el,"BLOCKQUOTE").get(0)]);a&&a.previousSibling&&(r=a,i=a)}if(null!==r){var s,l=r.previousSibling;if(t.node.isBlock(r)&&t.node.isEditable(r))if(l&&e.FE.NO_DELETE_TAGS.indexOf(l.tagName)<0){if(t.node.isDeletable(l))e(l).remove(),e(n).replaceWith(e.FE.MARKERS);else if(t.node.isEditable(l))if(t.node.isBlock(l))if(t.node.isEmpty(l)&&!t.node.isList(l))e(l).remove(),e(n).after(t.opts.keepFormatOnDelete?e.FE.INVISIBLE_SPACE:"");else{if(t.node.isList(l)&&(l=e(l).find("li:last").get(0)),(s=t.node.contents(l)).length&&"BR"==s[s.length-1].tagName&&e(s[s.length-1]).remove(),"BLOCKQUOTE"==l.tagName&&"BLOCKQUOTE"!=r.tagName)for(s=t.node.contents(l);s.length&&t.node.isBlock(s[s.length-1]);)l=s[s.length-1],s=t.node.contents(l);else if("BLOCKQUOTE"!=l.tagName&&"BLOCKQUOTE"==i.tagName)for(s=t.node.contents(i);s.length&&t.node.isBlock(s[0]);)i=s[0],s=t.node.contents(i);if(t.node.isEmpty(r))e(n).remove(),t.selection.setAtEnd(l,!0);else{e(n).replaceWith(e.FE.MARKERS);var d=l.childNodes;t.node.isBlock(d[d.length-1])?e(d[d.length-1]).append(i.innerHTML):e(l).append(i.innerHTML)}e(i).remove(),t.node.isEmpty(r)&&e(r).remove()}else e(n).replaceWith(e.FE.MARKERS),"BLOCKQUOTE"==r.tagName&&l.nodeType==Node.ELEMENT_NODE?e(l).remove():(e(l).after(t.node.isEmpty(r)?"":e(r).html()),e(r).remove(),"BR"==l.tagName&&e(l).remove())}else l||r&&"BLOCKQUOTE"==r.tagName&&0==e(r).text().replace(/\u200B/g,"").length&&e(r).remove()}}(d):l(d),e(d).remove(),p(),t.html.fillEmptyBlocks(!0),t.opts.htmlUntouched||(t.html.cleanEmptyTags(),t.clean.lists(),t.spaces.normalizeAroundCursor()),t.selection.restore(),i},del:function(){var r=t.markers.insert();if(!r)return!1;if(t.el.normalize(),n(r))if(a(r))if(0===e(r).parents("li:first").find("ul, ol").length)t.cursorLists._del(r);else{var i=e(r).parents("li:first").find("ul:first, ol:first").find("li:first");(i=i.find(t.html.blockTagsQuery()).get(-1)||i).prepend(r),t.cursorLists._backspace(r)}else d(r);else o(r),c(r);e(r).remove(),p(),t.html.fillEmptyBlocks(!0),t.opts.htmlUntouched||(t.html.cleanEmptyTags(),t.clean.lists()),t.spaces.normalizeAroundCursor(),t.selection.restore()},isAtEnd:i,isAtStart:r}}}(jQuery),function(e){e.FE.ENTER_P=0,e.FE.ENTER_DIV=1,e.FE.ENTER_BR=2,e.FE.KEYCODE={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,ARROW_LEFT:37,ARROW_UP:38,ARROW_RIGHT:39,ARROW_DOWN:40,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,FF_SEMICOLON:59,FF_EQUALS:61,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,FF_HYPHEN:173,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,HYPHEN:189,PERIOD:190,SLASH:191,APOSTROPHE:192,TILDE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,IME:229},e.extend(e.FE.DEFAULTS,{enter:e.FE.ENTER_P,multiLine:!0,tabSpaces:0}),e.FE.MODULES.keys=function(t){var n,o,r,i=!1;function a(){if(t.browser.mozilla&&t.selection.isCollapsed()&&!i){var e=t.selection.ranges(0),n=e.startContainer,o=e.startOffset;n&&n.nodeType==Node.TEXT_NODE&&o<=n.textContent.length&&o>0&&32==n.textContent.charCodeAt(o-1)&&(t.selection.save(),t.spaces.normalize(),t.selection.restore())}}function s(){t.selection.isFull()&&setTimeout((function(){var n=t.html.defaultTag();n?t.$el.html("<"+n+">"+e.FE.MARKERS+"<br/></"+n+">"):t.$el.html(e.FE.MARKERS+"<br/>"),t.selection.restore(),t.placeholder.refresh(),t.button.bulkRefresh(),t.undo.saveStep()}),0)}function l(){i=!1}function d(){i=!1}function c(){var n=t.html.defaultTag();n?t.$el.html("<"+n+">"+e.FE.MARKERS+"<br/></"+n+">"):t.$el.html(e.FE.MARKERS+"<br/>"),t.selection.restore()}function p(o){var r=t.selection.element();if(r&&["INPUT","TEXTAREA"].indexOf(r.tagName)>=0)return!0;if(o&&m(o.which))return h(),!0;t.events.disableBlur(),null;var a=o.which;if(16===a)return!0;if(n=a,a===e.FE.KEYCODE.IME)return i=!0,!0;i=!1;var s=v(a)&&!g(o)&&!o.altKey,l=a==e.FE.KEYCODE.BACKSPACE||a==e.FE.KEYCODE.DELETE;if((!(o.shiftKey&&(33===a||34===a||35===a||36===a))&&t.selection.isFull()&&!t.opts.keepFormatOnDelete&&!t.placeholder.isVisible()||l&&t.placeholder.isVisible()&&t.opts.keepFormatOnDelete)&&(s||l)&&(c(),!v(a)))return o.preventDefault(),!0;a==e.FE.KEYCODE.ENTER?o.shiftKey?function(e){e.preventDefault(),e.stopPropagation(),t.opts.multiLine&&(t.selection.isCollapsed()||t.selection.remove(),t.cursor.enter(!0))}(o):function(e){t.opts.multiLine?(t.helpers.isIOS()||(e.preventDefault(),e.stopPropagation()),t.selection.isCollapsed()||t.selection.remove(),t.cursor.enter()):(e.preventDefault(),e.stopPropagation())}(o):a===e.FE.KEYCODE.BACKSPACE&&(o.metaKey||o.ctrlKey)?setTimeout((function(){t.events.disableBlur(),t.events.focus()}),0):a!=e.FE.KEYCODE.BACKSPACE||g(o)||o.altKey?a!=e.FE.KEYCODE.DELETE||g(o)||o.altKey||o.shiftKey?a==e.FE.KEYCODE.SPACE?function(n){var o=t.selection.element();if(!t.helpers.isMobile()&&o&&"A"==o.tagName){n.preventDefault(),n.stopPropagation(),t.selection.isCollapsed()||t.selection.remove();var r=t.markers.insert();if(r){var i=r.previousSibling;!r.nextSibling&&r.parentNode&&"A"==r.parentNode.tagName?(r.parentNode.insertAdjacentHTML("afterend","&nbsp;"+e.FE.MARKERS),r.parentNode.removeChild(r)):(i&&i.nodeType==Node.TEXT_NODE&&1==i.textContent.length&&160==i.textContent.charCodeAt(0)?i.textContent=i.textContent+" ":r.insertAdjacentHTML("beforebegin","&nbsp;"),r.outerHTML=e.FE.MARKERS),t.selection.restore()}}}(o):a==e.FE.KEYCODE.TAB?function(e){if(t.opts.tabSpaces>0)if(t.selection.isCollapsed()){t.undo.saveStep(),e.preventDefault(),e.stopPropagation();for(var n="",o=0;o<t.opts.tabSpaces;o++)n+="&nbsp;";t.html.insert(n),t.placeholder.refresh(),t.undo.saveStep()}else e.preventDefault(),e.stopPropagation(),e.shiftKey?t.commands.outdent():t.commands.indent()}(o):g(o)||!v(o.which)||t.selection.isCollapsed()||o.ctrlKey||o.altKey||t.selection.remove():t.placeholder.isVisible()?(t.opts.keepFormatOnDelete||c(),o.preventDefault(),o.stopPropagation()):function(e){e.preventDefault(),e.stopPropagation(),""===t.selection.text()?t.cursor.del():t.selection.remove(),t.placeholder.refresh()}(o):t.placeholder.isVisible()?(t.opts.keepFormatOnDelete||c(),o.preventDefault(),o.stopPropagation()):function(e){if(t.selection.isCollapsed())if(t.cursor.backspace(),t.helpers.isIOS()){var n=t.selection.ranges(0);n.deleteContents(),n.insertNode(document.createTextNode("​")),t.selection.get().modify("move","forward","character")}else e.preventDefault(),e.stopPropagation();else e.preventDefault(),e.stopPropagation(),t.selection.remove();t.placeholder.refresh()}(o),t.events.enableBlur()}function f(){if(!t.$wp)return!0;var n;t.opts.height||t.opts.heightMax?(n=t.position.getBoundingRect().top,t.opts.iframe&&(n+=t.$iframe.offset().top),n>t.$wp.offset().top-t.helpers.scrollTop()+t.$wp.height()-20&&t.$wp.scrollTop(n+t.$wp.scrollTop()-(t.$wp.height()+t.$wp.offset().top)+t.helpers.scrollTop()+20)):(n=t.position.getBoundingRect().top,t.opts.toolbarBottom&&(n+=t.opts.toolbarStickyOffset),t.opts.iframe&&(n+=t.$iframe.offset().top,n-=t.helpers.scrollTop()),(n+=t.opts.toolbarStickyOffset)>t.o_win.innerHeight-20&&e(t.o_win).scrollTop(n+t.helpers.scrollTop()-t.o_win.innerHeight+20),n=t.position.getBoundingRect().top,t.opts.toolbarBottom||(n-=t.opts.toolbarStickyOffset),t.opts.iframe&&(n+=t.$iframe.offset().top,n-=t.helpers.scrollTop()),n<t.$tb.height()+20&&e(t.o_win).scrollTop(n+t.helpers.scrollTop()-t.$tb.height()-20))}function h(){var e=t.selection.element();(function(e){if(!e)return!1;var t=e.innerHTML;return!!((t=t.replace(/<span[^>]*? class\s*=\s*["']?fr-marker["']?[^>]+>\u200b<\/span>/gi,""))&&/\u200B/.test(t)&&t.replace(/\u200B/gi,"").length>0)})(e)&&!t.node.hasClass(e,"fr-marker")&&"IFRAME"!=e.tagName&&function(e){return!t.helpers.isIOS()||0===((e.textContent||"").match(/[\u3041-\u3096\u30A0-\u30FF\u4E00-\u9FFF\u3130-\u318F\uAC00-\uD7AF]/gi)||[]).length}(e)&&(t.selection.save(),function(e){for(var n=t.doc.createTreeWalker(e,NodeFilter.SHOW_TEXT,t.node.filter((function(e){return/\u200B/gi.test(e.textContent)})),!1);n.nextNode();){var o=n.currentNode;o.textContent=o.textContent.replace(/\u200B/gi,"")}}(e),t.selection.restore())}function u(o){var r=t.selection.element();if(r&&["INPUT","TEXTAREA"].indexOf(r.tagName)>=0)return!0;if(o&&0===o.which&&n&&(o.which=n),t.helpers.isAndroid()&&t.browser.mozilla)return!0;if(i)return!1;if(o&&t.helpers.isIOS()&&o.which==e.FE.KEYCODE.ENTER&&t.doc.execCommand("undo"),!t.selection.isCollapsed())return!0;if(o&&(o.which===e.FE.KEYCODE.META||o.which==e.FE.KEYCODE.CTRL))return!0;if(o&&m(o.which))return!0;if(o&&!t.helpers.isIOS()&&(o.which==e.FE.KEYCODE.ENTER||o.which==e.FE.KEYCODE.BACKSPACE||o.which>=37&&o.which<=40&&!t.browser.msie))try{f()}catch(e){}h()}function g(e){if(-1!=navigator.userAgent.indexOf("Mac OS X")){if(e.metaKey&&!e.altKey)return!0}else if(e.ctrlKey&&!e.altKey)return!0;return!1}function m(t){if(t>=e.FE.KEYCODE.ARROW_LEFT&&t<=e.FE.KEYCODE.ARROW_DOWN)return!0}function v(n){if(n>=e.FE.KEYCODE.ZERO&&n<=e.FE.KEYCODE.NINE)return!0;if(n>=e.FE.KEYCODE.NUM_ZERO&&n<=e.FE.KEYCODE.NUM_MULTIPLY)return!0;if(n>=e.FE.KEYCODE.A&&n<=e.FE.KEYCODE.Z)return!0;if(t.browser.webkit&&0===n)return!0;switch(n){case e.FE.KEYCODE.SPACE:case e.FE.KEYCODE.QUESTION_MARK:case e.FE.KEYCODE.NUM_PLUS:case e.FE.KEYCODE.NUM_MINUS:case e.FE.KEYCODE.NUM_PERIOD:case e.FE.KEYCODE.NUM_DIVISION:case e.FE.KEYCODE.SEMICOLON:case e.FE.KEYCODE.FF_SEMICOLON:case e.FE.KEYCODE.DASH:case e.FE.KEYCODE.EQUALS:case e.FE.KEYCODE.FF_EQUALS:case e.FE.KEYCODE.COMMA:case e.FE.KEYCODE.PERIOD:case e.FE.KEYCODE.SLASH:case e.FE.KEYCODE.APOSTROPHE:case e.FE.KEYCODE.SINGLE_QUOTE:case e.FE.KEYCODE.OPEN_SQUARE_BRACKET:case e.FE.KEYCODE.BACKSLASH:case e.FE.KEYCODE.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}function b(n){var i=n.which;if(g(n)||i>=37&&i<=40||!v(i)&&i!=e.FE.KEYCODE.DELETE&&i!=e.FE.KEYCODE.BACKSPACE&&i!=e.FE.KEYCODE.ENTER&&i!=e.FE.KEYCODE.IME)return!0;o||(r=t.snapshot.get(),t.undo.canDo()||t.undo.saveStep()),clearTimeout(o),o=setTimeout((function(){o=null,t.undo.saveStep()}),Math.max(250,t.opts.typingTimer))}function E(e){var n=e.which;if(g(e)||n>=37&&n<=40)return!0;r&&o?(t.undo.saveStep(r),r=null):void 0!==n&&0!==n||r||o||t.undo.saveStep()}function y(e){if(e&&"BR"==e.tagName)return!1;try{return 0===(e.textContent||"").length&&e.querySelector&&!e.querySelector(":scope > br")||e.childNodes&&1==e.childNodes.length&&e.childNodes[0].getAttribute&&("false"==e.childNodes[0].getAttribute("contenteditable")||t.node.hasClass(e.childNodes[0],"fr-img-caption"))}catch(e){return!1}}function w(n){var o=t.el.childNodes,r=t.html.defaultTag();return!(!n.target||n.target===t.el)||(0===o.length||void(t.$el.outerHeight()-n.offsetY<=10?y(o[o.length-1])&&(r?t.$el.append("<"+r+">"+e.FE.MARKERS+"<br></"+r+">"):t.$el.append(e.FE.MARKERS+"<br>"),t.selection.restore(),f()):n.offsetY<=10&&y(o[0])&&(r?t.$el.prepend("<"+r+">"+e.FE.MARKERS+"<br></"+r+">"):t.$el.prepend(e.FE.MARKERS+"<br>"),t.selection.restore(),f())))}function S(){o&&clearTimeout(o)}return{_init:function(){t.events.on("keydown",b),t.events.on("input",a),t.events.on("mousedown",d),t.events.on("keyup input",E),t.events.on("keypress",l),t.events.on("keydown",p),t.events.on("keyup",u),t.events.on("destroy",S),t.events.on("html.inserted",u),t.events.on("cut",s),t.opts.multiLine&&t.events.on("click",w)},ctrlKey:g,isCharacter:v,isArrow:m,forceUndo:function(){o&&(clearTimeout(o),t.undo.saveStep(),r=null)},isIME:function(){return i},isBrowserAction:function(t){var n=t.which;return g(t)||n==e.FE.KEYCODE.F5},positionCaret:f}}}(jQuery),function(e){e.FE.MODULES.accessibility=function(t){var n=!0;function o(e){e&&e.length&&!t.$el.find('[contenteditable="true"]').is(":focus")&&(e.data("blur-event-set")||e.parents(".fr-popup").length||(t.events.$on(e,"blur",(function(){var n=e.parents(".fr-toolbar, .fr-popup").data("instance")||t;n.events.blurActive()&&!t.core.hasFocus()&&n.events.trigger("blur"),setTimeout((function(){n.events.enableBlur()}),100)}),!0),e.data("blur-event-set",!0)),(e.parents(".fr-toolbar, .fr-popup").data("instance")||t).events.disableBlur(),e.focus(),t.shared.$f_el=e)}function r(e,t){var n=t?"last":"first",r=e.find("button:visible:not(.fr-disabled), .fr-group span.fr-command:visible")[n]();if(r.length)return o(r),!0}function i(e){return e.is("input, textarea, select")&&s(),t.events.disableBlur(),setTimeout((function(){e.focus()}),0),!0}function a(e,n){var o=e.find("input, textarea, button, select").filter(":visible").not(":disabled").filter(n?":last":":first");if(o.length)return i(o);if(t.shared.with_kb){var r=e.find(".fr-active-item:visible:first");if(r.length)return i(r);var a=e.find("[tabIndex]:visible:first");if(a.length)return i(a)}}function s(){0===t.$el.find(".fr-marker").length&&t.core.hasFocus()&&t.selection.save()}function l(){var e=t.popups.areVisible();if(e){var n=e.find(".fr-buttons");return n.find("button:focus, .fr-group span:focus").length?!r(e.data("instance").$tb):!r(n)}return!r(t.$tb)}function d(){var e=null;return t.shared.$f_el.is(".fr-dropdown.fr-active")?e=t.shared.$f_el:t.shared.$f_el.closest(".fr-dropdown-menu").prev().is(".fr-dropdown.fr-active")&&(e=t.shared.$f_el.closest(".fr-dropdown-menu").prev()),e}function c(n,i,s){if(t.shared.$f_el){var l=d();l&&(t.button.click(l),t.shared.$f_el=l);var c=n.find("button:visible:not(.fr-disabled), .fr-group span.fr-command:visible"),p=c.index(t.shared.$f_el);if(0===p&&!s||p==c.length-1&&s){var f;if(i){if(n.parent().is(".fr-popup"))f=!a(n.parent().children().not(".fr-buttons"),!s);!1===f&&(t.shared.$f_el=null)}i&&!1===f||r(n,!s)}else o(e(c.get(p+(s?1:-1))));return!1}}function p(e,t){return c(e,t,!0)}function f(e,t){return c(e,t)}function h(e){if(t.shared.$f_el){var n;if(t.shared.$f_el.is(".fr-dropdown.fr-active"))return o(n=e?t.shared.$f_el.next().find(".fr-command:not(.fr-disabled)").first():t.shared.$f_el.next().find(".fr-command:not(.fr-disabled)").last()),!1;if(t.shared.$f_el.is("a.fr-command"))return(n=e?t.shared.$f_el.closest("li").nextAll(":visible:first").find(".fr-command:not(.fr-disabled)").first():t.shared.$f_el.closest("li").prevAll(":visible:first").find(".fr-command:not(.fr-disabled)").first()).length||(n=e?t.shared.$f_el.closest(".fr-dropdown-menu").find(".fr-command:not(.fr-disabled)").first():t.shared.$f_el.closest(".fr-dropdown-menu").find(".fr-command:not(.fr-disabled)").last()),o(n),!1}}function u(){if(t.shared.$f_el){if(t.shared.$f_el.hasClass("fr-dropdown"))t.button.click(t.shared.$f_el);else if(t.shared.$f_el.is("button.fr-back")){t.opts.toolbarInline&&(t.events.disableBlur(),t.events.focus());var e=t.popups.areVisible(t);e&&(t.shared.with_kb=!1),t.button.click(t.shared.$f_el),v(e)}else{if(t.events.disableBlur(),t.button.click(t.shared.$f_el),t.shared.$f_el.attr("data-popup")){var n=t.popups.areVisible(t);n&&n.data("popup-button",t.shared.$f_el)}else if(t.shared.$f_el.attr("data-modal")){var o=t.modals.areVisible(t);o&&o.data("modal-button",t.shared.$f_el)}t.shared.$f_el=null}return!1}}function g(){t.shared.$f_el&&(t.events.disableBlur(),t.shared.$f_el.blur(),t.shared.$f_el=null),!1!==t.events.trigger("toolbar.focusEditor")&&(t.events.disableBlur(),t.browser.msie||t.$el.focus(),t.events.focus())}function m(o){o&&o.length&&(t.events.$on(o,"keydown",(function(n){if(!e(n.target).is("a.fr-command, button.fr-command, .fr-group span.fr-command"))return!0;var r=o.parents(".fr-popup").data("instance")||o.data("instance")||t;t.shared.with_kb=!0;var i=r.accessibility.exec(n,o);return t.shared.with_kb=!1,i}),!0),t.browser.msie||t.events.$on(o,"mouseenter","[tabIndex]",(function(r){var i=o.parents(".fr-popup").data("instance")||o.data("instance")||t;if(!n)return r.stopPropagation(),void r.preventDefault();var a=e(r.currentTarget);i.shared.$f_el&&i.shared.$f_el.not(a)&&i.accessibility.focusEditor()}),!0))}function v(e){var t=e.data("popup-button");t&&setTimeout((function(){o(t),e.data("popup-button",null)}),0)}function b(e){var n=t.popups.areVisible(e);n&&n.data("popup-button",null)}function E(n){var o=-1!=navigator.userAgent.indexOf("Mac OS X")?n.metaKey:n.ctrlKey;if(n.which==e.FE.KEYCODE.F10&&!o&&!n.shiftKey&&n.altKey){t.shared.with_kb=!0;var r=t.popups.areVisible(t),i=!1;return r&&(i=a(r.children().not(".fr-buttons"))),i||l(),t.shared.with_kb=!1,n.preventDefault(),n.stopPropagation(),!1}return!0}return{_init:function(){t.$wp?t.events.on("keydown",E,!0):t.events.$on(t.$win,"keydown",E,!0),t.events.on("mousedown",(function(e){b(t),t.shared.$f_el&&(t.accessibility.restoreSelection(),e.stopPropagation(),t.events.disableBlur(),t.shared.$f_el=null)}),!0),t.events.on("blur",(function(){t.shared.$f_el=null,b(t)}),!0)},registerPopup:function(o){var i=t.popups.get(o),s=function(n){var o=t.popups.get(n);return{_tiKeydown:function(i){var s=o.data("instance")||t;if(!1===s.events.trigger("popup.tab",[i]))return!1;var l=i.which,d=o.find(":focus:first");if(e.FE.KEYCODE.TAB==l){i.preventDefault();var c=o.children().not(".fr-buttons"),p=c.find("input, textarea, button, select").filter(":visible").not(".fr-no-touch input, .fr-no-touch textarea, .fr-no-touch button, .fr-no-touch select, :disabled").toArray(),f=p.indexOf(this)+(i.shiftKey?-1:1);if(0<=f&&f<p.length)return s.events.disableBlur(),e(p[f]).focus(),i.stopPropagation(),!1;var h=o.find(".fr-buttons");if(h.length&&r(h,!!i.shiftKey))return i.stopPropagation(),!1;if(a(c))return i.stopPropagation(),!1}else{if(e.FE.KEYCODE.ENTER!=l||!i.target||"TEXTAREA"===i.target.tagName)return e.FE.KEYCODE.ESC==l?(i.preventDefault(),i.stopPropagation(),s.accessibility.restoreSelection(),s.popups.isVisible(n)&&o.find(".fr-back:visible").length?(s.opts.toolbarInline&&(s.events.disableBlur(),s.events.focus()),s.button.exec(o.find(".fr-back:visible:first")),v(o)):s.popups.isVisible(n)&&o.find(".fr-dismiss:visible").length?s.button.exec(o.find(".fr-dismiss:visible:first")):(s.popups.hide(n),s.opts.toolbarInline&&s.toolbar.showInline(null,!0),v(o)),!1):e.FE.KEYCODE.SPACE==l&&(d.is(".fr-submit")||d.is(".fr-dismiss"))?(i.preventDefault(),i.stopPropagation(),s.events.disableBlur(),s.button.exec(d),!0):s.keys.isBrowserAction(i)||d.is("input[type=text], textarea")||e.FE.KEYCODE.SPACE==l&&(d.is(".fr-link-attr")||d.is("input[type=file]"))?void i.stopPropagation():(i.stopPropagation(),i.preventDefault(),!1);var u=null;o.find(".fr-submit:visible").length>0?u=o.find(".fr-submit:visible:first"):o.find(".fr-dismiss:visible").length&&(u=o.find(".fr-dismiss:visible:first")),u&&(i.preventDefault(),i.stopPropagation(),s.events.disableBlur(),s.button.exec(u))}},_tiMouseenter:function(){b(o.data("instance")||t)}}}(o);m(i.find(".fr-buttons")),t.events.$on(i,"mouseenter","tabIndex",s._tiMouseenter,!0),t.events.$on(i.children().not(".fr-buttons"),"keydown","[tabIndex]",s._tiKeydown,!0),t.popups.onHide(o,(function(){(i.data("instance")||t).accessibility.restoreSelection()})),t.popups.onShow(o,(function(){n=!1,setTimeout((function(){n=!0}),0)}))},registerToolbar:m,focusToolbarElement:o,focusToolbar:r,focusContent:a,focusPopup:function(e){var o=e.children().not(".fr-buttons");o.data("mouseenter-event-set")||t.browser.msie||(t.events.$on(o,"mouseenter","[tabIndex]",(function(r){var i=e.data("instance")||t;if(!n)return r.stopPropagation(),void r.preventDefault();var a=o.find(":focus:first");a.length&&!a.is("input, button, textarea, select")&&(i.events.disableBlur(),a.blur(),i.events.disableBlur(),i.events.focus())})),o.data("mouseenter-event-set",!0)),!a(o)&&t.shared.with_kb&&r(e.find(".fr-buttons"))},focusModal:function(e){t.core.hasFocus()||(t.events.disableBlur(),t.events.focus()),t.accessibility.saveSelection(),t.events.disableBlur(),t.$el.blur(),t.selection.clear(),t.events.disableBlur(),t.shared.with_kb?e.find(".fr-command[tabIndex], [tabIndex]").first().focus():e.find("[tabIndex]:first").focus()},focusEditor:g,focusPopupButton:v,focusModalButton:function(e){var t=e.data("modal-button");t&&setTimeout((function(){o(t),e.data("modal-button",null)}),0)},hasFocus:function(){return null!=t.shared.$f_el},exec:function(n,r){var i=-1!=navigator.userAgent.indexOf("Mac OS X")?n.metaKey:n.ctrlKey,a=n.which,s=!1;return a!=e.FE.KEYCODE.TAB||i||n.shiftKey||n.altKey?a!=e.FE.KEYCODE.ARROW_RIGHT||i||n.shiftKey||n.altKey?a!=e.FE.KEYCODE.TAB||i||!n.shiftKey||n.altKey?a!=e.FE.KEYCODE.ARROW_LEFT||i||n.shiftKey||n.altKey?a!=e.FE.KEYCODE.ARROW_UP||i||n.shiftKey||n.altKey?a!=e.FE.KEYCODE.ARROW_DOWN||i||n.shiftKey||n.altKey?a!=e.FE.KEYCODE.ENTER&&a!=e.FE.KEYCODE.SPACE||i||n.shiftKey||n.altKey?a!=e.FE.KEYCODE.ESC||i||n.shiftKey||n.altKey?a!=e.FE.KEYCODE.F10||i||n.shiftKey||!n.altKey||(s=l()):s=function(e){if(t.shared.$f_el){var n=d();return n?(t.button.click(n),o(n)):e.parent().find(".fr-back:visible").length?(t.shared.with_kb=!1,t.opts.toolbarInline&&(t.events.disableBlur(),t.events.focus()),t.button.exec(e.parent().find(".fr-back:visible:first")),v(e.parent())):t.shared.$f_el.is("button, .fr-group span")&&(e.parent().is(".fr-popup")?(t.accessibility.restoreSelection(),t.shared.$f_el=null,!1!==t.events.trigger("toolbar.esc")&&(t.popups.hide(e.parent()),t.opts.toolbarInline&&t.toolbar.showInline(null,!0),v(e.parent()))):g()),!1}}(r):s=u():s=t.shared.$f_el&&t.shared.$f_el.is(".fr-dropdown:not(.fr-active)")?u():h(!0):s=h():s=f(r):s=f(r,!0):s=p(r):s=p(r,!0),t.shared.$f_el||void 0!==s||(s=!0),!s&&t.keys.isBrowserAction(n)&&(s=!0),!!s||(n.preventDefault(),n.stopPropagation(),!1)},saveSelection:s,restoreSelection:function(){t.$el.find(".fr-marker").length&&(t.events.disableBlur(),t.selection.restore(),t.events.enableBlur())}}}}(jQuery),function(e){e.FE.MODULES.format=function(t){function n(e,t){var n="<"+e;for(var o in t)t.hasOwnProperty(o)&&(n+=" "+o+'="'+t[o]+'"');return n+=">"}function o(e,t){var n=e;for(var o in t)t.hasOwnProperty(o)&&(n+="id"==o?"#"+t[o]:"class"==o?"."+t[o]:"["+o+'="'+t[o]+'"]');return n}function r(e,t){return!(!e||e.nodeType!=Node.ELEMENT_NODE)&&(e.matches||e.matchesSelector||e.msMatchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||e.oMatchesSelector).call(e,t)}function i(o,r,a){if(o){for(;o.nodeType===Node.COMMENT_NODE;)o=o.nextSibling;if(o){if(t.node.isBlock(o)&&"HR"!==o.tagName)return i(o.firstChild,r,a),!1;for(var s=e(n(r,a)).insertBefore(o),l=o;l&&!e(l).is(".fr-marker")&&0===e(l).find(".fr-marker").length&&"UL"!=l.tagName&&"OL"!=l.tagName;){var d=l;if(t.node.isBlock(l)&&"HR"!==o.tagName)return i(l.firstChild,r,a),!1;l=l.nextSibling,s.append(d)}if(l)(e(l).find(".fr-marker").length||"UL"==l.tagName||"OL"==l.tagName)&&i(l.firstChild,r,a);else{for(var c=s.get(0).parentNode;c&&!c.nextSibling&&!t.node.isElement(c);)c=c.parentNode;if(c){var p=c.nextSibling;p&&(t.node.isBlock(p)?"HR"===p.tagName?i(p.nextSibling,r,a):i(p.firstChild,r,a):i(p,r,a))}}s.is(":empty")&&s.remove()}}}function a(a,s){var l;if(void 0===s&&(s={}),s.style&&delete s.style,t.selection.isCollapsed()){t.markers.insert(),t.$el.find(".fr-marker").replaceWith(n(a,s)+e.FE.INVISIBLE_SPACE+e.FE.MARKERS+function(e){return"</"+e+">"}(a)),t.selection.restore()}else{var d;t.selection.save(),i(t.$el.find('.fr-marker[data-type="true"]').get(0).nextSibling,a,s);do{for(d=t.$el.find(o(a,s)+" > "+o(a,s)),l=0;l<d.length;l++)d[l].outerHTML=d[l].innerHTML}while(d.length);t.el.normalize();var c=t.el.querySelectorAll(".fr-marker");for(l=0;l<c.length;l++){var p=e(c[l]);!0===p.data("type")?r(p.get(0).nextSibling,o(a,s))&&p.next().prepend(p):r(p.get(0).previousSibling,o(a,s))&&p.prev().append(p)}t.selection.restore()}}function s(e,n,i,a){if(!a){var s=!1;if(!0===e.data("type"))for(;t.node.isFirstSibling(e.get(0))&&!e.parent().is(t.$el)&&!e.parent().is("ol")&&!e.parent().is("ul");)e.parent().before(e),s=!0;else if(!1===e.data("type"))for(;t.node.isLastSibling(e.get(0))&&!e.parent().is(t.$el)&&!e.parent().is("ol")&&!e.parent().is("ul");)e.parent().after(e),s=!0;if(s)return!0}if(e.parents(n).length||void 0===n){var l="",d="",c=e.parent();if(c.is(t.$el)||t.node.isBlock(c.get(0)))return!1;for(;!t.node.isBlock(c.parent().get(0))&&(void 0===n||void 0!==n&&!r(c.get(0),o(n,i)));)l+=t.node.closeTagString(c.get(0)),d=t.node.openTagString(c.get(0))+d,c=c.parent();var p=e.get(0).outerHTML;e.replaceWith('<span id="mark"></span>');var f=c.html().replace(/<span id="mark"><\/span>/,l+t.node.closeTagString(c.get(0))+d+p+l+t.node.openTagString(c.get(0))+d);return c.replaceWith(t.node.openTagString(c.get(0))+f+t.node.closeTagString(c.get(0))),!0}return!1}function l(n,i,a,s){for(var d=t.node.contents(n.get(0)),c=0;c<d.length;c++){var p=d[c];if(t.node.hasClass(p,"fr-marker"))i=(i+1)%2;else if(i)if(e(p).find(".fr-marker").length>0)i=l(e(p),i,a,s);else{for(var f=e(p).find(a||"*:not(br)"),h=f.length-1;h>=0;h--){var u=f[h];t.node.isBlock(u)||t.node.isVoid(u)||void 0!==a&&!r(u,o(a,s))?t.node.isBlock(u)&&void 0===a&&"TABLE"!=p.tagName&&t.node.clearAttributes(u):t.node.hasClass(u,"fr-clone")||(u.outerHTML=u.innerHTML)}void 0===a&&p.nodeType==Node.ELEMENT_NODE&&!t.node.isVoid(p)||r(p,o(a,s))?t.node.isBlock(p)?void 0===a&&p.nodeType==Node.ELEMENT_NODE&&t.node.isBlock(p)&&"TABLE"!=p.tagName&&t.node.clearAttributes(p):t.node.hasClass(p,"fr-clone")||(p.outerHTML=p.innerHTML):void 0===a&&p.nodeType==Node.ELEMENT_NODE&&t.node.isBlock(p)&&"TABLE"!=p.tagName&&t.node.clearAttributes(p)}else e(p).find(".fr-marker").length>0&&(i=l(e(p),i,a,s))}return i}function d(n,o){void 0===o&&(o={}),o.style&&delete o.style;var r=t.selection.isCollapsed();t.selection.save();for(var i=!0;i;){i=!1;for(var a=t.$el.find(".fr-marker"),d=0;d<a.length;d++){var c=e(a[d]),p=null;if(c.attr("data-cloned")||r||(p=c.clone().removeClass("fr-marker").addClass("fr-clone"),!0===c.data("type")?c.attr("data-cloned",!0).after(p):c.attr("data-cloned",!0).before(p)),s(c,n,o,r)){i=!0;break}}}l(t.$el,0,n,o),r||(t.$el.find(".fr-marker").remove(),t.$el.find(".fr-clone").removeClass("fr-clone").addClass("fr-marker")),r&&t.$el.find(".fr-marker").before(e.FE.INVISIBLE_SPACE).after(e.FE.INVISIBLE_SPACE),t.html.cleanEmptyTags(),t.el.normalize(),t.selection.restore()}function c(t,n){var o=e(t);o.css(n,""),""===o.attr("style")&&o.replaceWith(o.html())}function p(t,n){return 0===e(t).attr("style").indexOf(n+":")||e(t).attr("style").indexOf(";"+n+":")>=0||e(t).attr("style").indexOf("; "+n+":")>=0}function f(n,o){var r,a,l=null;if(t.selection.isCollapsed()){t.markers.insert();var d=(a=t.$el.find(".fr-marker")).parent();if(t.node.openTagString(d.get(0))=='<span style="'+n+": "+d.css(n)+';">'){if(t.node.isEmpty(d.get(0)))l=e('<span style="'+n+": "+o+';">'+e.FE.INVISIBLE_SPACE+e.FE.MARKERS+"</span>"),d.replaceWith(l);else{var p={};p["style*"]=n+":",s(a,"span",p,!0),a=t.$el.find(".fr-marker"),o?(l=e('<span style="'+n+": "+o+';">'+e.FE.INVISIBLE_SPACE+e.FE.MARKERS+"</span>"),a.replaceWith(l)):a.replaceWith(e.FE.INVISIBLE_SPACE+e.FE.MARKERS)}t.html.cleanEmptyTags()}else t.node.isEmpty(d.get(0))&&d.is("span")?(a.replaceWith(e.FE.MARKERS),d.css(n,o)):(l=e('<span style="'+n+": "+o+';">'+e.FE.INVISIBLE_SPACE+e.FE.MARKERS+"</span>"),a.replaceWith(l));l&&h(l,n,o)}else{if(t.selection.save(),null==o||"color"==n&&t.$el.find(".fr-marker").parents("u, a").length>0){var f=t.$el.find(".fr-marker");for(r=0;r<f.length;r++)if(!0===(a=e(f[r])).data("type"))for(;t.node.isFirstSibling(a.get(0))&&!a.parent().is(t.$el)&&!t.node.isElement(a.parent().get(0))&&!t.node.isBlock(a.parent().get(0));)a.parent().before(a);else for(;t.node.isLastSibling(a.get(0))&&!a.parent().is(t.$el)&&!t.node.isElement(a.parent().get(0))&&!t.node.isBlock(a.parent().get(0));)a.parent().after(a)}var u=t.$el.find('.fr-marker[data-type="true"]').get(0).nextSibling,g={class:"fr-unprocessed"};for(o&&(g.style=n+": "+o+";"),i(u,"span",g),t.$el.find(".fr-marker + .fr-unprocessed").each((function(){e(this).prepend(e(this).prev())})),t.$el.find(".fr-unprocessed + .fr-marker").each((function(){e(this).prev().append(this)})),(o||"").match(/\dem$/)&&t.$el.find("span.fr-unprocessed").removeClass("fr-unprocessed");t.$el.find("span.fr-unprocessed").length>0;){if((l=t.$el.find("span.fr-unprocessed:first").removeClass("fr-unprocessed")).parent().get(0).normalize(),l.parent().is("span")&&1==l.parent().get(0).childNodes.length){l.parent().css(n,o);var m=l;l=l.parent(),m.replaceWith(m.html())}var v=l.find("span");for(r=v.length-1;r>=0;r--)c(v[r],n);h(l,n,o)}}!function(){var n;for(;t.$el.find(".fr-split:empty").length>0;)t.$el.find(".fr-split:empty").remove();t.$el.find(".fr-split").removeClass("fr-split"),t.$el.find('[style=""]').removeAttr("style"),t.$el.find('[class=""]').removeAttr("class"),t.html.cleanEmptyTags(),e(t.$el.find("span").get().reverse()).each((function(){this.attributes&&0!==this.attributes.length||e(this).replaceWith(this.innerHTML)})),t.el.normalize();var o=t.$el.find("span[style] + span[style]");for(n=0;n<o.length;n++){var r=e(o[n]),i=e(o[n]).prev();r.get(0).previousSibling==i.get(0)&&t.node.openTagString(r.get(0))==t.node.openTagString(i.get(0))&&(r.prepend(i.html()),i.remove())}t.$el.find("span[style] span[style]").each((function(){if(e(this).attr("style").indexOf("font-size")>=0){var t=e(this).parents("span[style]");t.attr("style").indexOf("background-color")>=0&&(e(this).attr("style",e(this).attr("style")+";"+t.attr("style")),s(e(this),"span[style]",{},!1))}})),t.el.normalize(),t.selection.restore()}()}function h(n,o,r){var i,a=n.parentsUntil(t.$el,"span[style]"),s=[];for(i=a.length-1;i>=0;i--)p(a[i],o)||s.push(a[i]);if((a=a.not(s)).length){var l="",d="",c="",f="",h=n.get(0);do{h=h.parentNode,e(h).addClass("fr-split"),l+=t.node.closeTagString(h),d=t.node.openTagString(e(h).clone().addClass("fr-split").get(0))+d,a.get(0)!=h&&(c+=t.node.closeTagString(h),f=t.node.openTagString(e(h).clone().addClass("fr-split").get(0))+f)}while(a.get(0)!=h);var u=l+t.node.openTagString(e(a.get(0)).clone().css(o,r||"").get(0))+f+n.css(o,"").get(0).outerHTML+c+"</span>"+d;n.replaceWith('<span id="fr-break"></span>');var g=a.get(0).outerHTML;e(a.get(0)).replaceWith(g.replace(/<span id="fr-break"><\/span>/g,u))}}function u(e,n){void 0===n&&(n={}),n.style&&delete n.style;var i=t.selection.ranges(0),a=i.startContainer;if(a.nodeType==Node.ELEMENT_NODE&&a.childNodes.length>0&&a.childNodes[i.startOffset]&&(a=a.childNodes[i.startOffset]),!i.collapsed&&a.nodeType==Node.TEXT_NODE&&i.startOffset==(a.textContent||"").length){for(;!t.node.isBlock(a.parentNode)&&!a.nextSibling;)a=a.parentNode;a.nextSibling&&(a=a.nextSibling)}for(var s=a;s&&s.nodeType==Node.ELEMENT_NODE&&!r(s,o(e,n));)s=s.firstChild;if(s&&s.nodeType==Node.ELEMENT_NODE&&r(s,o(e,n)))return!0;var l=a;for(l&&l.nodeType!=Node.ELEMENT_NODE&&(l=l.parentNode);l&&l.nodeType==Node.ELEMENT_NODE&&l!=t.el&&!r(l,o(e,n));)l=l.parentNode;return!(!l||l.nodeType!=Node.ELEMENT_NODE||l==t.el||!r(l,o(e,n)))}return{is:u,toggle:function(e,t){u(e,t)?d(e,t):a(e,t)},apply:a,remove:d,applyStyle:f,removeStyle:function(e){f(e,null)}}}}(jQuery),function(e){e.extend(e.FE.DEFAULTS,{indentMargin:20}),e.FE.COMMANDS={bold:{title:"Bold",toggle:!0,refresh:function(e){var t=this.format.is("strong");e.toggleClass("fr-active",t).attr("aria-pressed",t)}},italic:{title:"Italic",toggle:!0,refresh:function(e){var t=this.format.is("em");e.toggleClass("fr-active",t).attr("aria-pressed",t)}},underline:{title:"Underline",toggle:!0,refresh:function(e){var t=this.format.is("u");e.toggleClass("fr-active",t).attr("aria-pressed",t)}},strikeThrough:{title:"Strikethrough",toggle:!0,refresh:function(e){var t=this.format.is("s");e.toggleClass("fr-active",t).attr("aria-pressed",t)}},subscript:{title:"Subscript",toggle:!0,refresh:function(e){var t=this.format.is("sub");e.toggleClass("fr-active",t).attr("aria-pressed",t)}},superscript:{title:"Superscript",toggle:!0,refresh:function(e){var t=this.format.is("sup");e.toggleClass("fr-active",t).attr("aria-pressed",t)}},outdent:{title:"Decrease Indent"},indent:{title:"Increase Indent"},undo:{title:"Undo",undo:!1,forcedRefresh:!0,disabled:!0},redo:{title:"Redo",undo:!1,forcedRefresh:!0,disabled:!0},insertHR:{title:"Insert Horizontal Line"},clearFormatting:{title:"Clear Formatting"},selectAll:{title:"Select All",undo:!1}},e.FE.RegisterCommand=function(t,n){e.FE.COMMANDS[t]=n},e.FE.MODULES.commands=function(t){function n(e){return t.html.defaultTag()&&(e="<"+t.html.defaultTag()+">"+e+"</"+t.html.defaultTag()+">"),e}var o={bold:function(){i("bold","strong")},subscript:function(){t.format.is("sup")&&t.format.remove("sup"),i("subscript","sub")},superscript:function(){t.format.is("sub")&&t.format.remove("sub"),i("superscript","sup")},italic:function(){i("italic","em")},strikeThrough:function(){i("strikeThrough","s")},underline:function(){i("underline","u")},undo:function(){t.undo.run()},redo:function(){t.undo.redo()},indent:function(){a(1)},outdent:function(){a(-1)},show:function(){t.opts.toolbarInline&&t.toolbar.showInline(null,!0)},insertHR:function(){t.selection.remove();var o="";t.core.isEmpty()&&(o=n(o="<br>")),t.html.insert('<hr id="fr-just">'+o);var r,i=t.$el.find("hr#fr-just");if(i.removeAttr("id"),0===i.next().length){var a=t.html.defaultTag();a?i.after(e("<"+a+">").append("<br>")):i.after("<br>")}i.prev().is("hr")?r=t.selection.setAfter(i.get(0),!1):i.next().is("hr")?r=t.selection.setBefore(i.get(0),!1):t.selection.setAfter(i.get(0),!1)||t.selection.setBefore(i.get(0),!1),r||void 0===r||(o=n(o=e.FE.MARKERS+"<br>"),i.after(o)),t.selection.restore()},clearFormatting:function(){t.format.remove()},selectAll:function(){t.doc.execCommand("selectAll",!1,!1)}};function r(n,r){if(!1!==t.events.trigger("commands.before",e.merge([n],r||[]))){var i=e.FE.COMMANDS[n]&&e.FE.COMMANDS[n].callback||o[n],a=!0,s=!1;e.FE.COMMANDS[n]&&(void 0!==e.FE.COMMANDS[n].focus&&(a=e.FE.COMMANDS[n].focus),void 0!==e.FE.COMMANDS[n].accessibilityFocus&&(s=e.FE.COMMANDS[n].accessibilityFocus)),(!t.core.hasFocus()&&a&&!t.popups.areVisible()||!t.core.hasFocus()&&s&&t.accessibility.hasFocus())&&t.events.focus(!0),e.FE.COMMANDS[n]&&!1!==e.FE.COMMANDS[n].undo&&(t.$el.find(".fr-marker").length&&(t.events.disableBlur(),t.selection.restore()),t.undo.saveStep()),i&&i.apply(t,e.merge([n],r||[])),t.events.trigger("commands.after",e.merge([n],r||[])),e.FE.COMMANDS[n]&&!1!==e.FE.COMMANDS[n].undo&&t.undo.saveStep()}}function i(e,n){t.format.toggle(n)}function a(n){t.selection.save(),t.html.wrap(!0,!0,!0,!0),t.selection.restore();for(var o=t.selection.blocks(),r=0;r<o.length;r++)if("LI"!=o[r].tagName&&"LI"!=o[r].parentNode.tagName){var i=e(o[r]),a="rtl"==t.opts.direction||"rtl"==i.css("direction")?"margin-right":"margin-left",s=t.helpers.getPX(i.css(a));if(i.width()<2*t.opts.indentMargin&&n>0)continue;i.css(a,Math.max(s+n*t.opts.indentMargin,0)||""),i.removeClass("fr-temp-div")}t.selection.save(),t.html.unwrap(),t.selection.restore()}function s(e){return function(){r(e)}}var l={};for(var d in o)o.hasOwnProperty(d)&&(l[d]=s(d));return e.extend(l,{exec:r,_init:function(){t.events.on("keydown",(function(e){var n=t.selection.element();if(n&&"HR"==n.tagName&&!t.keys.isArrow(e.which))return e.preventDefault(),!1})),t.events.on("keyup",(function(n){var o=t.selection.element();if(o&&"HR"==o.tagName)if(n.which==e.FE.KEYCODE.ARROW_LEFT||n.which==e.FE.KEYCODE.ARROW_UP){if(o.previousSibling)return t.node.isBlock(o.previousSibling)?t.selection.setAtEnd(o.previousSibling):e(o).before(e.FE.MARKERS),t.selection.restore(),!1}else if((n.which==e.FE.KEYCODE.ARROW_RIGHT||n.which==e.FE.KEYCODE.ARROW_DOWN)&&o.nextSibling)return t.node.isBlock(o.nextSibling)?t.selection.setAtStart(o.nextSibling):e(o).after(e.FE.MARKERS),t.selection.restore(),!1})),t.events.on("mousedown",(function(e){if(e.target&&"HR"==e.target.tagName)return e.preventDefault(),e.stopPropagation(),!1})),t.events.on("mouseup",(function(){var n=t.selection.element();n==t.selection.endElement()&&n&&"HR"==n.tagName&&(n.nextSibling&&(t.node.isBlock(n.nextSibling)?t.selection.setAtStart(n.nextSibling):e(n).after(e.FE.MARKERS)),t.selection.restore())}))}})}}(jQuery),function(e){e.extend(e.FE.DEFAULTS,{pastePlain:!1,pasteDeniedTags:["colgroup","col","meta"],pasteDeniedAttrs:["class","id","style"],pasteAllowedStyleProps:[".*"],pasteAllowLocalImages:!1}),e.FE.MODULES.paste=function(t){var n,o,r,i;function a(e,n){try{t.win.localStorage.setItem("fr-copied-html",e),t.win.localStorage.setItem("fr-copied-text",n)}catch(e){}}function s(n){var o=t.html.getSelected();a(o,e("<div>").html(o).text()),"cut"==n.type&&(t.undo.saveStep(),setTimeout((function(){t.selection.save(),t.html.wrap(),t.selection.restore(),t.events.focus(),t.undo.saveStep()}),0))}var l=!1;function d(i){if(t.edit.isDisabled())return!1;if(l)return!1;if(i.originalEvent&&(i=i.originalEvent),!1===t.events.trigger("paste.before",[i]))return i.preventDefault(),!1;if(t.$win.scrollTop(),i&&i.clipboardData&&i.clipboardData.getData){var a="",s=i.clipboardData.types;if(t.helpers.isArray(s))for(var d=0;d<s.length;d++)a+=s[d]+";";else a=s;if(n="",/text\/rtf/.test(a)&&(o=i.clipboardData.getData("text/rtf")),/text\/html/.test(a)&&!t.browser.safari?n=i.clipboardData.getData("text/html"):/text\/rtf/.test(a)&&t.browser.safari?n=o:/public.rtf/.test(a)&&t.browser.safari&&(n=i.clipboardData.getData("text/rtf")),""!==n)return p(),i.preventDefault&&(i.stopPropagation(),i.preventDefault()),!1;n=null}return function(){t.selection.save(),t.events.disableBlur(),n=null,r?(r.html(""),t.browser.edge&&t.opts.iframe&&t.$el.append(r)):(r=e('<div contenteditable="true" style="position: fixed; top: 0; left: -9999px; height: 100%; width: 0; word-break: break-all; overflow:hidden; z-index: 2147483647; line-height: 140%; -moz-user-select: text; -webkit-user-select: text; -ms-user-select: text; user-select: text;" tabIndex="-1"></div>'),t.browser.webkit?(r.css("top",t.$sc.scrollTop()),t.$el.after(r)):t.browser.edge&&t.opts.iframe?t.$el.append(r):t.$box.after(r),t.events.on("destroy",(function(){r.remove()})));t.helpers.isIOS()&&t.$sc&&t.$sc.overflow("hidden");r.focus(),t.helpers.isIOS()&&t.$sc&&t.$sc.overflow("hidden","");t.win.setTimeout(p,1)}(),!1}function c(r){if(r.originalEvent&&(r=r.originalEvent),r&&r.dataTransfer&&r.dataTransfer.getData){var a="",s=r.dataTransfer.types;if(t.helpers.isArray(s))for(var l=0;l<s.length;l++)a+=s[l]+";";else a=s;if(n="",/text\/rtf/.test(a)&&(o=r.dataTransfer.getData("text/rtf")),/text\/html/.test(a)?n=r.dataTransfer.getData("text/html"):/text\/rtf/.test(a)&&t.browser.safari?n=o:/text\/plain/.test(a)&&!this.browser.mozilla&&(n=t.html.escapeEntities(r.dataTransfer.getData("text/plain")).replace(/\n/g,"<br>")),""!==n){t.keys.forceUndo(),i=t.snapshot.get(),t.selection.save(),t.$el.find(".fr-marker").removeClass("fr-marker").addClass("fr-marker-helper");var d=t.markers.insertAtPoint(r);if(t.$el.find(".fr-marker").removeClass("fr-marker").addClass("fr-marker-placeholder"),t.$el.find(".fr-marker-helper").addClass("fr-marker").removeClass("fr-marker-helper"),t.selection.restore(),t.selection.remove(),t.$el.find(".fr-marker-placeholder").addClass("fr-marker").removeClass("fr-marker-placeholder"),!1!==d){var c=t.el.querySelector(".fr-marker");return e(c).replaceWith(e.FE.MARKERS),t.selection.restore(),p(),r.preventDefault&&(r.stopPropagation(),r.preventDefault()),!1}}else n=null}}function p(){t.browser.edge&&t.opts.iframe&&t.$box.after(r),i||(t.keys.forceUndo(),i=t.snapshot.get()),n||(n=r.get(0).innerHTML,t.selection.restore(),t.events.enableBlur());var e=n.match(/(class=\"?Mso|class=\'?Mso|class="?Xl|class='?Xl|class=Xl|style=\"[^\"]*\bmso\-|style=\'[^\']*\bmso\-|w:WordDocument)/gi),o=t.events.chainTrigger("paste.beforeCleanup",n);o&&"string"==typeof o&&(n=o),(!e||e&&!1!==t.events.trigger("paste.wordPaste",[n]))&&u(n,e)}function f(){var o=null;try{o=t.win.localStorage.getItem("fr-dragged-content-text")}catch(e){}return!(!o||e("<div>").html(n).text().replace(/\u00A0/gi," ").replace(/\r|\n/gi,"")!=o.replace(/\u00A0/gi," ").replace(/\r|\n/gi,""))}function h(e){for(var t="",n=0;n++<e;)t+="&nbsp;";return t}function u(n,o,r){var a,s=null,l=null;if(n.toLowerCase().indexOf("<body")>=0){var d="";n.indexOf("<style")>=0&&(d=n.replace(/[.\s\S\w\W<>]*(<style[^>]*>[\s]*[.\s\S\w\W<>]*[\s]*<\/style>)[.\s\S\w\W<>]*/gi,"$1")),n=d+n.replace(/[.\s\S\w\W<>]*<body[^>]*>[\s]*([.\s\S\w\W<>]*)[\s]*<\/body>[.\s\S\w\W<>]*/gi,"$1");var c=0,p="";n.replace(/<pre.*?>([\s\S]*?)<\/pre>/gi,(function(e,t,o){o>c&&(p+=n.substring(c,o).replace(/ \n/g," ").replace(/\n /g," ").replace(/([^>])\n([^<])/g,"$1 $2")),p+=e,c=o+e.length})),n.length>c+1&&(p+=n.substring(c,n.length).replace(/ \n/g," ").replace(/\n /g," ").replace(/([^>])\n([^<])/g,"$1 $2")),n=p}var u=!1;n.indexOf('id="docs-internal-guid')>=0&&(n=n.replace(/^[\w\W\s\S]* id="docs-internal-guid[^>]*>([\w\W\s\S]*)<\/b>[\w\W\s\S]*$/g,"$1"),u=!0),n.indexOf('content="Sheets"')>=0&&(n=n.replace(/width:0px;/g,""));var g=!1,v=!1;if(!o&&(g=function(n){var o=null;try{o=t.win.localStorage.getItem("fr-copied-text")}catch(e){}return!(!o||e("<div>").html(n).text().replace(/\u00A0/gi," ").replace(/\r|\n/gi,"")!=o.replace(/\u00A0/gi," ").replace(/\r|\n/gi,""))}(n),v=f(),g&&(n=t.win.localStorage.getItem("fr-copied-html")),v&&(g=!0,n=t.win.localStorage.getItem("fr-dragged-content-html")),!g)){var b=t.opts.htmlAllowedStyleProps;t.opts.htmlAllowedStyleProps=t.opts.pasteAllowedStyleProps,t.opts.htmlAllowComments=!1,n=(n=(n=n.replace(/<span class="Apple-tab-span">\s*<\/span>/g,h(t.opts.tabSpaces||4))).replace(/<span class="Apple-tab-span" style="white-space:pre">(\t*)<\/span>/g,(function(e,n){return h(n.length*(t.opts.tabSpaces||4))}))).replace(/\t/g,h(t.opts.tabSpaces||4)),n=t.clean.html(n,t.opts.pasteDeniedTags,t.opts.pasteDeniedAttrs),t.opts.htmlAllowedStyleProps=b,t.opts.htmlAllowComments=!0,n=(n=(n=m(n)).replace(/\r/g,"")).replace(/^ */g,"").replace(/ *$/g,"")}!o||t.wordPaste&&r||(0===(n=n.replace(/^\n*/g,"").replace(/^ /g,"")).indexOf("<colgroup>")&&(n="<table>"+n+"</table>"),n=function(e){var n;e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replace(/<p(.*?)class="?'?MsoListParagraph"?'? ([\s\S]*?)>([\s\S]*?)<\/p>/gi,"<ul><li>$3</li></ul>")).replace(/<p(.*?)class="?'?NumberedText"?'? ([\s\S]*?)>([\s\S]*?)<\/p>/gi,"<ol><li>$3</li></ol>")).replace(/<p(.*?)class="?'?MsoListParagraphCxSpFirst"?'?([\s\S]*?)(level\d)?([\s\S]*?)>([\s\S]*?)<\/p>/gi,"<ul><li$3>$5</li>")).replace(/<p(.*?)class="?'?NumberedTextCxSpFirst"?'?([\s\S]*?)(level\d)?([\s\S]*?)>([\s\S]*?)<\/p>/gi,"<ol><li$3>$5</li>")).replace(/<p(.*?)class="?'?MsoListParagraphCxSpMiddle"?'?([\s\S]*?)(level\d)?([\s\S]*?)>([\s\S]*?)<\/p>/gi,"<li$3>$5</li>")).replace(/<p(.*?)class="?'?NumberedTextCxSpMiddle"?'?([\s\S]*?)(level\d)?([\s\S]*?)>([\s\S]*?)<\/p>/gi,"<li$3>$5</li>")).replace(/<p(.*?)class="?'?MsoListBullet"?'?([\s\S]*?)(level\d)?([\s\S]*?)>([\s\S]*?)<\/p>/gi,"<li$3>$5</li>")).replace(/<p(.*?)class="?'?MsoListParagraphCxSpLast"?'?([\s\S]*?)(level\d)?([\s\S]*?)>([\s\S]*?)<\/p>/gi,"<li$3>$5</li></ul>")).replace(/<p(.*?)class="?'?NumberedTextCxSpLast"?'?([\s\S]*?)(level\d)?([\s\S]*?)>([\s\S]*?)<\/p>/gi,"<li$3>$5</li></ol>")).replace(/<span([^<]*?)style="?'?mso-list:Ignore"?'?([\s\S]*?)>([\s\S]*?)<span/gi,"<span><span")).replace(/<!--\[if \!supportLists\]-->([\s\S]*?)<!--\[endif\]-->/gi,"")).replace(/<!\[if \!supportLists\]>([\s\S]*?)<!\[endif\]>/gi,"")).replace(/(\n|\r| class=(")?Mso[a-zA-Z0-9]+(")?)/gi," ")).replace(/<!--[\s\S]*?-->/gi,"")).replace(/<(\/)*(meta|link|span|\\?xml:|st1:|o:|font)(.*?)>/gi,"");var o,r=["style","script","applet","embed","noframes","noscript"];for(n=0;n<r.length;n++){var i=new RegExp("<"+r[n]+".*?"+r[n]+"(.*?)>","gi");e=e.replace(i,"")}e=(e=(e=e.replace(/&nbsp;/gi," ")).replace(/<td([^>]*)><\/td>/g,"<td$1><br></td>")).replace(/<th([^>]*)><\/th>/g,"<th$1><br></th>");do{o=e,e=e.replace(/<[^\/>][^>]*><\/[^>]+>/gi,"")}while(e!=o);e=(e=e.replace(/<lilevel([^1])([^>]*)>/gi,'<li data-indent="true"$2>')).replace(/<lilevel1([^>]*)>/gi,"<li$1>"),e=(e=(e=t.clean.html(e,t.opts.pasteDeniedTags,t.opts.pasteDeniedAttrs)).replace(/<a>(.[^<]+)<\/a>/gi,"$1")).replace(/<br> */g,"<br>");var a=t.o_doc.createElement("div");a.innerHTML=e;var s=a.querySelectorAll("li[data-indent]");for(n=0;n<s.length;n++){var l=s[n],d=l.previousElementSibling;if(d&&"LI"==d.tagName){var c=d.querySelector(":scope > ul, :scope > ol");c||(c=document.createElement("ul"),d.appendChild(c)),c.appendChild(l)}else l.removeAttribute("data-indent")}return t.html.cleanBlankSpaces(a),a.innerHTML}(n),n=m(n)),t.opts.pastePlain&&!g&&(n=function(e){var n,o=null,r=t.doc.createElement("div");r.innerHTML=e;var i=r.querySelectorAll("p, div, h1, h2, h3, h4, h5, h6, pre, blockquote");for(n=0;n<i.length;n++)(o=i[n]).outerHTML="<"+(t.html.defaultTag()||"DIV")+">"+o.innerHTML+"</"+(t.html.defaultTag()||"DIV")+">";for(n=(i=r.querySelectorAll("*:not("+"p, div, h1, h2, h3, h4, h5, h6, pre, blockquote, ul, ol, li, table, tbody, thead, tr, td, br, img".split(",").join("):not(")+")")).length-1;n>=0;n--)(o=i[n]).outerHTML=o.innerHTML;var a=function(e){for(var n=t.node.contents(e),o=0;o<n.length;o++)n[o].nodeType!=Node.TEXT_NODE&&n[o].nodeType!=Node.ELEMENT_NODE?n[o].parentNode.removeChild(n[o]):a(n[o])};return a(r),r.innerHTML}(n));var E=t.events.chainTrigger("paste.afterCleanup",n);if("string"==typeof E&&(n=E),""!==n){var y=t.o_doc.createElement("div");y.innerHTML=n,n.indexOf("<body>")>=0?(t.html.cleanBlankSpaces(y),t.spaces.normalize(y,!0)):t.spaces.normalize(y);var w=y.getElementsByTagName("span");for(a=w.length-1;a>=0;a--){var S=w[a];0===S.attributes.length&&(S.outerHTML=S.innerHTML)}var C=t.selection.element(),_=!1;if(C&&e(C).parentsUntil(t.el,"ul, ol").length&&(_=!0),_){var T=y.children;1==T.length&&["OL","UL"].indexOf(T[0].tagName)>=0&&(T[0].outerHTML=T[0].innerHTML)}if(!u){var k=y.getElementsByTagName("br");for(a=k.length-1;a>=0;a--){var A=k[a];t.node.isBlock(A.previousSibling)&&A.parentNode.removeChild(A)}}if(t.opts.enter==e.FE.ENTER_BR)for(a=(s=y.querySelectorAll("p, div")).length-1;a>=0;a--)0===(l=s[a]).attributes.length&&(l.outerHTML=l.innerHTML+(l.nextSibling&&!t.node.isEmpty(l)?"<br>":""));else if(t.opts.enter==e.FE.ENTER_DIV)for(a=(s=y.getElementsByTagName("p")).length-1;a>=0;a--)0===(l=s[a]).attributes.length&&(l.outerHTML="<div>"+l.innerHTML+"</div>");else t.opts.enter==e.FE.ENTER_P&&1==y.childNodes.length&&"P"==y.childNodes[0].tagName&&0===y.childNodes[0].attributes.length&&(y.childNodes[0].outerHTML=y.childNodes[0].innerHTML);n=y.innerHTML,g&&(n=function(n){var o,r=t.o_doc.createElement("div");r.innerHTML=n;var i=r.querySelectorAll("*:empty:not(td):not(th):not(tr):not(iframe):not(svg):not("+e.FE.VOID_ELEMENTS.join("):not(")+"):not("+t.opts.htmlAllowedEmptyTags.join("):not(")+")");for(;i.length;){for(o=0;o<i.length;o++)i[o].parentNode.removeChild(i[o]);i=r.querySelectorAll("*:empty:not(td):not(th):not(tr):not(iframe):not(svg):not("+e.FE.VOID_ELEMENTS.join("):not(")+"):not("+t.opts.htmlAllowedEmptyTags.join("):not(")+")")}return r.innerHTML}(n)),t.html.insert(n,!0)}t.events.trigger("paste.after"),t.undo.saveStep(i),i=null,t.undo.saveStep()}function g(e){for(var t=e.length-1;t>=0;t--)e[t].attributes&&e[t].attributes.length&&e.splice(t,1);return e}function m(e){var n,o=t.o_doc.createElement("div");o.innerHTML=e;for(var r=g(Array.prototype.slice.call(o.querySelectorAll(":scope > div:not([style]), td > div:not([style]), th > div:not([style]), li > div:not([style])")));r.length;){var i=r[r.length-1];if(t.html.defaultTag()&&"div"!=t.html.defaultTag())i.querySelector(t.html.blockTagsQuery())?i.outerHTML=i.innerHTML:i.outerHTML="<"+t.html.defaultTag()+">"+i.innerHTML+"</"+t.html.defaultTag()+">";else{var a=i.querySelectorAll("*");!a.length||"BR"!==a[a.length-1].tagName&&0===i.innerText.length||!a.length||"BR"!==a[a.length-1].tagName||a[a.length-1].nextSibling?i.outerHTML=i.innerHTML+(i.nextSibling?"<br>":""):i.outerHTML=i.innerHTML}r=g(Array.prototype.slice.call(o.querySelectorAll(":scope > div:not([style]), td > div:not([style]), th > div:not([style]), li > div:not([style])")))}for(r=g(Array.prototype.slice.call(o.querySelectorAll("div:not([style])")));r.length;){for(n=0;n<r.length;n++){var s=r[n],l=s.innerHTML.replace(/\u0009/gi,"").trim();try{s.outerHTML=l}catch(e){}}r=g(Array.prototype.slice.call(o.querySelectorAll("div:not([style])")))}return o.innerHTML}function v(e){if(e.originalEvent&&e.originalEvent.target&&e.originalEvent.target.nodeType==Node.TEXT_NODE)try{t.win.localStorage.setItem("fr-dragged-content-html",e.originalEvent.dataTransfer.getData("text/html")),t.win.localStorage.setItem("fr-dragged-content-text",e.originalEvent.dataTransfer.getData("text/plain"))}catch(e){}}function b(){t.el.removeEventListener("copy",s),t.el.removeEventListener("cut",s),t.el.removeEventListener("paste",d)}return{_init:function(){t.el.addEventListener("copy",s),t.el.addEventListener("cut",s),t.el.addEventListener("paste",d,{capture:!0}),t.events.on("drop",c),t.browser.msie&&t.browser.version<11&&(t.events.on("mouseup",(function(e){2==e.button&&(setTimeout((function(){l=!1}),50),l=!0)}),!0),t.events.on("beforepaste",d)),t.events.on("dragstart",v,!0),t.events.on("destroy",b)},cleanEmptyTagsAndDivs:m,getRtfClipboard:function(){return o},saveCopiedText:a,clean:u}}}(jQuery),function(e){e.extend(e.FE.DEFAULTS,{shortcutsEnabled:[],shortcutsHint:!0}),e.FE.SHORTCUTS_MAP={},e.FE.RegisterShortcut=function(t,n,o,r,i,a){e.FE.SHORTCUTS_MAP[(i?"^":"")+(a?"@":"")+t]={cmd:n,val:o,letter:r,shift:i,option:a},e.FE.DEFAULTS.shortcutsEnabled.push(n)},e.FE.RegisterShortcut(e.FE.KEYCODE.E,"show",null,"E",!1,!1),e.FE.RegisterShortcut(e.FE.KEYCODE.B,"bold",null,"B",!1,!1),e.FE.RegisterShortcut(e.FE.KEYCODE.I,"italic",null,"I",!1,!1),e.FE.RegisterShortcut(e.FE.KEYCODE.U,"underline",null,"U",!1,!1),e.FE.RegisterShortcut(e.FE.KEYCODE.S,"strikeThrough",null,"S",!1,!1),e.FE.RegisterShortcut(e.FE.KEYCODE.CLOSE_SQUARE_BRACKET,"indent",null,"]",!1,!1),e.FE.RegisterShortcut(e.FE.KEYCODE.OPEN_SQUARE_BRACKET,"outdent",null,"[",!1,!1),e.FE.RegisterShortcut(e.FE.KEYCODE.Z,"undo",null,"Z",!1,!1),e.FE.RegisterShortcut(e.FE.KEYCODE.Z,"redo",null,"Z",!0,!1),e.FE.RegisterShortcut(e.FE.KEYCODE.Y,"redo",null,"Y",!1,!1),e.FE.MODULES.shortcuts=function(t){var n=null;var o=!1;function r(n){if(!t.core.hasFocus())return!0;var r=n.which,i=-1!=navigator.userAgent.indexOf("Mac OS X")?n.metaKey:n.ctrlKey;if("keyup"==n.type&&o&&r!=e.FE.KEYCODE.META)return o=!1,!1;"keydown"==n.type&&(o=!1);var a=(n.shiftKey?"^":"")+(n.altKey?"@":"")+r;if(i&&e.FE.SHORTCUTS_MAP[a]){var s=e.FE.SHORTCUTS_MAP[a].cmd;if(s&&t.opts.shortcutsEnabled.indexOf(s)>=0){var l,d=e.FE.SHORTCUTS_MAP[a].val;if(s&&!d?l=t.$tb.find('.fr-command[data-cmd="'+s+'"]'):s&&d&&(l=t.$tb.find('.fr-command[data-cmd="'+s+'"][data-param1="'+d+'"]')),l.length)return n.preventDefault(),n.stopPropagation(),l.parents(".fr-toolbar").data("instance",t),"keydown"==n.type&&(t.button.exec(l),o=!0),!1;if(s&&(t.commands[s]||e.FE.COMMANDS[s]&&e.FE.COMMANDS[s].callback))return n.preventDefault(),n.stopPropagation(),"keydown"==n.type&&((t.commands[s]||e.FE.COMMANDS[s].callback)(),o=!0),!1}}}return{_init:function(){t.events.on("keydown",r,!0),t.events.on("keyup",r,!0)},get:function(o){if(!t.opts.shortcutsHint)return null;if(!n)for(var r in n={},e.FE.SHORTCUTS_MAP)e.FE.SHORTCUTS_MAP.hasOwnProperty(r)&&t.opts.shortcutsEnabled.indexOf(e.FE.SHORTCUTS_MAP[r].cmd)>=0&&(n[e.FE.SHORTCUTS_MAP[r].cmd+"."+(e.FE.SHORTCUTS_MAP[r].val||"")]={shift:e.FE.SHORTCUTS_MAP[r].shift,option:e.FE.SHORTCUTS_MAP[r].option,letter:e.FE.SHORTCUTS_MAP[r].letter});var i=n[o];return i?(t.helpers.isMac()?String.fromCharCode(8984):t.language.translate("Ctrl")+"+")+(i.shift?t.helpers.isMac()?String.fromCharCode(8679):t.language.translate("Shift")+"+":"")+(i.option?t.helpers.isMac()?String.fromCharCode(8997):t.language.translate("Alt")+"+":"")+i.letter:null}}}}(jQuery),jQuery.FE.MODULES.snapshot=function(e){function t(e){for(var t=e.parentNode.childNodes,n=0,o=null,r=0;r<t.length;r++){if(o){var i=t[r].nodeType===Node.TEXT_NODE&&""===t[r].textContent,a=o.nodeType===Node.TEXT_NODE&&t[r].nodeType===Node.TEXT_NODE,s=o.nodeType===Node.TEXT_NODE&&""===o.textContent;i||a||s||n++}if(t[r]==e)return n;o=t[r]}}function n(n){var o=[];if(!n.parentNode)return[];for(;!e.node.isElement(n);)o.push(t(n)),n=n.parentNode;return o.reverse()}function o(e,t){for(;e&&e.nodeType===Node.TEXT_NODE;){var n=e.previousSibling;n&&n.nodeType==Node.TEXT_NODE&&(t+=n.textContent.length),e=n}return t}function r(t){for(var n=e.el,o=0;o<t.length;o++)n=n.childNodes[t[o]];return n}function i(t,n){try{var o=r(n.scLoc),i=n.scOffset,a=r(n.ecLoc),s=n.ecOffset,l=e.doc.createRange();l.setStart(o,i),l.setEnd(a,s),t.addRange(l)}catch(e){console.warn(e)}}return{get:function(){var t,r={};if(e.events.trigger("snapshot.before"),r.html=(e.$wp?e.$el.html():e.$oel.get(0).outerHTML).replace(/ style=""/g,""),r.ranges=[],e.$wp&&e.selection.inEditor()&&e.core.hasFocus())for(var i=e.selection.ranges(),a=0;a<i.length;a++)r.ranges.push({scLoc:n((t=i[a]).startContainer),scOffset:o(t.startContainer,t.startOffset),ecLoc:n(t.endContainer),ecOffset:o(t.endContainer,t.endOffset)});return e.events.trigger("snapshot.after",[r]),r},restore:function(t){e.$el.html()!=t.html&&(e.opts.htmlExecuteScripts?e.$el.html(t.html):e.el.innerHTML=t.html);var n=e.selection.get();e.selection.clear(),e.events.focus(!0);for(var o=0;o<t.ranges.length;o++)i(n,t.ranges[o])},equal:function(t,n){return t.html==n.html&&(!e.core.hasFocus()||JSON.stringify(t.ranges)==JSON.stringify(n.ranges))}}},jQuery.FE.MODULES.undo=function(e){function t(t){var n=t.which;e.keys.ctrlKey(t)&&(90==n&&t.shiftKey&&t.preventDefault(),90==n&&t.preventDefault())}var n=null;function o(){if(!e.undo_stack||e.undoing)return!1;for(;e.undo_stack.length>e.undo_index;)e.undo_stack.pop()}function r(){n=(e.$wp?e.$el.html():e.$oel.get(0).outerHTML).replace(/ style=""/g,""),e.undo_index=0,e.undo_stack=[]}function i(){e.undo_stack=[]}return{_init:function(){r(),e.events.on("initialized",(function(){n=(e.$wp?e.$el.html():e.$oel.get(0).outerHTML).replace(/ style=""/g,"")})),e.events.on("blur",(function(){e.el.querySelector(".fr-dragging")||e.undo.saveStep()})),e.events.on("keydown",t),e.events.on("destroy",i)},run:function(){if(e.undo_index>1){e.undoing=!0;var t=e.undo_stack[--e.undo_index-1];clearTimeout(e._content_changed_timer),e.snapshot.restore(t),n=t.html,e.popups.hideAll(),e.toolbar.enable(),e.events.trigger("contentChanged"),e.events.trigger("commands.undo"),e.undoing=!1}},redo:function(){if(e.undo_index<e.undo_stack.length){e.undoing=!0;var t=e.undo_stack[e.undo_index++];clearTimeout(e._content_changed_timer),e.snapshot.restore(t),n=t.html,e.popups.hideAll(),e.toolbar.enable(),e.events.trigger("contentChanged"),e.events.trigger("commands.redo"),e.undoing=!1}},canDo:function(){return!(0===e.undo_stack.length||e.undo_index<=1)},canRedo:function(){return e.undo_index!=e.undo_stack.length},dropRedo:o,reset:r,saveStep:function(t){if(!e.undo_stack||e.undoing||e.el.querySelector(".fr-marker"))return!1;void 0===t?(t=e.snapshot.get(),e.undo_stack[e.undo_index-1]&&e.snapshot.equal(e.undo_stack[e.undo_index-1],t)||(o(),e.undo_stack.push(t),e.undo_index++,t.html!=n&&(e.events.trigger("contentChanged"),n=t.html))):(o(),e.undo_index>0?e.undo_stack[e.undo_index-1]=t:(e.undo_stack.push(t),e.undo_index++))}}},function(e){e.FE.ICON_TEMPLATES={octobercms:'<i class="icon-[NAME]" aria-hidden="true"></i>',font_awesome:'<i class="fa fa-[NAME]" aria-hidden="true"></i>',text:'<span style="text-align:center">[NAME]</span>',image:"<img src=[SRC] alt=[ALT] />",svg:'<svg viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg">[PATH]</svg>',empty:" "},e.FE.ICONS={bold:{NAME:"bold"},italic:{NAME:"italic"},underline:{NAME:"underline"},strikeThrough:{NAME:"strikethrough"},subscript:{NAME:"subscript"},superscript:{NAME:"superscript"},color:{NAME:"tint"},outdent:{NAME:"outdent"},indent:{NAME:"indent"},undo:{NAME:"rotate-left",FA5NAME:"undo"},redo:{NAME:"rotate-right",FA5NAME:"redo"},insertHR:{NAME:"minus"},clearFormatting:{NAME:"eraser"},selectAll:{NAME:"mouse-pointer"}},e.FE.DefineIconTemplate=function(t,n){e.FE.ICON_TEMPLATES[t]=n},e.FE.DefineIcon=function(t,n){e.FE.ICONS[t]=n},e.extend(e.FE.DEFAULTS,{iconsTemplate:"octobercms"}),e.FE.MODULES.icon=function(t){return{create:function(n){var o=null,r=e.FE.ICONS[n];if(void 0!==r){var i=r.template||e.FE.ICON_DEFAULT_TEMPLATE||t.opts.iconsTemplate;i&&i.apply&&(i=i.apply(t)),r.FA5NAME||(r.FA5NAME=r.NAME),i&&(i=e.FE.ICON_TEMPLATES[i])&&(o=i.replace(/\[([a-zA-Z0-9]*)\]/g,(function(e,t){return"NAME"==t?r[t]||n:r[t]})))}return o||n},getTemplate:function(n){var o=e.FE.ICONS[n],r=t.opts.iconsTemplate;return void 0!==o?r=o.template||e.FE.ICON_DEFAULT_TEMPLATE||t.opts.iconsTemplate:r}}}}(jQuery),function(e){e.extend(e.FE.DEFAULTS,{tooltips:!0}),e.FE.MODULES.tooltip=function(t){function n(){if(t.helpers.isMobile())return!1;t.$tooltip&&t.$tooltip.removeClass("fr-visible").css("left","-3000px").css("position","fixed")}function o(n,o){if(t.helpers.isMobile())return!1;if(n.data("title")||n.data("title",n.attr("title")),!n.data("title"))return!1;t.$tooltip||t.opts.tooltips&&!t.helpers.isMobile()&&(t.shared.$tooltip?t.$tooltip=t.shared.$tooltip:(t.shared.$tooltip=e('<div class="fr-tooltip"></div>'),t.$tooltip=t.shared.$tooltip,t.opts.theme&&t.$tooltip.addClass(t.opts.theme+"-theme"),e(t.o_doc).find("body:first").append(t.$tooltip)),t.events.on("shared.destroy",(function(){t.$tooltip.html("").removeData().remove(),t.$tooltip=null}),!0)),n.removeAttr("title"),t.$tooltip.text(t.language.translate(n.data("title"))),t.$tooltip.addClass("fr-visible");var r=n.offset().left+(n.outerWidth()-t.$tooltip.outerWidth())/2;r<0&&(r=0),r+t.$tooltip.outerWidth()>e(t.o_win).width()&&(r=e(t.o_win).width()-t.$tooltip.outerWidth()),void 0===o&&(o=t.opts.toolbarBottom);var i=o?n.offset().top-t.$tooltip.height():n.offset().top+n.outerHeight();t.$tooltip.css("position",""),t.$tooltip.css("left",r),t.$tooltip.css("top",Math.ceil(i)),"static"!=e(t.o_doc).find("body:first").css("position")?(t.$tooltip.css("margin-left",-e(t.o_doc).find("body:first").offset().left),t.$tooltip.css("margin-top",-e(t.o_doc).find("body:first").offset().top)):(t.$tooltip.css("margin-left",""),t.$tooltip.css("margin-top",""))}return{hide:n,to:o,bind:function(r,i,a){t.opts.tooltips&&!t.helpers.isMobile()&&(t.events.$on(r,"mouseenter",i,(function(n){t.node.hasClass(n.currentTarget,"fr-disabled")||t.edit.isDisabled()||o(e(n.currentTarget),a)}),!0),t.events.$on(r,"mouseleave "+t._mousedown+" "+t._mouseup,i,(function(){n()}),!0))}}}}(jQuery),function(e){e.FE.MODULES.button=function(t){var n=[];(t.opts.toolbarInline||t.opts.toolbarContainer)&&(t.shared.buttons||(t.shared.buttons=[]),n=t.shared.buttons);var o=[];function r(t,n,o){for(var r=e(),i=0;i<t.length;i++){var a=e(t[i]);if(a.is(n)&&(r=r.add(a)),o&&a.is(".fr-dropdown")){var s=a.next().find(n);r=r.add(s)}}return r}function i(i,a){var s,l=e();if(!i)return l;for(s in l=(l=l.add(r(n,i,a))).add(r(o,i,a)),t.shared.popups)if(t.shared.popups.hasOwnProperty(s)){var d=t.shared.popups[s].children().find(i);l=l.add(d)}for(s in t.shared.modals)if(t.shared.modals.hasOwnProperty(s)){var c=t.shared.modals[s].$modal.find(i);l=l.add(c)}return l}function a(e){e.addClass("fr-blink"),setTimeout((function(){e.removeClass("fr-blink")}),500);for(var t=e.data("cmd"),n=[];void 0!==e.data("param"+(n.length+1));)n.push(e.data("param"+(n.length+1)));var o=i(".fr-dropdown.fr-active");o.length&&(o.removeClass("fr-active").attr("aria-expanded",!1).next().attr("aria-hidden",!0),o.prev(".fr-expanded").removeClass("fr-expanded"),o.parent(".fr-toolbar:not(.fr-inline)").css("zIndex","")),e.parents(".fr-popup, .fr-toolbar").data("instance").commands.exec(t,n)}function s(n){var o=n.parents(".fr-popup, .fr-toolbar").data("instance");if(0!==n.parents(".fr-popup").length||n.data("popup")||o.popups.hideAll(),o.popups.areVisible()&&!o.popups.areVisible(o)){for(var r=0;r<e.FE.INSTANCES.length;r++)e.FE.INSTANCES[r]!=o&&e.FE.INSTANCES[r].popups&&e.FE.INSTANCES[r].popups.areVisible()&&e.FE.INSTANCES[r].$el.find(".fr-marker").remove();o.popups.hideAll()}t.node.hasClass(n.get(0),"fr-dropdown")?function(n){var o=n.next(),r=t.node.hasClass(n.get(0),"fr-active"),a=i(".fr-dropdown.fr-active").not(n),s=n.parents(".fr-toolbar, .fr-popup").data("instance")||t;if(s.helpers.isIOS()&&!s.el.querySelector(".fr-marker")&&(s.selection.save(),s.selection.clear(),s.selection.restore()),!r){var l=n.data("cmd");o.find(".fr-command").removeClass("fr-active").attr("aria-selected",!1),e.FE.COMMANDS[l]&&e.FE.COMMANDS[l].refreshOnShow&&e.FE.COMMANDS[l].refreshOnShow.apply(s,[n,o]),o.css("left",n.offset().left-n.parent().offset().left-("rtl"==t.opts.direction?o.width()-n.outerWidth():0)),o.addClass("test-height");var d=o.outerHeight();o.removeClass("test-height"),o.css("top","").css("bottom",""),!t.opts.toolbarBottom&&o.offset().top+n.outerHeight()+d<e(t.o_doc).height()?o.css("top",n.position().top+n.outerHeight()):o.css("bottom",n.parents(".fr-popup, .fr-toolbar").first().height()-n.position().top)}n.addClass("fr-blink").toggleClass("fr-active"),n.hasClass("fr-options")&&n.prev().toggleClass("fr-expanded"),n.hasClass("fr-active")?(o.attr("aria-hidden",!1),n.attr("aria-expanded",!0)):(o.attr("aria-hidden",!0),n.attr("aria-expanded",!1)),setTimeout((function(){n.removeClass("fr-blink")}),300),o.css("margin-left",""),o.offset().left+o.outerWidth()>t.$sc.offset().left+t.$sc.width()&&o.css("margin-left",-(o.offset().left+o.outerWidth()-t.$sc.offset().left-t.$sc.width())),o.offset().left<t.$sc.offset().left&&"rtl"==t.opts.direction&&o.css("margin-left",t.$sc.offset().left),a.removeClass("fr-active").attr("aria-expanded",!1).next().attr("aria-hidden",!0),a.prev(".fr-expanded").removeClass("fr-expanded"),a.parent(".fr-toolbar:not(.fr-inline)").css("zIndex",""),0!==n.parents(".fr-popup").length||t.opts.toolbarInline||(t.node.hasClass(n.get(0),"fr-active")?t.$tb.css("zIndex",(t.opts.zIndex||1)+4):t.$tb.css("zIndex",""));var c=o.find("a.fr-command.fr-active:first");t.helpers.isMobile()||(c.length?t.accessibility.focusToolbarElement(c):t.accessibility.focusToolbarElement(n))}(n):(!function(e){a(e)}(n),e.FE.COMMANDS[n.data("cmd")]&&!1!==e.FE.COMMANDS[n.data("cmd")].refreshAfterCallback&&o.button.bulkRefresh())}function l(t){s(e(t.currentTarget))}function d(e){var t=e.find(".fr-dropdown.fr-active");t.length&&(t.removeClass("fr-active").attr("aria-expanded",!1).next().attr("aria-hidden",!0),t.parent(".fr-toolbar:not(.fr-inline)").css("zIndex",""),t.prev().removeClass("fr-expanded"))}function c(e){e.preventDefault(),e.stopPropagation()}function p(e){if(e.stopPropagation(),!t.helpers.isMobile())return!1}function f(n,o,r){if(o=e.extend(!0,{},o),t.helpers.isMobile()&&!1===o.showOnMobile)return"";var i=o.displaySelection;"function"==typeof i&&(i=i(t));var a="";if("options"!==o.type)if(i){var s="function"==typeof o.defaultSelection?o.defaultSelection(t):o.defaultSelection;a='<span style="width:'+(o.displaySelectionWidth||100)+'px">'+t.language.translate(s||o.title)+"</span>"}else a=t.icon.create(o.icon||n),a+='<span class="fr-sr-only">'+(t.language.translate(o.title)||"")+"</span>";var l=o.popup?' data-popup="true"':"",d=o.modal?' data-modal="true"':"",c=t.shortcuts.get(n+".");c=c?" ("+c+")":"";var p=n+"-"+t.id,h="dropdown-menu-"+p,u='<button id="'+p+'"type="button" tabIndex="-1" role="button"'+(o.toggle?' aria-pressed="false"':"")+("dropdown"==o.type||"options"==o.type?' aria-controls="'+h+'" aria-expanded="false" aria-haspopup="true"':"")+(o.disabled?' aria-disabled="true"':"")+' title="'+(t.language.translate(o.title)||"")+c+'" class="fr-command fr-btn'+("dropdown"==o.type||"options"==o.type?" fr-dropdown":"")+("options"==o.type?" fr-options":"")+" fr-btn-"+t.icon.getTemplate(o.icon)+(o.displaySelection?" fr-selection":"")+(o.back?" fr-back":"")+(o.disabled?" fr-disabled":"")+(r?"":" fr-hidden")+'" data-cmd="'+n+'"'+l+d+">"+a+"</button>";if("dropdown"==o.type||"options"==o.type){var g='<div id="'+h+'" class="fr-dropdown-menu" role="listbox" aria-labelledby="'+p+'" aria-hidden="true"><div class="fr-dropdown-wrapper" role="presentation"><div class="fr-dropdown-content" role="presentation">';g+=function(e,n){var o="";if(n.html)"function"==typeof n.html?o+=n.html.call(t):o+=n.html;else{var r=n.options;for(var i in"function"==typeof r&&(r=r()),o+='<ul class="fr-dropdown-list" role="presentation">',r)if(r.hasOwnProperty(i)){var a=t.shortcuts.get(e+"."+i);a=a?'<span class="fr-shortcut">'+a+"</span>":"",o+='<li role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="'+("options"===n.type?e.replace(/Options/g,""):e)+'" data-param1="'+i+'" title="'+r[i]+'">'+t.language.translate(r[i])+"</a></li>"}o+="</ul>"}return o}(n,o),u+=g+="</div></div></div>"}return o.hasOptions&&o.hasOptions.apply(t)&&(o.type="options",o.hasOptions=!1,u='<div class="fr-btn-wrap">'+u+f(n+"Options",o,r)+"</div>"),u}function h(n){var o=t.$tb&&t.$tb.data("instance")||t;if(!1===t.events.trigger("buttons.refresh"))return!0;setTimeout((function(){for(var r=o.selection.inEditor()&&o.core.hasFocus(),i=0;i<n.length;i++){var a=e(n[i]),s=a.data("cmd");0===a.parents(".fr-popup").length?r||e.FE.COMMANDS[s]&&e.FE.COMMANDS[s].forcedRefresh?o.button.refresh(a):t.node.hasClass(a.get(0),"fr-dropdown")||(a.removeClass("fr-active"),a.attr("aria-pressed")&&a.attr("aria-pressed",!1)):a.parents(".fr-popup").is(":visible")&&o.button.refresh(a)}}),0)}function u(){h(n),h(o)}function g(){n=[],o=[]}t.shared.popup_buttons||(t.shared.popup_buttons=[]),o=t.shared.popup_buttons;var m=null;function v(){clearTimeout(m),m=setTimeout(u,50)}return{_init:function(){t.opts.toolbarInline?t.events.on("toolbar.show",u):(t.events.on("mouseup",v),t.events.on("keyup",v),t.events.on("blur",v),t.events.on("focus",v),t.events.on("contentChanged",v),t.helpers.isMobile()&&t.events.$on(t.$doc,"selectionchange",u)),t.events.on("shared.destroy",g)},buildList:function(n,o){for(var r="",i=0;i<n.length;i++){var a=n[i],s=e.FE.COMMANDS[a];if(!(s&&void 0!==s.plugin&&t.opts.pluginsEnabled.indexOf(s.plugin)<0))if(s)r+=f(a,s,void 0===o||o.indexOf(a)>=0);else"|"==a?r+='<div class="fr-separator fr-vs" role="separator" aria-orientation="vertical"></div>':"-"==a&&(r+='<div class="fr-separator fr-hs" role="separator" aria-orientation="horizontal"></div>')}return r},bindCommands:function(r,i){t.events.bindClick(r,".fr-command:not(.fr-disabled)",l),t.events.$on(r,t._mousedown+" "+t._mouseup+" "+t._move,".fr-dropdown-menu",c,!0),t.events.$on(r,t._mousedown+" "+t._mouseup+" "+t._move,".fr-dropdown-menu .fr-dropdown-wrapper",p,!0);var a=r.get(0).ownerDocument,s="defaultView"in a?a.defaultView:a.parentWindow,f=function(n){(!n||n.type==t._mouseup&&n.target!=e("html").get(0)||"keydown"==n.type&&(t.keys.isCharacter(n.which)&&!t.keys.ctrlKey(n)||n.which==e.FE.KEYCODE.ESC))&&d(r)};t.events.$on(e(s),t._mouseup+" resize keydown",f,!0),t.opts.iframe&&t.events.$on(t.$win,t._mouseup,f,!0),t.node.hasClass(r.get(0),"fr-popup")?e.merge(o,r.find(".fr-btn").toArray()):e.merge(n,r.find(".fr-btn").toArray()),t.tooltip.bind(r,".fr-btn, .fr-title",i)},refresh:function(n){var o,r=n.parents(".fr-popup, .fr-toolbar").data("instance")||t,i=n.data("cmd");t.node.hasClass(n.get(0),"fr-dropdown")?o=n.next():(n.removeClass("fr-active"),n.attr("aria-pressed")&&n.attr("aria-pressed",!1)),e.FE.COMMANDS[i]&&e.FE.COMMANDS[i].refresh?e.FE.COMMANDS[i].refresh.apply(r,[n,o]):t.refresh[i]&&r.refresh[i](n,o)},bulkRefresh:u,exec:a,click:s,hideActiveDropdowns:d,getButtons:i}}}(jQuery),function(e){e.FE.MODULES.modals=function(t){t.shared.modals||(t.shared.modals={});var n,o=t.shared.modals;function r(){for(var e in o){var t=o[e];t&&t.$modal&&t.$modal.removeData().remove()}n&&n.removeData().remove(),o={}}function i(r,i){if(o[r]){var a=o[r].$modal,s=a.data("instance")||t;s.events.enableBlur(),a.hide(),n.hide(),e(s.o_doc).find("body:first").removeClass("prevent-scroll fr-mobile"),a.removeClass("fr-active"),i||(s.accessibility.restoreSelection(),s.events.trigger("modals.hide"))}}function a(e){var n;if("string"==typeof e){if(!o[e])return;n=o[e].$modal}else n=e;return n&&t.node.hasClass(n,"fr-active")&&t.core.sameInstance(n)||!1}return{_init:function(){t.events.on("shared.destroy",r,!0)},get:function(e){return o[e]},create:function(r,a,s){if(t.shared.$overlay||(t.shared.$overlay=e('<div class="fr-overlay">').appendTo("body:first")),n=t.shared.$overlay,t.opts.theme&&n.addClass(t.opts.theme+"-theme"),!o[r]){var l=function(n,o){var r='<div tabIndex="-1" class="fr-modal'+(t.opts.theme?" "+t.opts.theme+"-theme":"")+'"><div class="fr-modal-wrapper">';return r+='<div class="fr-modal-head">'+n+'<span title="'+t.language.translate("Cancel")+'" class="fr-modal-close">&times;</span></div>',r+='<div tabIndex="-1" class="fr-modal-body">'+o+"</div>",e(r+="</div></div>")}(a,s);o[r]={$modal:l,$head:l.find(".fr-modal-head"),$body:l.find(".fr-modal-body")},t.helpers.isMobile()||l.addClass("fr-desktop"),l.appendTo("body:first"),t.events.$on(l,"click",".fr-modal-close",(function(){i(r)}),!0),o[r].$body.css("margin-top",o[r].$head.outerHeight()),t.events.$on(l,"keydown",(function(n){var o=n.which;return o==e.FE.KEYCODE.ESC?(i(r),t.accessibility.focusModalButton(l),!1):!(!e(n.target).is("input[type=text], textarea")&&o!=e.FE.KEYCODE.ARROW_UP&&o!=e.FE.KEYCODE.ARROW_DOWN&&!t.keys.isBrowserAction(n))||(n.preventDefault(),n.stopPropagation(),!1)}),!0),i(r,!0)}return o[r]},show:function(r){if(o[r]){var i=o[r].$modal;i.data("instance",t),i.show(),n.show(),e(t.o_doc).find("body:first").addClass("prevent-scroll"),t.helpers.isMobile()&&e(t.o_doc).find("body:first").addClass("fr-mobile"),i.addClass("fr-active"),t.accessibility.focusModal(i)}},hide:i,resize:function(n){if(o[n]){var r=o[n],i=r.$modal,a=r.$body,s=e(t.o_win).height(),l=i.find(".fr-modal-wrapper"),d=s-l.outerHeight(!0)+(l.height()-(a.outerHeight(!0)-a.height())),c="auto";a.get(0).scrollHeight>d&&(c=d),a.height(c)}},isVisible:a,areVisible:function(e){for(var t in o)if(o.hasOwnProperty(t)&&a(t)&&(void 0===e||o[t].$modal.data("instance")==e))return o[t].$modal;return!1}}}}(jQuery),function(e){e.FE.POPUP_TEMPLATES={"text.edit":"[_EDIT_]"},e.FE.RegisterTemplate=function(t,n){e.FE.POPUP_TEMPLATES[t]=n},e.FE.MODULES.popups=function(t){t.shared.popups||(t.shared.popups={});var n=t.shared.popups;function o(e,o){o.is(":visible")||(o=t.$sc),o.is(n[e].data("container"))||(n[e].data("container",o),o.append(n[e]))}function r(e){return n[e]&&t.node.hasClass(n[e],"fr-active")&&t.core.sameInstance(n[e])||!1}function i(e){for(var t in n)if(n.hasOwnProperty(t)&&r(t)&&(void 0===e||n[t].data("instance")==e))return n[t];return!1}function a(e){var o=null;if((o="string"!=typeof e?e:n[e])&&t.node.hasClass(o,"fr-active")){o.removeClass("fr-active fr-above"),t.events.trigger("popups.hide."+e);const n=o.data("popper");n&&n.destroy(),t.$tb&&(t.opts.zIndex>1?t.$tb.css("zIndex",t.opts.zIndex+1):t.$tb.css("zIndex","")),t.events.disableBlur(),o.find("input, textarea, button").filter(":focus").blur(),o.find("input, textarea").attr("disabled","disabled")}}function s(e){for(var t in void 0===e&&(e=[]),n)n.hasOwnProperty(t)&&e.indexOf(t)<0&&a(t)}function l(){t.shared.exit_flag=!0}function d(){t.shared.exit_flag=!1}function c(){return t.shared.exit_flag}function p(o,r){var i,a,s=function(n,o){var r=e.FE.POPUP_TEMPLATES[n];if(!r)return null;for(var i in"function"==typeof r&&(r=r.apply(t)),o)o.hasOwnProperty(i)&&(r=r.replace("[_"+i.toUpperCase()+"_]",o[i]));return r}(o,r);return s?(i=e('<div class="fr-popup'+(t.helpers.isMobile()?" fr-mobile":" fr-desktop")+(t.opts.toolbarInline?" fr-inline":"")+'"><span class="fr-arrow"></span>'+s+"</div>"),e(".fr-action-buttons button",i).addClass("btn btn-sm btn-secondary"),e(".fr-action-buttons button.fr-submit",i).removeClass("btn-secondary").addClass("btn-primary"),t.opts.theme&&i.addClass(t.opts.theme+"-theme"),t.opts.zIndex>1&&(t.opts.editInPopup?i.css("z-index",t.opts.zIndex+2):t.$tb.css("z-index",t.opts.zIndex+2)),"auto"!=t.opts.direction&&i.removeClass("fr-ltr fr-rtl").addClass("fr-"+t.opts.direction),i.find("input, textarea").attr("dir",t.opts.direction).attr("disabled","disabled"),(a=e("body:first")).append(i),i.data("container",a),n[o]=i,t.button.bindCommands(i,!1),i):(i=e('<div class="fr-popup fr-empty"></div>'),(a=e("body:first")).append(i),i.data("container",a),n[o]=i,i)}function f(o){var i=n[o];return{_windowResize:function(){var e=i.data("instance")||t;!e.helpers.isMobile()&&i.is(":visible")&&(e.events.disableBlur(),e.popups.hide(o),e.events.enableBlur())},_inputFocus:function(n){var o=i.data("instance")||t,r=e(n.currentTarget);if(r.is("input:file")&&r.closest(".fr-layer").addClass("fr-input-focus"),n.preventDefault(),n.stopPropagation(),setTimeout((function(){o.events.enableBlur()}),t.browser.msie?100:0),o.helpers.isMobile()){var a=e(o.o_win).scrollTop();setTimeout((function(){e(o.o_win).scrollTop(a)}),0)}},_inputBlur:function(n){var o=i.data("instance")||t,r=e(n.currentTarget);r.is("input:file")&&r.closest(".fr-layer").removeClass("fr-input-focus"),document.activeElement!=this&&e(this).is(":visible")&&(o.events.blurActive()&&o.events.trigger("blur"),o.events.enableBlur())},_editorKeydown:function(n){var a=i.data("instance")||t;a.keys.ctrlKey(n)||n.which==e.FE.KEYCODE.ALT||n.which==e.FE.KEYCODE.ESC||(r(o)&&i.find(".fr-back:visible").length?a.button.exec(i.find(".fr-back:visible:first")):n.which!=e.FE.KEYCODE.ALT&&a.popups.hide(o))},_preventFocus:function(n){var o=i.data("instance")||t,r=n.originalEvent?n.originalEvent.target||n.originalEvent.originalTarget:null;"mouseup"==n.type||e(r).is(":focus")||o.events.disableBlur(),"mouseup"!=n.type||e(r).hasClass("fr-command")||e(r).parents(".fr-command").length>0||e(r).hasClass("fr-dropdown-content")||t.button.hideActiveDropdowns(i),(t.browser.safari||t.browser.mozilla)&&"mousedown"==n.type&&e(r).is("input[type=file]")&&o.events.disableBlur();var a="input, textarea, button, select, label, .fr-command";if(r&&!e(r).is(a)&&0===e(r).parents(a).length)return n.stopPropagation(),!1;r&&e(r).is(a)&&n.stopPropagation(),d()},_editorMouseup:function(){i.is(":visible")&&c()&&i.find("input:focus, textarea:focus, button:focus, select:focus").filter(":visible").length>0&&t.events.disableBlur()},_windowMouseup:function(e){if(!t.core.sameInstance(i))return!0;var n=i.data("instance")||t;i.is(":visible")&&c()&&(e.stopPropagation(),n.markers.remove(),n.popups.hide(o),d())},_windowKeydown:function(n){if(!t.core.sameInstance(i))return!0;var r=i.data("instance")||t,a=n.which;if(e.FE.KEYCODE.ESC==a){if(r.popups.isVisible(o)&&r.opts.toolbarInline)return n.stopPropagation(),r.popups.isVisible(o)&&(i.find(".fr-back:visible").length?(r.button.exec(i.find(".fr-back:visible:first")),r.accessibility.focusPopupButton(i)):i.find(".fr-dismiss:visible").length?r.button.exec(i.find(".fr-dismiss:visible:first")):(r.popups.hide(o),r.toolbar.showInline(null,!0),r.accessibility.focusPopupButton(i))),!1;if(r.popups.isVisible(o))return i.find(".fr-back:visible").length?(r.button.exec(i.find(".fr-back:visible:first")),r.accessibility.focusPopupButton(i)):i.find(".fr-dismiss:visible").length?r.button.exec(i.find(".fr-dismiss:visible:first")):(r.popups.hide(o),r.accessibility.focusPopupButton(i)),!1}},_doPlaceholder:function(){0===e(this).next().length&&e(this).attr("placeholder")&&e(this).after('<label for="'+e(this).attr("id")+'">'+e(this).attr("placeholder")+"</label>"),e(this).toggleClass("fr-not-empty",""!==e(this).val())}}}function h(e,o){t.events.on("mouseup",e._editorMouseup,!0),t.$wp&&t.events.on("keydown",e._editorKeydown),t.events.on("blur",(function(){i()&&t.markers.remove(),s()})),t.events.on("window.mouseup",e._windowMouseup,!0),t.events.on("window.keydown",e._windowKeydown,!0),n[o].data("inst"+t.id,!0),t.events.on("destroy",(function(){t.core.sameInstance(n[o])&&n[o].removeClass("fr-active").appendTo("body:first")}),!0)}function u(){for(var e in n)if(n.hasOwnProperty(e)){var t=n[e];t&&(t.html("").removeData().remove(),n[e]=null)}n=[]}return t.shared.exit_flag=!1,{_init:function(){t.events.on("shared.destroy",u,!0),t.events.on("window.mousedown",l),t.events.on("window.touchmove",d),t.events.$on(e(t.o_win),"scroll",d),t.events.on("mousedown",(function(e){i()&&(e.stopPropagation(),t.$el.find(".fr-marker").remove(),l(),t.events.disableBlur())}))},create:function(n,o){var r=p(n,o),i=f(n);return h(i,n),t.events.$on(r,"mousedown mouseup touchstart touchend touch","*",i._preventFocus,!0),t.events.$on(r,"focus","input, textarea, button, select",i._inputFocus,!0),t.events.$on(r,"blur","input, textarea, button, select",i._inputBlur,!0),t.accessibility.registerPopup(n),t.events.$on(r,"keydown keyup change input","input, textarea",i._doPlaceholder,!0),t.helpers.isIOS()&&t.events.$on(r,"touchend","label",(function(){e("#"+e(this).attr("for")).prop("checked",(function(e,t){return!t}))}),!0),t.events.$on(e(t.o_win),"resize",i._windowResize,!0),r},get:function(e){var o=n[e];return o&&!o.data("inst"+t.id)&&h(f(e),e),o},show:function(e,a,l,c){if(r(e)||(i()&&t.$el.find(".fr-marker").length>0?(t.events.disableBlur(),t.selection.restore()):i()||(t.events.disableBlur(),t.events.focus(),t.events.enableBlur())),s([e]),!n[e])return!1;var p=t.button.getButtons(".fr-dropdown.fr-active");p.removeClass("fr-active").attr("aria-expanded",!1).parent(".fr-toolbar").css("zIndex",""),p.next().attr("aria-hidden",!0),n[e].data("instance",t),t.$tb&&t.$tb.data("instance",t);var f=n[e].outerWidth(),h=r(e);n[e].addClass("fr-active").removeClass("fr-hidden").find("input, textarea").removeAttr("disabled");var u=n[e].data("container");!function(e,o){o.is(":visible")||(o=t.$sc),o.get(0).contains(n[e].get(0))||o.append(n[e])}(e,u),t.opts.toolbarInline&&u&&t.$tb&&u.get(0)==t.$tb.get(0)&&(o(e,t.$sc),l=t.$tb.offset().top-t.helpers.getPX(t.$tb.css("margin-top")),a=t.$tb.offset().left+t.$tb.outerWidth()/2+(parseFloat(t.$tb.find(".fr-arrow").css("margin-left"))||0)+t.$tb.find(".fr-arrow").outerWidth()/2,t.node.hasClass(t.$tb.get(0),"fr-above")&&l&&(l+=t.$tb.outerHeight()),c=0),u=n[e].data("container"),!t.opts.iframe||c||h||(a&&(a-=t.$iframe.offset().left),l&&(l-=t.$iframe.offset().top)),u.is(t.$tb)?t.$tb.css("zIndex",(t.opts.zIndex||1)+4):n[e].css("zIndex",(t.opts.zIndex||1)+4),a&&(a-=f/2),t.opts.toolbarBottom&&u&&t.$tb&&u.get(0)==t.$tb.get(0)&&(n[e].addClass("fr-above"),l&&(l-=n[e].outerHeight())),n[e].removeClass("fr-active"),t.position.at(a,l,n[e],c||0),n[e].addClass("fr-active"),h||t.accessibility.focusPopup(n[e]),t.opts.toolbarInline&&t.toolbar.hide(),t.events.trigger("popups.show."+e),d()},showEl:function(e,a,l){if(a||(a=t.$el),r(e)||(i()&&t.$el.find(".fr-marker").length>0?(t.events.disableBlur(),t.selection.restore()):i()||(t.events.disableBlur(),t.events.focus(),t.events.enableBlur())),s([e]),!n[e])return!1;var c=t.button.getButtons(".fr-dropdown.fr-active");c.removeClass("fr-active").attr("aria-expanded",!1).parent(".fr-toolbar").css("zIndex",""),c.next().attr("aria-hidden",!0),n[e].data("instance",t),t.$tb&&t.$tb.data("instance",t);var p=r(e);n[e].addClass("fr-active").removeClass("fr-hidden").find("input, textarea").removeAttr("disabled");var f=n[e].data("container");!function(e,o){o.is(":visible")||(o=t.$sc),o.get(0).contains(n[e].get(0))||o.append(n[e])}(e,f),t.opts.toolbarInline&&f&&t.$tb&&f.get(0)==t.$tb.get(0)&&o(e,t.$sc),(f=n[e].data("container")).is(t.$tb)?t.$tb.css("zIndex",(t.opts.zIndex||1)+4):n[e].css("zIndex",(t.opts.zIndex||1)+4),t.opts.toolbarBottom&&f&&t.$tb&&f.get(0)==t.$tb.get(0)&&n[e].addClass("fr-above"),n[e].removeClass("fr-active"),function(e,n,o){const r=n.data("popper");r&&r.destroy();const i=Popper.createPopper(e.get(0),n.get(0),function(e){const n=t.opts.iframe?()=>[t.$iframe.offset().left,t.$iframe.offset().top+10]:[0,10],o=[];o.push({name:"preventOverflow",options:{boundary:t.$sc.get(0)}}),e||o.push({name:"flip",options:{fallbackPlacements:["left","top","bottom"]}});o.push({name:"offset",options:{offset:n}});return{placement:e?"bottom":"right",modifiers:o}}(o));n.data("popper",i)}(a,n[e],l),n[e].addClass("fr-active"),p||t.accessibility.focusPopup(n[e]),t.opts.toolbarInline&&t.toolbar.hide(),t.events.trigger("popups.show."+e),d()},showElToolbar:function(e,t){return this.showEl(e,t,!0)},hide:a,onHide:function(e,n){t.events.on("popups.hide."+e,n)},hideAll:s,setContainer:o,refresh:function(o){n[o].data("instance",t),t.events.trigger("popups.refresh."+o);for(var r=n[o].find(".fr-command"),i=0;i<r.length;i++){var a=e(r[i]);0===a.parents(".fr-dropdown-menu").length&&t.button.refresh(a)}},onRefresh:function(e,n){t.events.on("popups.refresh."+e,n)},onShow:function(e,n){t.events.on("popups.show."+e,n)},isVisible:r,areVisible:i}}}(jQuery),function(e){e.FE.MODULES.position=function(t){function n(){var e=t.selection.ranges(0).getBoundingClientRect();if(0===e.top&&0===e.left&&0===e.width||0===e.height){var n=!1;0===t.$el.find(".fr-marker").length&&(t.selection.save(),n=!0);var o=t.$el.find(".fr-marker:first");o.css("display","inline"),o.css("line-height","");var r=o.offset(),i=o.outerHeight();o.css("display","none"),o.css("line-height",0),(e={}).left=r.left,e.width=0,e.height=i,e.top=r.top-(t.opts.iframe?0:t.helpers.scrollTop()),e.right=1,e.bottom=1,e.ok=!0,n&&t.selection.restore()}return e}function o(e,n,o,r){var i=o.data("container");!i||"BODY"===i.get(0).tagName&&"static"==i.css("position")||(e&&(e-=i.offset().left),n&&(n-=i.offset().top),"BODY"!=i.get(0).tagName?(e&&(e+=i.get(0).scrollLeft),n&&(n+=i.get(0).scrollTop)):"absolute"==i.css("position")&&(e&&(e+=i.position().left),n&&(n+=i.position().top))),t.opts.iframe&&i&&t.$tb&&i.get(0)!=t.$tb.get(0)&&(e&&(e+=t.$iframe.offset().left),n&&(n+=t.$iframe.offset().top));var a=function(e,n){var o=e.outerWidth(!0),r=e.parent().offset().left;return e.parent().get(0)==t.$sc.get(0)&&(r-=e.parent().position().left),r+n+o>t.$sc.get(0).clientWidth-10&&(n=t.$sc.get(0).clientWidth-o-r-10),n<0&&(n=10),n}(o,e);if(e){o.css("left",a);var s=o.data("fr-arrow");s||(s=o.find(".fr-arrow"),o.data("fr-arrow",s)),s.data("margin-left")||s.data("margin-left",t.helpers.getPX(s.css("margin-left"))),s.css("margin-left",e-a+s.data("margin-left"))}n&&o.css("top",function(e,n,o){var r=e.outerHeight(!0)+.5;if(!t.helpers.isMobile()&&t.$tb&&e.parent().get(0)!=t.$tb.get(0)){var i=e.parent().offset().top,a=n-r-(o||0);e.parent().get(0)==t.$sc.get(0)&&(i-=e.parent().position().top);var s=t.$sc.get(0).clientHeight;i+n+r>t.$sc.offset().top+s&&e.parent().offset().top+a>0&&a>0?a>t.$wp.scrollTop()&&(n=a,e.addClass("fr-above")):e.removeClass("fr-above")}return n}(o,n,r))}function r(n){var o=e(n),r=o.is(".fr-sticky-on"),i=o.data("sticky-top"),a=o.data("sticky-scheduled");if(void 0===i){o.data("sticky-top",0);var s=e('<div class="fr-sticky-dummy" style="height: '+o.outerHeight()+'px;"></div>');t.$box.prepend(s)}else t.$box.find(".fr-sticky-dummy").css("height",o.outerHeight());if(t.core.hasFocus()||t.$tb.find("input:visible:focus").length>0){var l=t.helpers.scrollTop(),d=Math.min(Math.max(l-t.$tb.parent().offset().top,0),t.$tb.parent().outerHeight()-o.outerHeight());d!=i&&d!=a&&(clearTimeout(o.data("sticky-timeout")),o.data("sticky-scheduled",d),o.outerHeight()<l-t.$tb.parent().offset().top&&o.addClass("fr-opacity-0"),o.data("sticky-timeout",setTimeout((function(){var e=t.helpers.scrollTop(),n=Math.min(Math.max(e-t.$tb.parent().offset().top,0),t.$tb.parent().outerHeight()-o.outerHeight());n>0&&"BODY"==t.$tb.parent().get(0).tagName&&(n+=t.$tb.parent().position().top),n!=i&&(o.css("top",Math.max(n,0)),o.data("sticky-top",n),o.data("sticky-scheduled",n)),o.removeClass("fr-opacity-0")}),100))),r||(o.css("top","0"),o.width(t.$tb.parent().width()),o.addClass("fr-sticky-on"),t.$box.addClass("fr-sticky-box"))}else clearTimeout(e(n).css("sticky-timeout")),o.css("top","0"),o.css("position",""),o.width(""),o.data("sticky-top",0),o.removeClass("fr-sticky-on"),t.$box.removeClass("fr-sticky-box")}function i(n){if(n.offsetWidth){var o,r,i=e(n),a=i.outerHeight(),s=i.data("sticky-top"),l=i.data("sticky-position"),d=e("body"==t.opts.scrollableContainer?t.o_win:t.opts.scrollableContainer).outerHeight(),c=0,p=0;"body"!==t.opts.scrollableContainer&&(c=t.$sc.offset().top,p=e(t.o_win).outerHeight()-c-d);var f="body"==t.opts.scrollableContainer?t.helpers.scrollTop():c,h=i.is(".fr-sticky-on");i.data("sticky-parent")||i.data("sticky-parent",i.parent());var u=i.data("sticky-parent"),g=u.offset().top,m=u.outerHeight();if(i.data("sticky-offset")||void 0!==s?t.$box.find(".fr-sticky-dummy").css("height",a+"px"):(i.data("sticky-offset",!0),i.after('<div class="fr-sticky-dummy" style="height: '+a+'px;"></div>')),!l){var v="auto"!==i.css("top")||"auto"!==i.css("bottom");v||i.css("position","fixed"),l={top:t.node.hasClass(i.get(0),"fr-top"),bottom:t.node.hasClass(i.get(0),"fr-bottom")},v||i.css("position",""),i.data("sticky-position",l),i.data("top",t.node.hasClass(i.get(0),"fr-top")?i.css("top"):"auto"),i.data("bottom",t.node.hasClass(i.get(0),"fr-bottom")?i.css("bottom"):"auto")}o=t.helpers.getPX(i.data("top")),r=t.helpers.getPX(i.data("bottom"));var b=l.top&&g<f+o&&g+m-a>=f+o&&(t.helpers.isInViewPort(t.$sc.get(0))||"body"==t.opts.scrollableContainer),E=l.bottom&&g+a<f+d-r&&g+m>f+d-r;b||E?(i.css("width",u.get(0).getBoundingClientRect().width+"px"),h||(i.addClass("fr-sticky-on"),i.removeClass("fr-sticky-off"),i.css("top")&&("auto"!=i.data("top")?i.css("top",t.helpers.getPX(i.data("top"))+c):i.data("top","auto")),i.css("bottom")&&("auto"!=i.data("bottom")?i.css("bottom",t.helpers.getPX(i.data("bottom"))+p):i.css("bottom","auto")))):t.node.hasClass(i.get(0),"fr-sticky-off")||(i.width(""),i.removeClass("fr-sticky-on"),i.addClass("fr-sticky-off"),i.css("top")&&"auto"!=i.data("top")&&l.top&&i.css("top",0),i.css("bottom")&&"auto"!=i.data("bottom")&&l.bottom&&i.css("bottom",0))}}function a(){if(t._stickyElements)for(var e=0;e<t._stickyElements.length;e++)i(t._stickyElements[e])}return{_init:function(){!function(){if(t._stickyElements=[],t.helpers.isIOS()){var n=function(){if(t.helpers.requestAnimationFrame()(n),!1!==t.events.trigger("position.refresh"))for(var e=0;e<t._stickyElements.length;e++)r(t._stickyElements[e])};n(),t.events.$on(e(t.o_win),"scroll",(function(){if(t.core.hasFocus())for(var n=0;n<t._stickyElements.length;n++){var o=e(t._stickyElements[n]),r=o.parent(),i=t.helpers.scrollTop();o.outerHeight()<i-r.offset().top&&(o.addClass("fr-opacity-0"),o.data("sticky-top",-1),o.data("sticky-scheduled",-1))}}),!0)}else"body"!==t.opts.scrollableContainer&&t.events.$on(e(t.opts.scrollableContainer),"scroll",a,!0),t.events.$on(e(t.o_win),"scroll",a,!0),t.events.$on(e(t.o_win),"resize",a,!0),t.events.on("initialized",a),t.events.on("focus",a),t.events.$on(e(t.o_win),"resize","textarea",a,!0);t.events.on("destroy",(function(){t._stickyElements=[]}))}()},forSelection:function(e){var r=n();e.css({top:0,left:0});var i=r.top+r.height,a=r.left+r.width/2-e.get(0).offsetWidth/2+t.helpers.scrollLeft();t.opts.iframe||(i+=t.helpers.scrollTop()),o(a,i,e,r.height)},addSticky:function(e){e.addClass("fr-sticky"),t.helpers.isIOS()&&e.addClass("fr-sticky-ios"),e.removeClass("fr-sticky"),t._stickyElements.push(e.get(0))},refresh:a,at:o,getBoundingRect:n}}}(jQuery),function(e){e.FE.MODULES.refresh=function(t){function n(e,t){e.toggleClass("fr-disabled",t).attr("aria-disabled",t)}return{undo:function(e){n(e,!t.undo.canDo())},redo:function(e){n(e,!t.undo.canRedo())},outdent:function(o){if(t.node.hasClass(o.get(0),"fr-no-refresh"))return!1;for(var r=t.selection.blocks(),i=0;i<r.length;i++){var a="rtl"==t.opts.direction||"rtl"==e(r[i]).css("direction")?"margin-right":"margin-left";if("LI"==r[i].tagName||"LI"==r[i].parentNode.tagName)return n(o,!1),!0;if(t.helpers.getPX(e(r[i]).css(a))>0)return n(o,!1),!0}n(o,!0)},indent:function(e){if(t.node.hasClass(e.get(0),"fr-no-refresh"))return!1;for(var o=t.selection.blocks(),r=0;r<o.length;r++){for(var i=o[r].previousSibling;i&&i.nodeType==Node.TEXT_NODE&&0===i.textContent.length;)i=i.previousSibling;if("LI"!=o[r].tagName||i)return n(e,!1),!0;n(e,!0)}}}}}(jQuery),function(e){e.extend(e.FE.DEFAULTS,{editInPopup:!1}),e.FE.MODULES.textEdit=function(e){function t(){e.events.$on(e.$el,e._mouseup,(function(){setTimeout((function(){var t,n;n=e.popups.get("text.edit"),t="INPUT"===e.$el.prop("tagName")?e.$el.attr("placeholder"):e.$el.text(),n.find("input").val(t).trigger("change"),e.popups.setContainer("text.edit",e.$sc),e.popups.showEl("text.edit",e.$el)}),10)}))}return{_init:function(){var n;e.opts.editInPopup&&(n={edit:`\n                <div id="fr-text-edit-${e.id}" class="fr-layer fr-text-edit-layer">\n                    <div class="fr-input-line">\n                        <input type="text" placeholder="${e.language.translate("Text")}" tabIndex="1">\n                    </div>\n                    <div class="fr-action-buttons">\n                        <button type="button" class="fr-command fr-submit" data-cmd="updateText" tabIndex="2">\n                        ${e.language.translate("Update")}\n                        </button>\n                    </div>\n                </div>\n            `},e.popups.create("text.edit",n),t())},update:function(){var t=e.popups.get("text.edit").find("input").val();0===t.length&&(t=e.opts.placeholderText),"INPUT"===e.$el.prop("tagName")?e.$el.attr("placeholder",t):e.$el.text(t),e.events.trigger("contentChanged"),e.popups.hide("text.edit")}}},e.FE.RegisterCommand("updateText",{focus:!1,undo:!1,callback:function(){this.textEdit.update()}})}(jQuery),function(e){e.extend(e.FE.DEFAULTS,{toolbarBottom:!1,toolbarButtons:null,toolbarButtonsXS:null,toolbarButtonsSM:null,toolbarButtonsMD:null,toolbarContainer:null,toolbarInline:!1,toolbarSticky:!0,toolbarStickyOffset:0,toolbarVisibleWithoutSelection:!1}),e.FE.TOOLBAR_BUTTONS=["fullscreen","bold","italic","underline","strikeThrough","subscript","superscript","|","fontFamily","fontSize","color","inlineClass","inlineStyle","paragraphStyle","lineHeight","|","paragraphFormat","align","formatOL","formatUL","outdent","indent","quote","-","insertLink","insertImage","insertVideo","embedly","insertFile","insertTable","|","emoticons","fontAwesome","specialCharacters","insertHR","selectAll","clearFormatting","|","print","getPDF","spellChecker","help","html","|","undo","redo"],e.FE.TOOLBAR_BUTTONS_MD=null,e.FE.TOOLBAR_BUTTONS_SM=["bold","italic","underline","|","fontFamily","fontSize","insertLink","insertImage","table","|","undo","redo"],e.FE.TOOLBAR_BUTTONS_XS=["bold","italic","fontFamily","fontSize","|","undo","redo"],e.FE.MODULES.toolbar=function(t){var n=[];function o(e,t){for(var n=0;n<t.length;n++)"-"!=t[n]&&"|"!=t[n]&&e.indexOf(t[n])<0&&e.push(t[n])}function r(){var e=t.helpers.screenSize();return n[e]}function i(){var e=r();t.$tb.find(".fr-separator").remove(),t.$tb.find("> .fr-command, > div.fr-btn-wrap").addClass("fr-hidden");for(var n=0;n<e.length;n++)if("|"==e[n]||"-"==e[n])t.$tb.append(t.button.buildList([e[n]]));else{var o=t.$tb.find('> .fr-command[data-cmd="'+e[n]+'"], > div.fr-btn-wrap > .fr-command[data-cmd="'+e[n]+'"]'),i=null;t.node.hasClass(o.next().get(0),"fr-dropdown-menu")&&(i=o.next()),t.node.hasClass(o.next().get(0),"fr-options")&&(o=o.parent()),o.removeClass("fr-hidden").appendTo(t.$tb),i&&i.appendTo(t.$tb)}}function a(n,o){setTimeout((function(){if((!n||n.which!=e.FE.KEYCODE.ESC)&&t.selection.inEditor()&&t.core.hasFocus()&&!t.popups.areVisible()&&(t.opts.toolbarVisibleWithoutSelection||!t.selection.isCollapsed()&&!t.keys.isIME()||o)){if(t.$tb.data("instance",t),!1===t.events.trigger("toolbar.show",[n]))return!1;t.$tb.show(),t.opts.toolbarContainer||t.position.forSelection(t.$tb),t.opts.zIndex>1?t.$tb.css("z-index",t.opts.zIndex+1):t.$tb.css("z-index",null)}}),0)}function s(e){return(!e||"blur"!==e.type||document.activeElement!==t.el)&&(!(!e||"keydown"!==e.type||!t.keys.ctrlKey(e))||(!!t.button.getButtons(".fr-dropdown.fr-active").next().find(t.o_doc.activeElement).length||void(!1!==t.events.trigger("toolbar.hide")&&t.$tb.hide())))}n[e.FE.XS]=t.opts.toolbarButtonsXS||t.opts.toolbarButtons||e.FE.TOOLBAR_BUTTONS_XS||e.FE.TOOLBAR_BUTTONS||[],n[e.FE.SM]=t.opts.toolbarButtonsSM||t.opts.toolbarButtons||e.FE.TOOLBAR_BUTTONS_SM||e.FE.TOOLBAR_BUTTONS||[],n[e.FE.MD]=t.opts.toolbarButtonsMD||t.opts.toolbarButtons||e.FE.TOOLBAR_BUTTONS_MD||e.FE.TOOLBAR_BUTTONS||[],n[e.FE.LG]=t.opts.toolbarButtons||e.FE.TOOLBAR_BUTTONS||[];var l=null;function d(n){clearTimeout(l),n&&n.which==e.FE.KEYCODE.ESC||(l=setTimeout(a,t.opts.typingTimer))}function c(){t.events.on("window.mousedown",s),t.events.on("keydown",s),t.events.on("blur",s),t.helpers.isMobile()||t.events.on("window.mouseup",a),t.helpers.isMobile()?t.helpers.isIOS()||(t.events.on("window.touchend",a),t.browser.mozilla&&setInterval(a,200)):t.events.on("window.keyup",d),t.events.on("keydown",(function(t){t&&t.which==e.FE.KEYCODE.ESC&&s()})),t.events.on("keydown",(function(t){if(t.which==e.FE.KEYCODE.ALT)return t.stopPropagation(),!1}),!0),t.events.$on(t.$wp,"scroll.toolbar",a),t.events.$on(t.$sc,"scroll.toolbar",a),t.events.on("commands.after",a),t.helpers.isMobile()&&(t.events.$on(t.$doc,"selectionchange",d),t.events.$on(t.$doc,"orientationchange",a))}function p(){t.$tb.html("").removeData().remove(),t.$vtb=null,t.$tb=null}function f(){t.$box.removeClass("fr-top fr-bottom fr-inline fr-basic"),t.$box.find(".fr-sticky-dummy").remove()}function h(){t.opts.theme&&t.$tb.addClass(t.opts.theme+"-theme"),t.opts.zIndex>1&&t.$tb.css("z-index",t.opts.zIndex+1),"auto"!=t.opts.direction&&t.$tb.removeClass("fr-ltr fr-rtl").addClass("fr-"+t.opts.direction),t.helpers.isMobile()?t.$tb.addClass("fr-mobile"):t.$tb.addClass("fr-desktop"),t.opts.toolbarContainer?(t.opts.toolbarInline&&(c(),s()),t.opts.toolbarBottom?t.$tb.addClass("fr-bottom"):t.$tb.addClass("fr-top")):t.opts.toolbarInline?(t.$sc.append(t.$tb),t.$tb.data("container",t.$sc),t.$tb.addClass("fr-inline"),t.$tb.prepend('<span class="fr-arrow"></span>'),c(),t.opts.toolbarBottom=!1):(t.opts.toolbarBottom&&!t.helpers.isIOS()?(t.$box.append(t.$tb),t.$tb.addClass("fr-bottom"),t.$box.addClass("fr-bottom")):(t.opts.toolbarBottom=!1,t.$box.prepend(t.$tb),t.$tb.addClass("fr-top"),t.$box.addClass("fr-top")),t.$tb.addClass("fr-basic"),t.opts.toolbarSticky&&(t.opts.toolbarStickyOffset&&(t.opts.toolbarBottom?t.$tb.css("bottom",t.opts.toolbarStickyOffset):t.$tb.css("top",t.opts.toolbarStickyOffset)),t.position.addSticky(t.$tb))),function(){var i=e.merge([],r());o(i,n[e.FE.XS]),o(i,n[e.FE.SM]),o(i,n[e.FE.MD]),o(i,n[e.FE.LG]);for(var a=i.length-1;a>=0;a--)"-"!=i[a]&&"|"!=i[a]&&i.indexOf(i[a])<a&&i.splice(a,1);var s=t.button.buildList(i,r());t.$tb.append(s),t.button.bindCommands(t.$tb)}(),t.events.$on(e(t.o_win),"resize",i),t.events.$on(e(t.o_win),"orientationchange",i),t.accessibility.registerToolbar(t.$tb),t.events.$on(t.$tb,t._mousedown+" "+t._mouseup,(function(e){var n=e.originalEvent?e.originalEvent.target||e.originalEvent.originalTarget:null;if(n&&"INPUT"!=n.tagName&&!t.edit.isDisabled())return e.stopPropagation(),e.preventDefault(),!1}),!0)}var u=!1;return{_init:function(){if(t.$sc=e(t.opts.scrollableContainer).first(),!t.$wp)return!1;var n=e(".document-toolbar-container:first",t.$el.closest(".component-backend-document"));n.length&&(t.$vtb=n),t.opts.toolbarContainer?(t.shared.$tb?(t.$tb=t.shared.$tb,t.opts.toolbarInline&&c()):(t.shared.$tb=e('<div class="fr-toolbar"></div>'),t.$tb=t.shared.$tb,e(t.opts.toolbarContainer).append(t.$tb),h(),t.$tb.data("instance",t)),t.opts.toolbarInline?t.$box.addClass("fr-inline"):t.$box.addClass("fr-basic"),t.events.on("focus",(function(){t.$tb.data("instance",t)}),!0),t.opts.toolbarInline=!1):t.opts.toolbarInline?(t.$box.addClass("fr-inline"),t.shared.$tb?(t.$tb=t.shared.$tb,c()):(t.shared.$tb=e('<div class="fr-toolbar"></div>'),t.$tb=t.shared.$tb,h())):(t.$box.addClass("fr-basic"),t.$tb=e('<div class="fr-toolbar"></div>'),h(),t.$tb.data("instance",t)),t.events.on("destroy",f,!0),t.events.on(t.opts.toolbarInline||t.opts.toolbarContainer?"shared.destroy":"destroy",p,!0)},hide:s,show:function(){if(!1===t.events.trigger("toolbar.show"))return!1;t.$tb.show()},hasButton:function(e){return r().includes(e)},showInline:a,disable:function(){!u&&t.$tb&&(t.$tb.find("> .fr-command, .fr-btn-wrap > .fr-command").addClass("fr-disabled fr-no-refresh").attr("aria-disabled",!0),u=!0)},enable:function(){u&&t.$tb&&(t.$tb.find("> .fr-command, .fr-btn-wrap > .fr-command").removeClass("fr-disabled fr-no-refresh").attr("aria-disabled",!1),u=!1),t.button.bulkRefresh()}}}}(jQuery),function(e){e.extend(e.FE.DEFAULTS,{paragraphStyles:{"fr-text-gray":"Gray","fr-text-bordered":"Bordered","fr-text-spaced":"Spaced","fr-text-uppercase":"Uppercase"},paragraphMultipleStyles:!0}),e.FE.PLUGINS.paragraphStyle=function(t){return{_init:function(){},apply:function(n,o,r){void 0===o&&(o=t.opts.paragraphStyles),void 0===r&&(r=t.opts.paragraphMultipleStyles);var i="";r||((i=Object.keys(o)).splice(i.indexOf(n),1),i=i.join(" ")),t.selection.save(),t.html.wrap(!0,!0,!0,!0),t.selection.restore();var a=t.selection.blocks();t.selection.save();for(var s=e(a[0]).hasClass(n),l=0;l<a.length;l++)e(a[l]).removeClass(i).toggleClass(n,!s),e(a[l]).hasClass("fr-temp-div")&&e(a[l]).removeClass("fr-temp-div"),""===e(a[l]).attr("class")&&e(a[l]).removeAttr("class");t.html.unwrap(),t.selection.restore()},refreshOnShow:function(n,o){var r=t.selection.blocks();if(r.length){var i=e(r[0]);o.find(".fr-command").each((function(){var t=e(this).data("param1"),n=i.hasClass(t);e(this).toggleClass("fr-active",n).attr("aria-selected",n)}))}}}},e.FE.RegisterCommand("paragraphStyle",{type:"dropdown",html:function(){var e='<ul class="fr-dropdown-list" role="presentation">',t=this.opts.paragraphStyles;for(var n in t)t.hasOwnProperty(n)&&(e+='<li role="presentation"><a class="fr-command '+n+'" tabIndex="-1" role="option" data-cmd="paragraphStyle" data-param1="'+n+'" title="'+this.language.translate(t[n])+'">'+this.language.translate(t[n])+"</a></li>");return e+="</ul>"},title:"Paragraph Style",callback:function(e,t){this.paragraphStyle.apply(t)},refreshOnShow:function(e,t){this.paragraphStyle.refreshOnShow(e,t)},plugin:"paragraphStyle"}),e.FE.DefineIcon("paragraphStyle",{NAME:"magic"})}(jQuery),function(e){e.FE.PLUGINS.fullscreen=function(t){var n,o,r,i,a;function s(){return t.$box.hasClass("fr-fullscreen")}function l(){if(t.helpers.isIOS()&&t.core.hasFocus())return t.$el.blur(),setTimeout(c,250),!1;n=t.helpers.scrollTop(),t.$box.toggleClass("fr-fullscreen"),e("body:first").toggleClass("fr-fullscreen"),o=e('<div style="display: none;"></div>'),t.$box.after(o),t.helpers.isMobile()&&(t.$tb.data("parent",t.$tb.parent()),t.$tb.prependTo(t.$box),t.$tb.data("sticky-dummy")&&t.$tb.after(t.$tb.data("sticky-dummy"))),r=t.opts.height,i=t.opts.heightMax,a=t.opts.zIndex,t.position.refresh(),t.opts.height=t.o_win.innerHeight-(t.opts.toolbarInline?0:t.$tb.outerHeight()),t.opts.zIndex=9990,t.opts.heightMax=null,t.size.refresh(),t.opts.toolbarInline&&t.toolbar.showInline(),t.events.trigger("charCounter.update"),t.events.trigger("codeView.update"),t.$win.trigger("scroll")}function d(){if(t.helpers.isIOS()&&t.core.hasFocus())return t.$el.blur(),setTimeout(c,250),!1;t.$box.toggleClass("fr-fullscreen"),e("body:first").toggleClass("fr-fullscreen"),t.$tb.prependTo(t.$tb.data("parent")),t.$tb.data("sticky-dummy")&&t.$tb.after(t.$tb.data("sticky-dummy")),t.opts.height=r,t.opts.heightMax=i,t.opts.zIndex=a,t.size.refresh(),e(t.o_win).scrollTop(n),t.opts.toolbarInline&&t.toolbar.showInline(),t.events.trigger("charCounter.update"),t.opts.toolbarSticky&&t.opts.toolbarStickyOffset&&(t.opts.toolbarBottom?t.$tb.css("bottom",t.opts.toolbarStickyOffset).data("bottom",t.opts.toolbarStickyOffset):t.$tb.css("top",t.opts.toolbarStickyOffset).data("top",t.opts.toolbarStickyOffset)),t.$win.trigger("scroll")}function c(){s()?d():l(),p(t.$tb.find('.fr-command[data-cmd="fullscreen"]')),e(window).trigger("oc.updateUi")}function p(e){var n=s();e.toggleClass("fr-active",n).attr("aria-pressed",n),e.find("> *:not(.fr-sr-only)").replaceWith(n?t.icon.create("fullscreenCompress"):t.icon.create("fullscreen"))}return{_init:function(){if(!t.$wp)return!1;t.events.$on(e(t.o_win),"resize",(function(){s()&&(d(),l())})),t.events.on("toolbar.hide",(function(){if(s()&&t.helpers.isMobile())return!1})),t.events.on("position.refresh",(function(){if(t.helpers.isIOS())return!s()})),t.events.on("destroy",(function(){s()&&d()}),!0)},toggle:c,refresh:p,isActive:s}},e.FE.RegisterCommand("fullscreen",{title:"Fullscreen",undo:!1,focus:!1,accessibilityFocus:!0,forcedRefresh:!0,toggle:!0,callback:function(){this.fullscreen.toggle()},refresh:function(e){this.fullscreen.refresh(e)},plugin:"fullscreen"}),e.FE.DefineIcon("fullscreen",{NAME:"expand"}),e.FE.DefineIcon("fullscreenCompress",{NAME:"compress"})}(jQuery),function(e){e.extend(e.FE.DEFAULTS,{aceEditor:!0,aceEditorVendorPath:"/",aceEditorOptions:{showLineNumbers:!0,useSoftTabs:!1,wrap:!0,mode:"ace/mode/html",tabSize:2},codeBeautifierOptions:{end_with_newline:!0,indent_inner_html:!0,extra_liners:["p","h1","h2","h3","h4","h5","h6","blockquote","pre","ul","ol","table","dl"],brace_style:"expand",indent_char:"\t",indent_size:1,wrap_line_length:0},codeViewKeepActiveButtons:["fullscreen"]}),e.FE.PLUGINS.codeView=function(t){var n,o;function r(){return!!t.$box.hasClass("fr-code-view")||!!t.$box.closest(".component-backend-richeditor-document-connector").hasClass("code-editing-mode")}function i(){return o?o.getValue():n.val()}function a(){r()&&o&&o.resize()}var s,l=!1;function d(){r()&&t.events.trigger("blur")}function c(){r()&&l&&t.events.trigger("focus")}function p(p){n||(!function(){n=e('<textarea class="fr-code" tabIndex="-1">'),t.$wp.append(n),n.attr("dir",t.opts.direction),t.$box.hasClass("fr-basic")||(s=e('<a data-cmd="html" title="Code View" class="fr-command fr-btn html-switch'+(t.helpers.isMobile()?"":" fr-desktop")+'" role="button" tabIndex="-1"><i class="fa fa-code"></i></button>'),t.$box.append(s),t.events.bindClick(t.$box,"a.html-switch",(function(){t.events.trigger("commands.before",["html"]),f(!1),t.events.trigger("commands.after",["html"])})));var o=function(){return!r()};t.events.on("buttons.refresh",o),t.events.on("copy",o,!0),t.events.on("cut",o,!0),t.events.on("paste",o,!0),t.events.on("destroy",h,!0),t.events.on("html.set",(function(){r()&&f(!0)})),t.events.on("codeView.update",a),t.events.on("form.submit",(function(){r()&&(t.html.set(i()),t.events.trigger("contentChanged",[],!0))}),!0)}(),!o&&t.opts.aceEditor&&"undefined"!=typeof ace?(o=ace.edit(n.get(0)),ace.require("ace/config").set("basePath",t.opts.aceEditorVendorPath),o.setOptions(t.opts.aceEditorOptions),o.on("blur",d),o.on("focus",c)):(t.events.$on(n,"keydown keyup change input",(function(){t.opts.height?this.removeAttribute("rows"):(this.rows=1,0===this.value.length?this.style.height="auto":this.style.height=this.scrollHeight+"px")})),t.events.$on(n,"blur",d),t.events.$on(n,"focus",c))),t.undo.saveStep(),t.html.cleanEmptyTags(),t.html.cleanWhiteTags(!0),t.core.hasFocus()&&(t.core.isEmpty()||(t.selection.save(),t.$el.find('.fr-marker[data-type="true"]:first').replaceWith('<span class="fr-tmp fr-sm">F</span>'),t.$el.find('.fr-marker[data-type="false"]:last').replaceWith('<span class="fr-tmp fr-em">F</span>')));var u=t.html.get(!1,!0);t.$el.find("span.fr-tmp").remove(),t.$box.toggleClass("fr-code-view",!0);var g,m,v=!1;if(t.core.hasFocus()&&(v=!0,t.events.disableBlur(),t.$el.blur()),u=(u=u.replace(/<span class="fr-tmp fr-sm">F<\/span>/,"FROALA-SM")).replace(/<span class="fr-tmp fr-em">F<\/span>/,"FROALA-EM"),t.codeBeautifier&&(u=t.codeBeautifier.run(u,t.opts.codeBeautifierOptions)),o){(g=u.indexOf("FROALA-SM"))>(m=u.indexOf("FROALA-EM"))?g=m:m-=9;var b=(u=u.replace(/FROALA-SM/g,"").replace(/FROALA-EM/g,"")).substring(0,g).length-u.substring(0,g).replace(/\n/g,"").length,E=u.substring(0,m).length-u.substring(0,m).replace(/\n/g,"").length;g=u.substring(0,g).length-u.substring(0,u.substring(0,g).lastIndexOf("\n")+1).length,m=u.substring(0,m).length-u.substring(0,u.substring(0,m).lastIndexOf("\n")+1).length,o.$blockScrolling=1/0,o.getSession().setValue(u),l=!v,o.focus(),l=!0,o.selection.moveCursorToPosition({row:b,column:g}),o.selection.selectToPosition({row:E,column:m}),o.resize(),o.session.getUndoManager().reset()}else{g=u.indexOf("FROALA-SM"),m=u.indexOf("FROALA-EM")-9,t.opts.heightMin&&n.css("min-height",t.opts.heightMin),t.opts.height&&n.css("height",t.opts.height),t.opts.heightMax&&n.css("max-height",t.opts.height||t.opts.heightMax),n.val(u.replace(/FROALA-SM/g,"").replace(/FROALA-EM/g,"")).trigger("change");var y=e(t.o_doc).scrollTop();l=!v,n.focus(),l=!0,n.get(0).setSelectionRange(g,m),e(t.o_doc).scrollTop(y)}t.$tb.find(" > .fr-command, > .fr-btn-wrap > .fr-command").not(p).filter((function(){return t.opts.codeViewKeepActiveButtons.indexOf(e(this).data("cmd"))<0})).addClass("fr-disabled").attr("aria-disabled",!0),p.addClass("fr-active").attr("aria-pressed",!0),!t.helpers.isMobile()&&t.opts.toolbarInline&&t.toolbar.hide()}function f(e){void 0===e&&(e=!r());var n=t.$tb.find('.fr-command[data-cmd="html"]');e?(t.popups.hideAll(),p(n)):(t.$box.toggleClass("fr-code-view",!1),function(e){var n=i();t.html.set(n),t.$el.blur(),t.$tb.find(" > .fr-command, > .fr-btn-wrap > .fr-command").not(e).removeClass("fr-disabled").attr("aria-disabled",!1),e.removeClass("fr-active").attr("aria-pressed",!1),t.events.focus(!0),t.placeholder.refresh(),t.undo.saveStep()}(n))}function h(){r()&&f(!1),n.val("").removeData().remove(),n=null,s&&(s.remove(),s=null)}return{_init:function(){if(t.events.on("focus",(function(){var n;t.opts.toolbarContainer&&(n=t.$tb.find('.fr-command[data-cmd="html"]'),r()?(t.$tb.find(" > .fr-command").not(n).filter((function(){return t.opts.codeViewKeepActiveButtons.indexOf(e(this).data("cmd"))<0})).addClass("fr-disabled").attr("aria-disabled",!1),n.addClass("fr-active").attr("aria-pressed",!1)):(t.$tb.find(" > .fr-command").not(n).removeClass("fr-disabled").attr("aria-disabled",!1),n.removeClass("fr-active").attr("aria-pressed",!1)))})),!t.$wp)return!1},toggle:f,isActive:r,get:i}},e.FE.RegisterCommand("html",{title:"Code View",undo:!1,focus:!1,forcedRefresh:!0,toggle:!0,callback:function(){this.codeView.toggle()},plugin:"codeView"}),e.FE.DefineIcon("html",{NAME:"code"})}(jQuery),function(e){e.extend(e.FE.DEFAULTS,{paragraphFormat:{N:"Normal",H1:"Heading 1",H2:"Heading 2",H3:"Heading 3",H4:"Heading 4",PRE:"Code"},paragraphFormatSelection:!1,paragraphDefaultSelection:"Paragraph Format"}),e.FE.PLUGINS.paragraphFormat=function(t){function n(n,o){var r=t.html.defaultTag();if(o&&o.toLowerCase()!=r)if(n.find("ul, ol").length>0){var i=e("<"+o+">");n.prepend(i);for(var a=t.node.contents(n.get(0))[0];a&&["UL","OL"].indexOf(a.tagName)<0;){var s=a.nextSibling;i.append(a),a=s}}else n.html("<"+o+">"+n.html()+"</"+o+">")}function o(n,o){var r=t.html.defaultTag();o&&o.toLowerCase()!=r||(o='div class="fr-temp-div"'),n.replaceWith(e("<"+o+">").html(n.html()))}function r(n,o){var r=t.html.defaultTag();o||(o='div class="fr-temp-div"'+(t.node.isEmpty(n.get(0),!0)?' data-empty="true"':"")),o.toLowerCase()==r?(t.node.isEmpty(n.get(0),!0)||n.append("<br/>"),n.replaceWith(n.html())):n.replaceWith(e("<"+o+">").html(n.html()))}function i(n,o){o||(o='div class="fr-temp-div"'+(t.node.isEmpty(n.get(0),!0)?' data-empty="true"':"")),n.replaceWith(e("<"+o+" "+t.node.attributes(n.get(0))+">").html(n.html()).removeAttr("data-empty"))}return{apply:function(a){"N"==a&&(a=t.html.defaultTag()),t.selection.save(),t.html.wrap(!0,!0,!t.opts.paragraphFormat.BLOCKQUOTE,!0,!0),t.selection.restore();var s=t.selection.blocks();t.selection.save(),t.$el.find("pre").attr("skip",!0);for(var l=0;l<s.length;l++)if(s[l].tagName!=a&&!t.node.isList(s[l])){var d=e(s[l]);"LI"==s[l].tagName?n(d,a):"LI"==s[l].parentNode.tagName&&s[l]?o(d,a):["TD","TH"].indexOf(s[l].parentNode.tagName)>=0?r(d,a):i(d,a)}t.$el.find('pre:not([skip="true"]) + pre:not([skip="true"])').each((function(){e(this).prev().append("<br>"+e(this).html()),e(this).remove()})),t.$el.find("pre").removeAttr("skip"),t.html.unwrap(),t.selection.restore()},refreshOnShow:function(e,n){var o=t.selection.blocks();if(o.length){var r=o[0],i="N",a=t.html.defaultTag();r.tagName.toLowerCase()!=a&&r!=t.el&&(i=r.tagName),n.find('.fr-command[data-param1="'+i+'"]').addClass("fr-active").attr("aria-selected",!0)}else n.find('.fr-command[data-param1="N"]').addClass("fr-active").attr("aria-selected",!0)},refresh:function(e){if(t.opts.paragraphFormatSelection){var n=t.selection.blocks();if(n.length){var o=n[0],r="N",i=t.html.defaultTag();o.tagName.toLowerCase()!=i&&o!=t.el&&(r=o.tagName),["LI","TD","TH"].indexOf(r)>=0&&(r="N"),e.find("> span").text(t.language.translate(t.opts.paragraphFormat[r]))}else e.find("> span").text(t.language.translate(t.opts.paragraphFormat.N))}}}},e.FE.RegisterCommand("paragraphFormat",{type:"dropdown",displaySelection:function(e){return e.opts.paragraphFormatSelection},defaultSelection:function(e){return e.language.translate(e.opts.paragraphDefaultSelection)},displaySelectionWidth:125,html:function(){var e='<ul class="fr-dropdown-list" role="presentation">',t=this.opts.paragraphFormat;for(var n in t)if(t.hasOwnProperty(n)){var o=this.shortcuts.get("paragraphFormat."+n);o=o?'<span class="fr-shortcut">'+o+"</span>":"",e+='<li role="presentation"><'+("N"==n?this.html.defaultTag()||"DIV":n)+' style="padding: 0 !important; margin: 0 !important;" role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="paragraphFormat" data-param1="'+n+'" title="'+this.language.translate(t[n])+'">'+this.language.translate(t[n])+"</a></"+("N"==n?this.html.defaultTag()||"DIV":n)+"></li>"}return e+="</ul>"},title:"Paragraph Format",callback:function(e,t){this.paragraphFormat.apply(t)},refresh:function(e){this.paragraphFormat.refresh(e)},refreshOnShow:function(e,t){this.paragraphFormat.refreshOnShow(e,t)},plugin:"paragraphFormat"}),e.FE.DefineIcon("paragraphFormat",{NAME:"paragraph"})}(jQuery),function(e){e.FE.PLUGINS.align=function(t){return{apply:function(n){var o=t.selection.element();if(e(o).parents(".fr-img-caption").length)e(o).css("text-align",n);else{t.selection.save(),t.html.wrap(!0,!0,!0,!0),t.selection.restore();for(var r=t.selection.blocks(),i=0;i<r.length;i++)e(r[i]).css("text-align",n).removeClass("fr-temp-div"),""===e(r[i]).attr("class")&&e(r[i]).removeAttr("class"),""===e(r[i]).attr("style")&&e(r[i]).removeAttr("style");t.selection.save(),t.html.unwrap(),t.selection.restore()}},refresh:function(n){var o=t.selection.blocks();if(o.length){var r=t.helpers.getAlignment(e(o[0]));n.find("> *:first").replaceWith(t.icon.create("align-"+r))}},refreshOnShow:function(n,o){var r=t.selection.blocks();if(r.length){var i=t.helpers.getAlignment(e(r[0]));o.find('a.fr-command[data-param1="'+i+'"]').addClass("fr-active").attr("aria-selected",!0)}},refreshForToolbar:function(n){var o=t.selection.blocks();if(o.length){var r=t.helpers.getAlignment(e(o[0]));"align"+(r=r.charAt(0).toUpperCase()+r.slice(1))==n.attr("data-cmd")&&n.addClass("fr-active")}}}},e.FE.DefineIcon("align",{NAME:"align-left"}),e.FE.DefineIcon("align-left",{NAME:"align-left"}),e.FE.DefineIcon("align-right",{NAME:"align-right"}),e.FE.DefineIcon("align-center",{NAME:"align-center"}),e.FE.DefineIcon("align-justify",{NAME:"align-justify"}),e.FE.RegisterCommand("align",{type:"dropdown",title:"Align",options:{left:"Align Left",center:"Align Center",right:"Align Right",justify:"Align Justify"},html:function(){var t='<ul class="fr-dropdown-list" role="presentation">',n=e.FE.COMMANDS.align.options;for(var o in n)n.hasOwnProperty(o)&&(t+='<li role="presentation"><a class="fr-command fr-title" tabIndex="-1" role="option" data-cmd="align" data-param1="'+o+'" title="'+this.language.translate(n[o])+'">'+this.icon.create("align-"+o)+'<span class="fr-sr-only">'+this.language.translate(n[o])+"</span></a></li>");return t+="</ul>"},callback:function(e,t){this.align.apply(t)},refresh:function(e){this.align.refresh(e)},refreshOnShow:function(e,t){this.align.refreshOnShow(e,t)},plugin:"align"}),e.FE.RegisterCommand("alignLeft",{type:"button",icon:"align-left",callback:function(){this.align.apply("left")},refresh:function(e){this.align.refreshForToolbar(e)}}),e.FE.RegisterCommand("alignRight",{type:"button",icon:"align-right",callback:function(){this.align.apply("right")},refresh:function(e){this.align.refreshForToolbar(e)}}),e.FE.RegisterCommand("alignCenter",{type:"button",icon:"align-center",callback:function(){this.align.apply("center")},refresh:function(e){this.align.refreshForToolbar(e)}}),e.FE.RegisterCommand("alignJustify",{type:"button",icon:"align-justify",callback:function(){this.align.apply("justify")},refresh:function(e){this.align.refreshForToolbar(e)}})}(jQuery),function(e){e.extend(e.FE.DEFAULTS,{listAdvancedTypes:!0}),e.FE.PLUGINS.lists=function(t){function n(e){return'<span class="fr-open-'+e.toLowerCase()+'"></span>'}function o(e){return'<span class="fr-close-'+e.toLowerCase()+'"></span>'}function r(n,o){!function(n,o){for(var r=[],i=0;i<n.length;i++){var a=n[i].parentNode;"LI"==n[i].tagName&&a.tagName!=o&&r.indexOf(a)<0&&r.push(a)}for(i=r.length-1;i>=0;i--){var s=e(r[i]);s.replaceWith("<"+o.toLowerCase()+" "+t.node.attributes(s.get(0))+">"+s.html()+"</"+o.toLowerCase()+">")}}(n,o);var r,i=t.html.defaultTag(),a=null;n.length&&(r="rtl"==t.opts.direction||"rtl"==e(n[0]).css("direction")?"margin-right":"margin-left");for(var s=0;s<n.length;s++)if("TD"!=n[s].tagName&&"TH"!=n[s].tagName&&"LI"!=n[s].tagName){var l=t.helpers.getPX(e(n[s]).css(r))||0;n[s].style.marginLeft=null,null===a&&(a=l);var d=a>0?"<"+o+' style="'+r+": "+a+'px;">':"<"+o+">",c="</"+o+">";for(l-=a;l/t.opts.indentMargin>0;)d+="<"+o+">",c+=c,l-=t.opts.indentMargin;i&&n[s].tagName.toLowerCase()==i?e(n[s]).replaceWith(d+"<li"+t.node.attributes(n[s])+">"+e(n[s]).html()+"</li>"+c):e(n[s]).wrap(d+"<li></li>"+c)}t.clean.lists()}function i(r){var i,a;for(i=r.length-1;i>=0;i--)for(a=i-1;a>=0;a--)if(e(r[a]).find(r[i]).length||r[a]==r[i]){r.splice(i,1);break}var s=[];for(i=0;i<r.length;i++){var l=e(r[i]),d=r[i].parentNode,c=l.attr("class");if(l.before(o(d.tagName)),"LI"==d.parentNode.tagName)l.before(o("LI")),l.after(n("LI"));else{var p="";c&&(p+=' class="'+c+'"');var f="rtl"==t.opts.direction||"rtl"==l.css("direction")?"margin-right":"margin-left";t.helpers.getPX(e(d).css(f))&&(e(d).attr("style")||"").indexOf(f+":")>=0&&(p+=' style="'+f+":"+t.helpers.getPX(e(d).css(f))+'px;"'),t.html.defaultTag()&&0===l.find(t.html.blockTagsQuery()).length&&l.wrapInner("<"+t.html.defaultTag()+p+"></"+t.html.defaultTag()+">"),t.node.isEmpty(l.get(0),!0)||0!==l.find(t.html.blockTagsQuery()).length||l.append("<br>"),l.append(n("LI")),l.prepend(o("LI"))}l.after(n(d.tagName)),"LI"==d.parentNode.tagName&&(d=d.parentNode.parentNode),s.indexOf(d)<0&&s.push(d)}for(i=0;i<s.length;i++){var h=e(s[i]),u=h.html();u=(u=u.replace(/<span class="fr-close-([a-z]*)"><\/span>/g,"</$1>")).replace(/<span class="fr-open-([a-z]*)"><\/span>/g,"<$1>"),h.replaceWith(t.node.openTagString(h.get(0))+u+t.node.closeTagString(h.get(0)))}t.$el.find("li:empty").remove(),t.$el.find("ul:empty, ol:empty").remove(),t.clean.lists(),t.html.wrap()}function a(n){t.selection.save();for(var o=0;o<n.length;o++){var r=n[o].previousSibling;if(r){var i=e(n[o]).find("> ul, > ol").last().get(0);if(i){for(var a=e("<li>").prependTo(e(i)),s=t.node.contents(n[o])[0];s&&!t.node.isList(s);){var l=s.nextSibling;a.append(s),s=l}e(r).append(e(i)),e(n[o]).remove()}else{var d=e(r).find("> ul, > ol").last().get(0);if(d)e(d).append(e(n[o]));else{var c=e("<"+n[o].parentNode.tagName+">");e(r).append(c),c.append(e(n[o]))}}}}t.clean.lists(),t.selection.restore()}function s(e){t.selection.save(),i(e),t.selection.restore()}function l(e){if("indent"==e||"outdent"==e){for(var n=!1,o=t.selection.blocks(),r=[],i=0;i<o.length;i++)"LI"==o[i].tagName?(n=!0,r.push(o[i])):"LI"==o[i].parentNode.tagName&&(n=!0,r.push(o[i].parentNode));n&&("indent"==e?a(r):s(r))}}return{_init:function(){t.events.on("commands.after",l),t.events.on("keydown",(function(n){if(n.which==e.FE.KEYCODE.TAB){for(var o=t.selection.blocks(),r=[],i=0;i<o.length;i++)"LI"==o[i].tagName?r.push(o[i]):"LI"==o[i].parentNode.tagName&&r.push(o[i].parentNode);if(r.length>1||r.length&&(t.selection.info(r[0]).atStart||t.node.isEmpty(r[0])))return n.preventDefault(),n.stopPropagation(),n.shiftKey?s(r):a(r),!1}}),!0)},format:function(n,o){var a,s;for(t.selection.save(),t.html.wrap(!0,!0,!0,!0),t.selection.restore(),s=t.selection.blocks(),a=0;a<s.length;a++)"LI"!=s[a].tagName&&"LI"==s[a].parentNode.tagName&&(s[a]=s[a].parentNode);if(t.selection.save(),!function(e,t){for(var n=!0,o=0;o<e.length;o++){if("LI"!=e[o].tagName)return!1;e[o].parentNode.tagName!=t&&(n=!1)}return n}(s,n)?r(s,n):o||i(s),t.html.unwrap(),t.selection.restore(),o=o||"default"){for(s=t.selection.blocks(),a=0;a<s.length;a++)"LI"!=s[a].tagName&&"LI"==s[a].parentNode.tagName&&(s[a]=s[a].parentNode);for(a=0;a<s.length;a++)"LI"==s[a].tagName&&(e(s[a].parentNode).css("list-style-type","default"===o?"":o),0===(e(s[a].parentNode).attr("style")||"").length&&e(s[a].parentNode).removeAttr("style"))}},refresh:function(n,o){var r=e(t.selection.element());if(r.get(0)!=t.el){var i=r.get(0);(i="LI"!=i.tagName&&i.firstElementChild&&"LI"!=i.firstElementChild.tagName?r.parents("li").get(0):"LI"==i.tagName||i.firstElementChild?i.firstElementChild&&"LI"==i.firstElementChild.tagName?r.get(0).firstChild:r.get(0):r.parents("li").get(0))&&i.parentNode.tagName==o&&t.el.contains(i.parentNode)&&n.addClass("fr-active")}}}},e.FE.RegisterCommand("formatUL",{title:"Unordered List",type:"button",hasOptions:function(){return this.opts.listAdvancedTypes},options:{default:"Default",circle:"Circle",disc:"Disc",square:"Square"},refresh:function(e){this.lists.refresh(e,"UL")},callback:function(e,t){this.lists.format("UL",t)},plugin:"lists"}),e.FE.RegisterCommand("formatOL",{title:"Ordered List",hasOptions:function(){return this.opts.listAdvancedTypes},options:{default:"Default","lower-alpha":"Lower Alpha","lower-greek":"Lower Greek","lower-roman":"Lower Roman","upper-alpha":"Upper Alpha","upper-roman":"Upper Roman"},refresh:function(e){this.lists.refresh(e,"OL")},callback:function(e,t){this.lists.format("OL",t)},plugin:"lists"}),e.FE.DefineIcon("formatUL",{NAME:"list-ul"}),e.FE.DefineIcon("formatOL",{NAME:"list-ol"})}(jQuery),function(e){e.extend(e.FE.POPUP_TEMPLATES,{"file.insert":"[_BUTTONS_][_UPLOAD_LAYER_][_BY_URL_LAYER_][_PROGRESS_BAR_]"}),e.extend(e.FE.DEFAULTS,{fileUploadURL:"http://i.froala.com/upload",fileUploadParam:"file",fileUploadParams:{},fileUploadToS3:!1,fileUploadMethod:"POST",fileMaxSize:10485760,fileAllowedTypes:["*"],fileInsertButtons:["fileBack","|","fileUpload","fileByURL"],fileUseSelectedText:!1}),e.FE.PLUGINS.file=function(t){var n,o={};function r(){var e=t.popups.get("file.insert");e||(e=g()),e.find(".fr-layer.fr-active").removeClass("fr-active").addClass("fr-pactive"),e.find(".fr-file-progress-bar-layer").addClass("fr-active"),e.find(".fr-buttons").hide(),a("Uploading",0)}function i(e){var n=t.popups.get("file.insert");n&&(n.find(".fr-layer.fr-pactive").addClass("fr-active").removeClass("fr-pactive"),n.find(".fr-file-progress-bar-layer").removeClass("fr-active"),n.find(".fr-buttons").show(),e&&(t.events.focus(),t.popups.hide("file.insert")))}function a(e,n){var o=t.popups.get("file.insert");if(o){var r=o.find(".fr-file-progress-bar-layer");r.find("h3").text(e+(n?" "+n+"%":"")),r.removeClass("fr-error"),n?(r.find("div").removeClass("fr-indeterminate"),r.find("div > span").css("width",n+"%")):r.find("div").addClass("fr-indeterminate")}}function s(e,n,o){t.edit.on(),t.events.focus(!0),t.selection.restore(),t.opts.fileUseSelectedText&&t.selection.text().length&&(n=t.selection.text()),t.html.insert('<a href="'+e+'" id="fr-inserted-file" class="fr-file">'+n+"</a>");var r=t.$el.find("#fr-inserted-file");r.removeAttr("id"),t.popups.hide("file.insert"),t.undo.saveStep(),b(),t.events.trigger("file.inserted",[r,o])}function l(n){var o=this.status,r=this.response,i=this.responseXML,a=this.responseText;try{if(t.opts.fileUploadToS3)if(201==o){var l=function(n){try{var o=e(n).find("Location").text(),r=e(n).find("Key").text();return!1===t.events.trigger("file.uploadedToS3",[o,r,n],!0)?(t.edit.on(),!1):o}catch(e){return p(4,n),!1}}(i);l&&s(l,n,r||i)}else p(4,r||i);else if(o>=200&&o<300){var d=function(n){try{if(!1===t.events.trigger("file.uploaded",[n],!0))return t.edit.on(),!1;var o=e.parseJSON(n);return o.link?o:(p(2,n),!1)}catch(e){return p(4,n),!1}}(a);d&&s(d.link,n,r||a)}else p(3,r||a)}catch(e){p(4,r||a)}}function d(){p(4,this.response||this.responseText||this.responseXML)}function c(e){e.lengthComputable&&a("Uploading",e.loaded/e.total*100|0)}function p(e,n){t.edit.on(),function(e){r();var n=t.popups.get("file.insert").find(".fr-file-progress-bar-layer");n.addClass("fr-error");var o=n.find("h3");o.text(e),t.events.disableBlur(),o.focus()}(t.language.translate("Something went wrong. Please try again.")),t.events.trigger("file.error",[{code:e,message:o[e]},n])}function f(){t.edit.on(),i(!0)}function h(e){if(void 0!==e&&e.length>0){if(!1===t.events.trigger("file.beforeUpload",[e]))return!1;var n,o=e[0];if(o.size>t.opts.fileMaxSize)return p(5),!1;if(t.opts.fileAllowedTypes.indexOf("*")<0&&t.opts.fileAllowedTypes.indexOf(o.type.replace(/file\//g,""))<0)return p(6),!1;if(t.drag_support.formdata&&(n=t.drag_support.formdata?new FormData:null),n){var i;if(!1!==t.opts.fileUploadToS3)for(i in n.append("key",t.opts.fileUploadToS3.keyStart+(new Date).getTime()+"-"+(o.name||"untitled")),n.append("success_action_status","201"),n.append("X-Requested-With","xhr"),n.append("Content-Type",o.type),t.opts.fileUploadToS3.params)t.opts.fileUploadToS3.params.hasOwnProperty(i)&&n.append(i,t.opts.fileUploadToS3.params[i]);for(i in t.opts.fileUploadParams)t.opts.fileUploadParams.hasOwnProperty(i)&&n.append(i,t.opts.fileUploadParams[i]);n.append(t.opts.fileUploadParam,o);var a=t.opts.fileUploadURL;t.opts.fileUploadToS3&&(a=t.opts.fileUploadToS3.uploadURL?t.opts.fileUploadToS3.uploadURL:"https://"+t.opts.fileUploadToS3.region+".amazonaws.com/"+t.opts.fileUploadToS3.bucket);var s=t.core.getXHR(a,t.opts.fileUploadMethod);s.onload=function(){l.call(s,o.name)},s.onerror=d,s.upload.onprogress=c,s.onabort=f,r(),t.edit.off();var h=t.popups.get("file.insert");h&&h.off("abortUpload").on("abortUpload",(function(){4!=s.readyState&&s.abort()})),s.send(n)}}}function u(){i()}function g(n){if(n)return t.popups.onHide("file.insert",u),!0;var o,r="";t.opts.fileInsertButtons.length>1&&(r='<div class="fr-buttons">'+t.button.buildList(t.opts.fileInsertButtons)+"</div>");var i=t.opts.fileInsertButtons.indexOf("fileUpload"),a=t.opts.fileInsertButtons.indexOf("fileByURL"),s="";i>=0&&(o=" fr-active",a>=0&&i>a&&(o=""),s='<div class="fr-file-upload-layer'+o+' fr-layer fr-active" id="fr-file-upload-layer-'+t.id+'"><strong>'+t.language.translate("Drop file")+"</strong><br>("+t.language.translate("or click")+')<div class="fr-form"><input type="file" name="'+t.opts.fileUploadParam+'" accept="/*" tabIndex="-1" aria-labelledby="fr-file-upload-layer-'+t.id+'" role="button"></div></div>');var l="";a>=0&&(o=" fr-active",i>=0&&a>i&&(o=""),l='<div class="fr-file-by-url-layer'+o+' fr-layer" id="fr-file-by-url-layer-'+t.id+'"><div class="fr-input-line"><input type="text" placeholder="http://" tabIndex="1"></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-submit" data-cmd="fileInsertByURL" tabIndex="2">'+t.language.translate("Insert")+"</button></div></div>");var d={buttons:r,upload_layer:s,by_url_layer:l,progress_bar:'<div class="fr-file-progress-bar-layer fr-layer"><h3 tabIndex="-1" class="fr-message">Uploading</h3><div class="fr-loader"><span class="fr-progress"></span></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-dismiss" data-cmd="fileDismissError" tabIndex="2" role="button">OK</button></div></div>'},c=t.popups.create("file.insert",d);return function(n){t.events.$on(n,"dragover dragenter",".fr-file-upload-layer",(function(){return e(this).addClass("fr-drop"),!1}),!0),t.events.$on(n,"dragleave dragend",".fr-file-upload-layer",(function(){return e(this).removeClass("fr-drop"),!1}),!0),t.events.$on(n,"drop",".fr-file-upload-layer",(function(o){o.preventDefault(),o.stopPropagation(),e(this).removeClass("fr-drop");var r=o.originalEvent.dataTransfer;r&&r.files&&(n.data("instance")||t).file.upload(r.files)}),!0),t.events.$on(n,"change",'.fr-file-upload-layer input[type="file"]',(function(){this.files&&(n.data("instance")||t).file.upload(this.files),e(this).val("")}),!0)}(c),c}function m(e){if(t.node.hasClass(e,"fr-file"))return t.events.trigger("file.unlink",[e])}function v(n){var o=n.originalEvent.dataTransfer;if(o&&o.files&&o.files.length){var i=o.files[0];if(i&&void 0!==i.type&&i.type.indexOf("image")<0&&(t.opts.fileAllowedTypes.indexOf(i.type)>=0||t.opts.fileAllowedTypes.indexOf("*")>=0)){t.markers.remove(),t.markers.insertAtPoint(n.originalEvent),t.$el.find(".fr-marker").replaceWith(e.FE.MARKERS),t.popups.hideAll();var a=t.popups.get("file.insert");return a||(a=g()),t.popups.setContainer("file.insert",t.$sc),t.popups.show("file.insert",n.originalEvent.pageX,n.originalEvent.pageY),r(),h(o.files),n.preventDefault(),n.stopPropagation(),!1}}}function b(){var e,o=Array.prototype.slice.call(t.el.querySelectorAll("a.fr-file")),r=[];for(e=0;e<o.length;e++)r.push(o[e].getAttribute("href"));if(n)for(e=0;e<n.length;e++)r.indexOf(n[e].getAttribute("href"))<0&&t.events.trigger("file.unlink",[n[e]]);n=o}return o[1]="File cannot be loaded from the passed link.",o[2]="No link in upload response.",o[3]="Error during file upload.",o[4]="Parsing response failed.",o[5]="File is too large.",o[6]="File file type is invalid.",o[7]="Files can be uploaded only to same domain in IE 8 and IE 9.",{_init:function(){t.events.on("drop",v),t.events.$on(t.$win,"keydown",(function(n){var o=n.which,r=t.popups.get("file.insert");r&&o==e.FE.KEYCODE.ESC&&r.trigger("abortUpload")})),t.events.on("destroy",(function(){var e=t.popups.get("file.insert");e&&e.trigger("abortUpload")})),t.events.on("link.beforeRemove",m),t.$wp&&(b(),t.events.on("contentChanged",b)),g(!0)},showInsertPopup:function(){var e=t.$tb.find('.fr-command[data-cmd="insertFile"]'),n=t.popups.get("file.insert");if(n||(n=g()),i(),!n.hasClass("fr-active")){t.popups.refresh("file.insert"),t.popups.setContainer("file.insert",t.$tb);var o=e.offset().left+e.outerWidth()/2,r=e.offset().top+(t.opts.toolbarBottom?10:e.outerHeight()-10);t.popups.show("file.insert",o,r,e.outerHeight())}},showLayer:function(e){var n,o,r=t.popups.get("file.insert");if(t.opts.toolbarInline)o=r.offset().top-t.helpers.getPX(r.css("margin-top")),r.hasClass("fr-above")&&(o+=r.outerHeight());else{var i=t.$tb.find('.fr-command[data-cmd="insertFile"]');n=i.offset().left+i.outerWidth()/2,o=i.offset().top+(t.opts.toolbarBottom?10:i.outerHeight()-10)}r.find(".fr-layer").removeClass("fr-active"),r.find(".fr-"+e+"-layer").addClass("fr-active"),t.popups.show("file.insert",n,o,0)},refreshUploadButton:function(e){t.popups.get("file.insert").find(".fr-file-upload-layer").hasClass("fr-active")&&e.addClass("fr-active")},refreshByURLButton:function(e){t.popups.get("file.insert").find(".fr-file-by-url-layer").hasClass("fr-active")&&e.addClass("fr-active")},insertByURL:function(){var e=t.popups.get("file.insert").find(".fr-file-by-url-layer input"),n=e.val();if(n.length>0){var o=n.substring(n.lastIndexOf("/")+1);s(t.helpers.sanitizeURL(e.val()),o,[]),e.val(""),e.blur()}},upload:h,insert:s,back:function(){t.events.disableBlur(),t.selection.restore(),t.events.enableBlur(),t.popups.hide("file.insert"),t.toolbar.showInline()},hideProgressBar:i}},e.FE.DefineIcon("insertFile",{NAME:"file-o"}),e.FE.RegisterCommand("insertFile",{title:"Insert File",undo:!1,focus:!0,refreshAfterCallback:!1,popup:!0,callback:function(){this.popups.isVisible("file.insert")?(this.$el.find(".fr-marker").length&&(this.events.disableBlur(),this.selection.restore()),this.popups.hide("file.insert")):this.file.showInsertPopup()},plugin:"file"}),e.FE.DefineIcon("fileUpload",{NAME:"upload"}),e.FE.RegisterCommand("fileUpload",{title:"Upload File",undo:!1,focus:!1,callback:function(){this.file.showLayer("file-upload")},refresh:function(e){this.file.refreshUploadButton(e)}}),e.FE.DefineIcon("fileByURL",{NAME:"link"}),e.FE.RegisterCommand("fileByURL",{title:"By URL",undo:!1,focus:!1,callback:function(){this.file.showLayer("file-by-url")},refresh:function(e){this.file.refreshByURLButton(e)}}),e.FE.RegisterCommand("fileInsertByURL",{title:"Insert File",undo:!0,refreshAfterCallback:!1,callback:function(){this.file.insertByURL()},refresh:function(e){e.text(this.language.translate("Insert"))}}),e.FE.DefineIcon("fileBack",{NAME:"arrow-left"}),e.FE.RegisterCommand("fileBack",{title:"Back",undo:!1,focus:!1,back:!0,refreshAfterCallback:!1,callback:function(){this.file.back()},refresh:function(e){this.opts.toolbarInline?(e.removeClass("fr-hidden"),e.next(".fr-separator").removeClass("fr-hidden")):(e.addClass("fr-hidden"),e.next(".fr-separator").addClass("fr-hidden"))}}),e.FE.RegisterCommand("fileDismissError",{title:"OK",callback:function(){this.file.hideProgressBar(!0)}})}(jQuery),function(e){e.extend(e.FE.POPUP_TEMPLATES,{"image.insert":"[_BUTTONS_][_UPLOAD_LAYER_][_BY_URL_LAYER_][_PROGRESS_BAR_]","image.edit":"[_BUTTONS_]","image.alt":"[_BUTTONS_][_ALT_LAYER_]","image.size":"[_BUTTONS_][_SIZE_LAYER_]"}),e.extend(e.FE.DEFAULTS,{imageInsertButtons:["imageBack","|","imageUpload","imageByURL"],imageEditButtons:["imageReplace","imageAlign","imageCaption","imageRemove","|","imageLink","linkOpen","linkEdit","linkRemove","-","imageDisplay","imageStyle","imageAlt","imageSize"],imageAltButtons:["imageBack","|"],imageSizeButtons:["imageBack","|"],imageUpload:!0,imageUploadURL:null,imageUploadRemoteUrls:!0,imageUploadParam:"file",imageUploadParams:{},imageUploadToS3:!1,imageUploadMethod:"POST",imageMaxSize:10485760,imageAllowedTypes:["jpeg","jpg","png","gif","webp"],imageResize:!0,imageResizeWithPercent:!1,imageRoundPercent:!1,imageDefaultWidth:300,imageDefaultAlign:"center",imageDefaultDisplay:"block",imageSplitHTML:!1,imageStyles:{"fr-rounded":"Rounded","fr-bordered":"Bordered","fr-shadow":"Shadow"},imageMove:!0,imageMultipleStyles:!0,imageTextNear:!0,imagePaste:!0,imagePasteProcess:!1,imageMinWidth:16,imageOutputSize:!1,imageDefaultMargin:5,imageAddNewLine:!1}),e.FE.PLUGINS.image=function(t){var n,o,r,i,a,s,l=!1,d={};function c(){var e=t.popups.get("image.insert").find(".fr-image-by-url-layer input");e.val(""),n&&e.val(n.attr("src")),e.trigger("change")}function p(){var e=t.popups.get("image.edit");if(e||(e=_()),e){var o=fe();he()&&(o=o.find(".fr-img-wrap")),t.popups.setContainer("image.edit",t.$sc),t.popups.refresh("image.edit"),n.hasClass("fr-uploading")?T():t.popups.showEl("image.edit",o)}}function f(){k()}function h(e){e.parents(".fr-img-caption").length>0&&(e=e.parents(".fr-img-caption:first")),e.hasClass("fr-dii")||e.hasClass("fr-dib")||(e.addClass("fr-fi"+se(e)[0]),e.addClass("fr-di"+le(e)[0]),e.css("margin",""),e.css("float",""),e.css("display",""),e.css("z-index",""),e.css("position",""),e.css("overflow",""),e.css("vertical-align",""))}function u(e){e.parents(".fr-img-caption").length>0&&(e=e.parents(".fr-img-caption:first"));var t=e.hasClass("fr-dib")?"block":e.hasClass("fr-dii")?"inline":null,n=e.hasClass("fr-fil")?"left":e.hasClass("fr-fir")?"right":se(e);ae(e,t,n),e.removeClass("fr-dib fr-dii fr-fir fr-fil")}function g(){for(var n="IMG"==t.el.tagName?[t.el]:t.el.querySelectorAll("img"),o=0;o<n.length;o++){var r=e(n[o]);!t.opts.htmlUntouched&&t.opts.useClasses?((t.opts.imageDefaultAlign||t.opts.imageDefaultDisplay)&&h(r),t.opts.imageTextNear||(r.parents(".fr-img-caption").length>0?r.parents(".fr-img-caption:first").removeClass("fr-dii").addClass("fr-dib"):r.removeClass("fr-dii").addClass("fr-dib"))):t.opts.htmlUntouched||t.opts.useClasses||(t.opts.imageDefaultAlign||t.opts.imageDefaultDisplay)&&u(r),t.opts.iframe&&r.on("load",t.size.syncIframe)}}function m(n){void 0===n&&(n=!0);var o,r=Array.prototype.slice.call(t.el.querySelectorAll("img")),i=[];for(o=0;o<r.length;o++)if(i.push(r[o].getAttribute("src")),e(r[o]).toggleClass("fr-draggable",t.opts.imageMove),""===r[o].getAttribute("class")&&r[o].removeAttribute("class"),""===r[o].getAttribute("style")&&r[o].removeAttribute("style"),r[o].parentNode&&r[o].parentNode.parentNode&&t.node.hasClass(r[o].parentNode.parentNode,"fr-img-caption")){var s=r[o].parentNode.parentNode;t.browser.mozilla||s.setAttribute("contenteditable",!1),s.setAttribute("draggable",!1),s.classList.add("fr-draggable");var l=r[o].nextSibling;l&&!t.browser.mozilla&&l.setAttribute("contenteditable",!0)}if(a)for(o=0;o<a.length;o++)i.indexOf(a[o].getAttribute("src"))<0&&t.events.trigger("image.removed",[e(a[o])]);if(a&&n){var d=[];for(o=0;o<a.length;o++)d.push(a[o].getAttribute("src"));for(o=0;o<r.length;o++)d.indexOf(r[o].getAttribute("src"))<0&&t.events.trigger("image.loaded",[e(r[o])])}a=r}function v(){if(o||function(){var r;t.shared.$image_resizer?(o=t.shared.$image_resizer,i=t.shared.$img_overlay,t.events.on("destroy",(function(){o.removeClass("fr-active").appendTo(e("body:first"))}),!0)):(t.shared.$image_resizer=e('<div class="fr-image-resizer"></div>'),o=t.shared.$image_resizer,t.events.$on(o,"mousedown",(function(e){e.stopPropagation()}),!0),t.opts.imageResize&&(o.append(b("nw")+b("ne")+b("sw")+b("se")),t.shared.$img_overlay=e('<div class="fr-image-overlay"></div>'),i=t.shared.$img_overlay,r=o.get(0).ownerDocument,e(r).find("body:first").append(i)));t.events.on("shared.destroy",(function(){o.html("").removeData().remove(),o=null,t.opts.imageResize&&(i.remove(),i=null)}),!0),t.helpers.isMobile()||t.events.$on(e(t.o_win),"resize",(function(){n&&!n.hasClass("fr-uploading")?ne(!0):n&&(v(),de(),T(!1))}));if(t.opts.imageResize){r=o.get(0).ownerDocument,t.events.$on(o,t._mousedown,".fr-handler",y),t.events.$on(e(r),t._mousemove,w),t.events.$on(e(r.defaultView||r.parentWindow),t._mouseup,S),t.events.$on(i,"mouseleave",S);var a=1,s=null,l=0;t.events.on("keydown",(function(o){if(n){var r=-1!=navigator.userAgent.indexOf("Mac OS X")?o.metaKey:o.ctrlKey,i=o.which;(i!==s||o.timeStamp-l>200)&&(a=1),(i==e.FE.KEYCODE.EQUALS||t.browser.mozilla&&i==e.FE.KEYCODE.FF_EQUALS)&&r&&!o.altKey?a=Y.call(this,o,1,1,a):(i==e.FE.KEYCODE.HYPHEN||t.browser.mozilla&&i==e.FE.KEYCODE.FF_HYPHEN)&&r&&!o.altKey?a=Y.call(this,o,2,-1,a):t.keys.ctrlKey(o)||i!=e.FE.KEYCODE.ENTER||(n.before("<br>"),x(n)),s=i,l=o.timeStamp}}),!0),t.events.on("keyup",(function(){a=1}))}}(),!n)return!1;var r=t.$wp||t.$sc;r.append(o),o.data("instance",t);var a=r.scrollTop()-("static"!=r.css("position")?r.offset().top:0),s=r.scrollLeft()-("static"!=r.css("position")?r.offset().left:0);s-=t.helpers.getPX(r.css("border-left-width")),a-=t.helpers.getPX(r.css("border-top-width")),t.$el.is("img")&&t.$sc.is("body")&&(a=0,s=0);var l=fe();he()&&(l=l.find(".fr-img-wrap")),o.css("top",(t.opts.iframe?l.offset().top:l.offset().top+a)-1).css("left",(t.opts.iframe?l.offset().left:l.offset().left+s)-1).css("width",l.get(0).getBoundingClientRect().width).css("height",l.get(0).getBoundingClientRect().height).addClass("fr-active")}function b(e){return'<div class="fr-handler fr-h'+e+'"></div>'}function E(e){he()?n.parents(".fr-img-caption").css("width",e):n.css("width",e)}function y(a){if(!t.core.sameInstance(o))return!0;if(a.preventDefault(),a.stopPropagation(),t.$el.find("img.fr-error").left)return!1;t.undo.canDo()||t.undo.saveStep();var s=a.pageX||a.originalEvent.touches[0].pageX;if("mousedown"==a.type){var l=t.$oel.get(0).ownerDocument,d=l.defaultView||l.parentWindow,c=!1;try{c=d.location!=d.parent.location&&!(d.$&&d.$.FE)}catch(e){}c&&d.frameElement&&(s+=t.helpers.getPX(e(d.frameElement).offset().left)+d.frameElement.clientLeft)}(r=e(this)).data("start-x",s),r.data("start-width",n.width()),r.data("start-height",n.height());var p=n.width();if(t.opts.imageResizeWithPercent){var f=n.parentsUntil(t.$el,t.html.blockTagsQuery()).get(0)||t.el;p=(p/e(f).outerWidth()*100).toFixed(2)+"%"}E(p),i.show(),t.popups.hideAll(),ie()}function w(i){if(!t.core.sameInstance(o))return!0;var a;if(r&&n){if(i.preventDefault(),t.$el.find("img.fr-error").left)return!1;var s=i.pageX||(i.originalEvent.touches?i.originalEvent.touches[0].pageX:null);if(!s)return!1;var l=s-r.data("start-x"),d=r.data("start-width");if((r.hasClass("fr-hnw")||r.hasClass("fr-hsw"))&&(l=0-l),t.opts.imageResizeWithPercent){var c=n.parentsUntil(t.$el,t.html.blockTagsQuery()).get(0)||t.el;d=((d+l)/e(c).outerWidth()*100).toFixed(2),t.opts.imageRoundPercent&&(d=Math.round(d)),E(d+"%"),(a=he()?(t.helpers.getPX(n.parents(".fr-img-caption").css("width"))/e(c).outerWidth()*100).toFixed(2):(t.helpers.getPX(n.css("width"))/e(c).outerWidth()*100).toFixed(2))===d||t.opts.imageRoundPercent||E(a+"%"),n.css("height","").removeAttr("height")}else d+l>=t.opts.imageMinWidth&&(E(d+l),a=he()?t.helpers.getPX(n.parents(".fr-img-caption").css("width")):t.helpers.getPX(n.css("width"))),a!==d+l&&E(a),((n.attr("style")||"").match(/(^height:)|(; *height:)/)||n.attr("height"))&&(n.css("height",r.data("start-height")*n.width()/r.data("start-width")),n.removeAttr("height"));v(),t.events.trigger("image.resize",[pe()])}}function S(e){if(!t.core.sameInstance(o))return!0;if(r&&n){if(e&&e.stopPropagation(),t.$el.find("img.fr-error").left)return!1;r=null,i.hide(),v(),p(),t.undo.saveStep(),t.events.trigger("image.resizeEnd",[pe()])}}function C(e,o,r){t.edit.on(),n&&n.addClass("fr-error"),function(e){T();var n=t.popups.get("image.insert").find(".fr-image-progress-bar-layer");n.addClass("fr-error");var o=n.find("h3");o.text(e),t.events.disableBlur(),o.focus()}(t.language.translate("Something went wrong. Please try again.")),!n&&r&&q(r),t.events.trigger("image.error",[{code:e,message:d[e]},o,r])}function _(e){if(e)return t.$wp&&t.events.$on(t.$wp,"scroll.image-edit",(function(){n&&t.popups.isVisible("image.edit")&&(t.events.disableBlur(),p())})),!0;var o="";if(t.opts.imageEditButtons.length>0){o+='<div class="fr-buttons">',o+=t.button.buildList(t.opts.imageEditButtons);var r={buttons:o+="</div>"};return t.popups.create("image.edit",r)}return!1}function T(e){var o=t.popups.get("image.insert");if(o||(o=P()),o.find(".fr-layer.fr-active").removeClass("fr-active").addClass("fr-pactive"),o.find(".fr-image-progress-bar-layer").addClass("fr-active"),o.find(".fr-buttons").hide(),n){var r=fe();t.popups.setContainer("image.insert",t.$sc),t.popups.showEl("image.insert",r)}void 0===e&&A(t.language.translate("Uploading"),0)}function k(e){var o=t.popups.get("image.insert");if(o&&(o.find(".fr-layer.fr-pactive").addClass("fr-active").removeClass("fr-pactive"),o.find(".fr-image-progress-bar-layer").removeClass("fr-active"),o.find(".fr-buttons").show(),e||t.$el.find("img.fr-error").length)){if(t.events.focus(),t.$el.find("img.fr-error").length&&(t.$el.find("img.fr-error").remove(),t.undo.saveStep(),t.undo.run(),t.undo.dropRedo()),!t.$wp&&n){var r=n;ne(!0),t.selection.setAfter(r.get(0)),t.selection.restore()}t.popups.hide("image.insert")}}function A(e,n){var o=t.popups.get("image.insert");if(o){var r=o.find(".fr-image-progress-bar-layer");r.find("h3").text(e+(n?" "+n+"%":"")),r.removeClass("fr-error"),n?(r.find("div").removeClass("fr-indeterminate"),r.find("div > span").css("width",n+"%")):r.find("div").addClass("fr-indeterminate")}}function x(e){te.call(e.get(0))}function N(){var n=e(this);t.popups.hide("image.insert"),n.removeClass("fr-uploading"),n.next().is("br")&&n.next().remove(),x(n),t.events.trigger("image.loaded",[n])}function R(e,n,o,r,i){t.edit.off(),A(t.language.translate("Loading image")),n&&(e=t.helpers.sanitizeURL(e));var a=new Image;a.onload=function(){var n,a;if(r){t.undo.canDo()||r.hasClass("fr-uploading")||t.undo.saveStep();var s=r.data("fr-old-src");r.data("fr-image-pasted")&&(s=null),t.$wp?((n=r.clone().removeData("fr-old-src").removeClass("fr-uploading").removeAttr("data-fr-image-pasted")).off("load"),s&&r.attr("src",s),r.replaceWith(n)):n=r;for(var l=n.get(0).attributes,d=0;d<l.length;d++){var c=l[d];0===c.nodeName.indexOf("data-")&&n.removeAttr(c.nodeName)}if(void 0!==o)for(a in o)o.hasOwnProperty(a)&&"link"!=a&&n.attr("data-"+a,o[a]);n.on("load",N),n.attr("src",e),t.edit.on(),m(!1),t.undo.saveStep(),t.events.disableBlur(),t.$el.blur(),t.events.trigger(s?"image.replaced":"image.inserted",[n,i])}else n=$(e,o,N),m(!1),t.undo.saveStep(),t.events.disableBlur(),t.$el.blur(),t.events.trigger("image.inserted",[n,i])},a.onerror=function(){C(1)},T(t.language.translate("Loading image")),a.src=e}function F(n){A(t.language.translate("Loading image"));var o=this.status,r=this.response,i=this.responseXML,a=this.responseText;try{if(t.opts.imageUploadToS3)if(201==o){var s=function(n){try{var o=e(n).find("Location").text(),r=e(n).find("Key").text();return!1===t.events.trigger("image.uploadedToS3",[o,r,n],!0)?(t.edit.on(),!1):o}catch(e){return C(4,n),!1}}(i);s&&R(s,!1,[],n,r||i)}else C(4,r||i,n);else if(o>=200&&o<300){var l=function(e){try{if(!1===t.events.trigger("image.uploaded",[e],!0))return t.edit.on(),!1;var n=JSON.parse(e);return n.link?n:(C(2,e),!1)}catch(t){return C(4,e),!1}}(a);l&&R(l.link,!1,l,n,r||a)}else C(3,r||a,n)}catch(e){C(4,r||a,n)}}function O(){C(4,this.response||this.responseText||this.responseXML)}function D(e){if(e.lengthComputable){var n=e.loaded/e.total*100|0;A(t.language.translate("Uploading"),n)}}function $(n,o,r){var i,a="";if(o&&void 0!==o)for(i in o)o.hasOwnProperty(i)&&"link"!=i&&(a+=" data-"+i+'="'+o[i]+'"');var s=t.opts.imageDefaultWidth;s&&"auto"!=s&&(s+=t.opts.imageResizeWithPercent?"%":"px");var l=e('<img src="'+n+'"'+a+(s?' style="width: '+s+';"':"")+">");ae(l,t.opts.imageDefaultDisplay,t.opts.imageDefaultAlign),l.on("load",r),l.on("error",r),t.edit.on(),t.events.focus(!0),t.selection.restore(),t.undo.saveStep(),t.opts.imageSplitHTML?t.markers.split():t.markers.insert(),t.html.wrap();var d=t.$el.find(".fr-marker");return d.length?(d.parent().is("hr")&&d.parent().after(d),t.node.isLastSibling(d)&&d.parent().hasClass("fr-deletable")&&d.insertAfter(d.parent()),d.replaceWith(l)):t.$el.append(l),t.selection.clear(),l}function L(){t.edit.on(),k(!0)}function M(o,r){if(void 0!==o&&o.length>0){if(!1===t.events.trigger("image.beforeUpload",[o,r]))return!1;var i,a=o[0];if((null===t.opts.imageUploadURL||"https://i.froala.com/upload"==t.opts.imageUploadURL)&&!t.opts.imageUploadToS3)return function(e,n){var o=new FileReader;o.onload=function(){var r=o.result;if(o.result.indexOf("svg+xml")<0){for(var i=atob(o.result.split(",")[1]),a=[],s=0;s<i.length;s++)a.push(i.charCodeAt(s));r=window.URL.createObjectURL(new Blob([new Uint8Array(a)],{type:e.type})),t.image.insert(r,!1,null,n)}},T(),o.readAsDataURL(e)}(a,r||n),!1;if(a.name||(a.name=(new Date).getTime()+"."+(a.type||"image/jpeg").replace(/image\//g,"")),a.size>t.opts.imageMaxSize)return C(5),!1;if(t.opts.imageAllowedTypes.indexOf(a.type.replace(/image\//g,""))<0)return C(6),!1;if(t.drag_support.formdata&&(i=t.drag_support.formdata?new FormData:null),i){var s;if(!1!==t.opts.imageUploadToS3)for(s in i.append("key",t.opts.imageUploadToS3.keyStart+(new Date).getTime()+"-"+(a.name||"untitled")),i.append("success_action_status","201"),i.append("X-Requested-With","xhr"),i.append("Content-Type",a.type),t.opts.imageUploadToS3.params)t.opts.imageUploadToS3.params.hasOwnProperty(s)&&i.append(s,t.opts.imageUploadToS3.params[s]);for(s in t.opts.imageUploadParams)t.opts.imageUploadParams.hasOwnProperty(s)&&i.append(s,t.opts.imageUploadParams[s]);i.append(t.opts.imageUploadParam,a,a.name);var l=t.opts.imageUploadURL;t.opts.imageUploadToS3&&(l=t.opts.imageUploadToS3.uploadURL?t.opts.imageUploadToS3.uploadURL:"https://"+t.opts.imageUploadToS3.region+".amazonaws.com/"+t.opts.imageUploadToS3.bucket),function(n,o,r,i){function a(){var r=e(this);r.off("load"),r.addClass("fr-uploading"),r.next().is("br")&&r.next().remove(),t.placeholder.refresh(),x(r),v(),T(),t.edit.off(),n.onload=function(){F.call(n,r)},n.onerror=O,n.upload.onprogress=D,n.onabort=L,r.off("abortUpload").on("abortUpload",(function(){4!=n.readyState&&n.abort()})),n.send(o)}var s=new FileReader;s.onload=function(){var e=s.result;if(s.result.indexOf("svg+xml")<0){for(var n=atob(s.result.split(",")[1]),o=[],r=0;r<n.length;r++)o.push(n.charCodeAt(r));e=window.URL.createObjectURL(new Blob([new Uint8Array(o)],{type:"image/jpeg"}))}i?(i.on("load",a),i.one("error",a),t.edit.on(),t.undo.saveStep(),i.data("fr-old-src",i.attr("src")),i.attr("src",e)):$(e,null,a)},s.readAsDataURL(r)}(t.core.getXHR(l,t.opts.imageUploadMethod),i,a,r||n)}}}function I(e){if(e.is("img")&&e.parents(".fr-img-caption").length>0)return e.parents(".fr-img-caption")}function B(n){var o=n.originalEvent.dataTransfer;if(o&&o.files&&o.files.length){var r=o.files[0];if(r&&r.type&&-1!==r.type.indexOf("image")&&t.opts.imageAllowedTypes.indexOf(r.type.replace(/image\//g,""))>=0){if(!t.opts.imageUpload)return n.preventDefault(),n.stopPropagation(),!1;t.markers.remove(),t.markers.insertAtPoint(n.originalEvent),t.$el.find(".fr-marker").replaceWith(e.FE.MARKERS),0===t.$el.find(".fr-marker").length&&t.selection.setAtEnd(t.el),t.popups.hideAll();var i=t.popups.get("image.insert");i||(i=P()),t.popups.setContainer("image.insert",t.$sc);var a=n.originalEvent.pageX,s=n.originalEvent.pageY;return t.opts.iframe&&(s+=t.$iframe.offset().top,a+=t.$iframe.offset().left),t.popups.show("image.insert",a,s),T(),t.opts.imageAllowedTypes.indexOf(r.type.replace(/image\//g,""))>=0?(ne(!0),M(o.files)):C(6),n.preventDefault(),n.stopPropagation(),!1}}}function P(o){if(o)return t.popups.onRefresh("image.insert",c),t.popups.onHide("image.insert",f),!0;var r,i,a="";t.opts.imageUpload||-1===t.opts.imageInsertButtons.indexOf("imageUpload")||t.opts.imageInsertButtons.splice(t.opts.imageInsertButtons.indexOf("imageUpload"),1);var s=t.button.buildList(t.opts.imageInsertButtons);""!==s&&(a='<div class="fr-buttons">'+s+"</div>");var l=t.opts.imageInsertButtons.indexOf("imageUpload"),d=t.opts.imageInsertButtons.indexOf("imageByURL"),p="";l>=0&&(r=" fr-active",d>=0&&l>d&&(r=""),p='<div class="fr-image-upload-layer'+r+' fr-layer" id="fr-image-upload-layer-'+t.id+'"><strong>'+t.language.translate("Drop image")+"</strong><br>("+t.language.translate("or click")+')<div class="fr-form"><input type="file" accept="image/'+t.opts.imageAllowedTypes.join(", image/").toLowerCase()+'" tabIndex="-1" aria-labelledby="fr-image-upload-layer-'+t.id+'" role="button"></div></div>');var h="";d>=0&&(r=" fr-active",l>=0&&d>l&&(r=""),h='<div class="fr-image-by-url-layer'+r+' fr-layer" id="fr-image-by-url-layer-'+t.id+'"><div class="fr-input-line"><input id="fr-image-by-url-layer-text-'+t.id+'" type="text" placeholder="http://" tabIndex="1" aria-required="true"></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-submit" data-cmd="imageInsertByURL" tabIndex="2" role="button">'+t.language.translate("Insert")+"</button></div></div>");var u={buttons:a,upload_layer:p,by_url_layer:h,progress_bar:'<div class="fr-image-progress-bar-layer fr-layer"><h3 tabIndex="-1" class="fr-message">Uploading</h3><div class="fr-loader"><span class="fr-progress"></span></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-dismiss" data-cmd="imageDismissError" tabIndex="2" role="button">OK</button></div></div>'};return t.opts.imageInsertButtons.length>=1&&(i=t.popups.create("image.insert",u)),t.$wp&&t.events.$on(t.$wp,"scroll",(function(){n&&t.popups.isVisible("image.insert")&&de()})),function(o){t.events.$on(o,"dragover dragenter",".fr-image-upload-layer",(function(){return e(this).addClass("fr-drop"),!1}),!0),t.events.$on(o,"dragleave dragend",".fr-image-upload-layer",(function(){return e(this).removeClass("fr-drop"),!1}),!0),t.events.$on(o,"drop",".fr-image-upload-layer",(function(n){n.preventDefault(),n.stopPropagation(),e(this).removeClass("fr-drop");var r=n.originalEvent.dataTransfer;if(r&&r.files){var i=o.data("instance")||t;i.events.disableBlur(),i.image.upload(r.files),i.events.enableBlur()}}),!0),t.helpers.isIOS()&&t.events.$on(o,"touchstart",'.fr-image-upload-layer input[type="file"]',(function(){e(this).trigger("click")}),!0),t.events.$on(o,"change",'.fr-image-upload-layer input[type="file"]',(function(){if(this.files){var r=o.data("instance")||t;r.events.disableBlur(),o.find("input:focus").blur(),r.events.enableBlur(),r.image.upload(this.files,n)}e(this).val("")}),!0)}(i),i}function K(){n&&t.popups.get("image.alt").find("input").val(n.attr("alt")||"").trigger("change")}function U(){var e=t.popups.get("image.alt");e||(e=H()),k(),t.popups.refresh("image.alt"),t.popups.setContainer("image.alt",t.$sc);var n=fe();he()&&(n=n.find(".fr-img-wrap")),t.popups.showEl("image.alt",n)}function H(e){if(e)return t.popups.onRefresh("image.alt",K),!0;var o={buttons:'<div class="fr-buttons">'+t.button.buildList(t.opts.imageAltButtons)+"</div>",alt_layer:'<div class="fr-image-alt-layer fr-layer fr-active" id="fr-image-alt-layer-'+t.id+'"><div class="fr-input-line"><input id="fr-image-alt-layer-text-'+t.id+'" type="text" placeholder="'+t.language.translate("Alternative Text")+'" tabIndex="1"></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-submit" data-cmd="imageSetAlt" tabIndex="2" role="button">'+t.language.translate("Update")+"</button></div></div>"},r=t.popups.create("image.alt",o);return t.$wp&&t.events.$on(t.$wp,"scroll.image-alt",(function(){n&&t.popups.isVisible("image.alt")&&U()})),r}function z(){var e=t.popups.get("image.size");if(n)if(he()){var o=n.parent();o.get(0).style.width||(o=n.parent().parent()),e.find('input[name="width"]').val(o.get(0).style.width).trigger("change"),e.find('input[name="height"]').val(o.get(0).style.height).trigger("change")}else e.find('input[name="width"]').val(n.get(0).style.width).trigger("change"),e.find('input[name="height"]').val(n.get(0).style.height).trigger("change")}function W(){var e=t.popups.get("image.size");e||(e=V()),k(),t.popups.refresh("image.size"),t.popups.setContainer("image.size",t.$sc);var n=fe();he()&&(n=n.find(".fr-img-wrap")),t.popups.showEl("image.size",n)}function V(e){if(e)return t.popups.onRefresh("image.size",z),!0;var o={buttons:'<div class="fr-buttons">'+t.button.buildList(t.opts.imageSizeButtons)+"</div>",size_layer:'<div class="fr-image-size-layer fr-layer fr-active" id="fr-image-size-layer-'+t.id+'"><div class="fr-image-group"><div class="fr-input-line"><input id="fr-image-size-layer-width-'+t.id+'" type="text" name="width" placeholder="'+t.language.translate("Width")+'" tabIndex="1"></div><div class="fr-input-line"><input id="fr-image-size-layer-height'+t.id+'" type="text" name="height" placeholder="'+t.language.translate("Height")+'" tabIndex="1"></div></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-submit" data-cmd="imageSetSize" tabIndex="2" role="button">'+t.language.translate("Update")+"</button></div></div>"},r=t.popups.create("image.size",o);return t.$wp&&t.events.$on(t.$wp,"scroll.image-size",(function(){n&&t.popups.isVisible("image.size")&&W()})),r}function Y(e,t,n,o){return e.pageX=t,y.call(this,e),e.pageX=e.pageX+n*Math.floor(Math.pow(1.1,o)),w.call(this,e),S.call(this,e),++o}function q(n){(n=n||fe())&&!1!==t.events.trigger("image.beforeRemove",[n])&&(t.popups.hideAll(),ce(),ne(!0),t.undo.canDo()||t.undo.saveStep(),n.get(0)==t.el?n.removeAttr("src"):(n.get(0).parentNode&&"A"==n.get(0).parentNode.tagName?(t.selection.setBefore(n.get(0).parentNode)||t.selection.setAfter(n.get(0).parentNode)||n.parent().after(e.FE.MARKERS),e(n.get(0).parentNode).remove()):(t.selection.setBefore(n.get(0))||t.selection.setAfter(n.get(0))||n.after(e.FE.MARKERS),n.remove()),t.html.fillEmptyBlocks(),t.selection.restore()),t.undo.saveStep())}function X(o){var r=o.which;if(n&&(r==e.FE.KEYCODE.BACKSPACE||r==e.FE.KEYCODE.DELETE))return o.preventDefault(),o.stopPropagation(),q(),!1;if(n&&r==e.FE.KEYCODE.ESC){var i=n;return ne(!0),t.selection.setAfter(i.get(0)),t.selection.restore(),o.preventDefault(),!1}if(n&&(r==e.FE.KEYCODE.ARROW_LEFT||r==e.FE.KEYCODE.ARROW_RIGHT)){var a=n.get(0);return ne(!0),r==e.FE.KEYCODE.ARROW_LEFT?t.selection.setBefore(a):t.selection.setAfter(a),t.selection.restore(),o.preventDefault(),!1}return n&&r!=e.FE.KEYCODE.F10&&!t.keys.isBrowserAction(o)?(o.preventDefault(),o.stopPropagation(),!1):void 0}function j(e){if(e&&"IMG"==e.tagName){if(t.node.hasClass(e,"fr-uploading")||t.node.hasClass(e,"fr-error")?e.parentNode.removeChild(e):t.node.hasClass(e,"fr-draggable")&&e.classList.remove("fr-draggable"),e.parentNode&&e.parentNode.parentNode&&t.node.hasClass(e.parentNode.parentNode,"fr-img-caption")){var n=e.parentNode.parentNode;n.removeAttribute("contenteditable"),n.removeAttribute("draggable"),n.classList.remove("fr-draggable");var o=e.nextSibling;o&&o.removeAttribute("contenteditable")}}else if(e&&e.nodeType==Node.ELEMENT_NODE)for(var r=e.querySelectorAll("img.fr-uploading, img.fr-error, img.fr-draggable"),i=0;i<r.length;i++)j(r[i])}function G(o){if(!1===t.events.trigger("image.beforePasteUpload",[o]))return!1;n=e(o),v(),p(),de(),T(),n.one("load",(function(){v(),T()}));for(var r=e(o).attr("src").split(","),i=atob(r[1]),a=[],s=0;s<i.length;s++)a.push(i.charCodeAt(s));M([new Blob([new Uint8Array(a)],{type:r[0].replace(/data\:/g,"").replace(/;base64/g,"")})],n)}function Q(){t.opts.imagePaste?t.$el.find("img[data-fr-image-pasted]").each((function(n,o){if(t.opts.imagePasteProcess){var r=t.opts.imageDefaultWidth;r&&"auto"!=r&&(r+=t.opts.imageResizeWithPercent?"%":"px"),e(o).css("width",r).removeClass("fr-dii fr-dib fr-fir fr-fil"),ae(e(o),t.opts.imageDefaultDisplay,t.opts.imageDefaultAlign)}if(0===o.src.indexOf("data:"))G(o);else if(0===o.src.indexOf("blob:")||0===o.src.indexOf("http")&&t.opts.imageUploadRemoteUrls){var i=new Image;i.crossOrigin="Anonymous",i.onload=function(){var e=t.o_doc.createElement("CANVAS"),n=e.getContext("2d");e.height=this.naturalHeight,e.width=this.naturalWidth,n.drawImage(this,0,0),setTimeout((function(){G(o)}),0),o.src=e.toDataURL("image/jpeg")},i.src=o.src}else 0!==o.src.indexOf("http")||0===o.src.indexOf("https://mail.google.com/mail")?(t.selection.save(),e(o).remove(),t.selection.restore()):e(o).removeAttr("data-fr-image-pasted")})):t.$el.find("img[data-fr-image-pasted]").remove()}function Z(e){var n=e.target.result,o=t.opts.imageDefaultWidth;o&&"auto"!=o&&(o+=t.opts.imageResizeWithPercent?"%":"px"),t.undo.saveStep(),t.html.insert('<img data-fr-image-pasted="true" src="'+n+'"'+(o?' style="width: '+o+';"':"")+">");var r=t.$el.find('img[data-fr-image-pasted="true"]');r&&ae(r,t.opts.imageDefaultDisplay,t.opts.imageDefaultAlign),t.events.trigger("paste.after")}function J(e){if(e&&e.clipboardData&&e.clipboardData.items){var t=null;if(e.clipboardData.types&&-1!=e.clipboardData.types.indexOf("text/rtf")||e.clipboardData.getData("text/rtf"))t=e.clipboardData.items[0].getAsFile();else for(var n=0;n<e.clipboardData.items.length&&!(t=e.clipboardData.items[n].getAsFile());n++);if(t)return function(e){var t=new FileReader;t.onload=Z,t.readAsDataURL(e)}(t),!1}}function ee(e){return e=e.replace(/<img /gi,'<img data-fr-image-pasted="true" ')}function te(o){if("false"==e(this).parents("[contenteditable]:not(.fr-element):not(.fr-img-caption):not(body):first").attr("contenteditable"))return!0;if(o&&"touchend"==o.type&&s)return!0;if(o&&t.edit.isDisabled())return o.stopPropagation(),o.preventDefault(),!1;for(var r=0;r<e.FE.INSTANCES.length;r++)e.FE.INSTANCES[r]!=t&&e.FE.INSTANCES[r].events.trigger("image.hideResizer");t.toolbar.disable(),o&&(o.stopPropagation(),o.preventDefault()),t.helpers.isMobile()&&(t.events.disableBlur(),t.$el.blur(),t.events.enableBlur()),t.opts.iframe&&t.size.syncIframe(),n=e(this),ce(),v(),p(),t.browser.msie?(t.popups.areVisible()&&t.events.disableBlur(),t.win.getSelection&&(t.win.getSelection().removeAllRanges(),t.win.getSelection().addRange(t.doc.createRange()))):t.selection.clear(),t.helpers.isIOS()&&(t.events.disableBlur(),t.$el.blur()),t.button.bulkRefresh(),t.events.trigger("video.hideResizer")}function ne(e){n&&(oe||!0===e)&&(t.toolbar.enable(),o.removeClass("fr-active"),t.popups.hide("image.edit"),n=null,ie(),r=null,i&&i.hide())}d[1]="Image cannot be loaded from the passed link.",d[2]="No link in upload response.",d[3]="Error during file upload.",d[4]="Parsing response failed.",d[5]="File is too large.",d[6]="Image file type is invalid.",d[7]="Files can be uploaded only to same domain in IE 8 and IE 9.",d[8]="Image file is corrupted.";var oe=!1;function re(){oe=!0}function ie(){oe=!1}function ae(e,n,o){!t.opts.htmlUntouched&&t.opts.useClasses?(e.removeClass("fr-fil fr-fir fr-dib fr-dii"),o&&e.addClass("fr-fi"+o[0]),n&&e.addClass("fr-di"+n[0])):"inline"==n?(e.css({display:"inline-block",verticalAlign:"bottom",margin:t.opts.imageDefaultMargin}),"center"==o?e.css({float:"none",marginBottom:"",marginTop:"",maxWidth:"calc(100% - "+2*t.opts.imageDefaultMargin+"px)",textAlign:"center"}):"left"==o?e.css({float:"left",marginLeft:0,maxWidth:"calc(100% - "+t.opts.imageDefaultMargin+"px)",textAlign:"left"}):e.css({float:"right",marginRight:0,maxWidth:"calc(100% - "+t.opts.imageDefaultMargin+"px)",textAlign:"right"})):"block"==n&&(e.css({display:"block",float:"none",verticalAlign:"top",margin:t.opts.imageDefaultMargin+"px auto",textAlign:"center"}),"left"==o?e.css({marginLeft:0,textAlign:"left"}):"right"==o&&e.css({marginRight:0,textAlign:"right"}))}function se(e){if(void 0===e&&(e=fe()),e){if(e.hasClass("fr-fil"))return"left";if(e.hasClass("fr-fir"))return"right";if(e.hasClass("fr-dib")||e.hasClass("fr-dii"))return"center";var t=e.css("float");if(e.css("float","none"),"block"==e.css("display")){if(e.css("float",""),e.css("float")!=t&&e.css("float",t),0===parseInt(e.css("margin-left"),10))return"left";if(0===parseInt(e.css("margin-right"),10))return"right"}else{if(e.css("float",""),e.css("float")!=t&&e.css("float",t),"left"==e.css("float"))return"left";if("right"==e.css("float"))return"right"}}return"center"}function le(e){void 0===e&&(e=fe());var t=e.css("float");return e.css("float","none"),"block"==e.css("display")?(e.css("float",""),e.css("float")!=t&&e.css("float",t),"block"):(e.css("float",""),e.css("float")!=t&&e.css("float",t),"inline")}function de(){var e=t.popups.get("image.insert");e||(e=P()),t.popups.isVisible("image.insert")||(k(),t.popups.refresh("image.insert"),t.popups.setContainer("image.insert",t.$sc));var n=fe();he()&&(n=n.find(".fr-img-wrap")),t.popups.showEl("image.insert",n)}function ce(){if(n){t.events.disableBlur(),t.selection.clear();var e=t.doc.createRange();e.selectNode(n.get(0)),t.browser.msie&&e.collapse(!0),t.selection.get().addRange(e),t.events.enableBlur()}}function pe(){return n}function fe(){return he()?n.parents(".fr-img-caption:first"):n}function he(){return!!n&&n.parents(".fr-img-caption").length>0}return{_init:function(){var o;t.events.$on(t.$el,t._mousedown,"IMG"==t.el.tagName?null:'img:not([contenteditable="false"])',(function(n){if("false"==e(this).parents("[contenteditable]:not(.fr-element):not(.fr-img-caption):not(body):first").attr("contenteditable"))return!0;t.helpers.isMobile()||t.selection.clear(),l=!0,t.popups.areVisible()&&t.events.disableBlur(),t.browser.msie&&(t.events.disableBlur(),t.$el.attr("contenteditable",!1)),t.draggable||"touchstart"==n.type||n.preventDefault(),n.stopPropagation()})),t.events.$on(t.$el,t._mouseup,"IMG"==t.el.tagName?null:'img:not([contenteditable="false"])',(function(n){if("false"==e(this).parents("[contenteditable]:not(.fr-element):not(.fr-img-caption):not(body):first").attr("contenteditable"))return!0;l&&(l=!1,n.stopPropagation(),t.browser.msie&&(t.$el.attr("contenteditable",!0),t.events.enableBlur()))})),t.events.on("keyup",(function(n){if(n.shiftKey&&""===t.selection.text().replace(/\n/g,"")&&t.keys.isArrow(n.which)){var o=t.selection.element(),r=t.selection.endElement();o&&"IMG"==o.tagName?x(e(o)):r&&"IMG"==r.tagName&&x(e(r))}}),!0),t.events.on("drop",B),t.events.on("element.beforeDrop",I),t.events.on("mousedown window.mousedown",re),t.events.on("window.touchmove",ie),t.events.on("mouseup window.mouseup",(function(){if(n)return ne(),!1;ie()})),t.events.on("commands.mousedown",(function(e){e.parents(".fr-toolbar").length>0&&ne()})),t.events.on("image.resizeEnd",(function(){t.opts.iframe&&t.size.syncIframe()})),t.events.on("blur image.hideResizer commands.undo commands.redo element.dropped",(function(){l=!1,ne(!0)})),t.events.on("modals.hide",(function(){n&&(ce(),t.selection.clear())})),t.events.on("image.resizeEnd",(function(){t.win.getSelection&&x(n)})),t.opts.imageAddNewLine&&t.events.on("image.inserted",(function(n){var o=n.get(0);for(o.nextSibling&&"BR"===o.nextSibling.tagName&&(o=o.nextSibling);o&&!t.node.isElement(o);)o=t.node.isLastSibling(o)?o.parentNode:null;t.node.isElement(o)&&(t.opts.enter===e.FE.ENTER_BR?n.after("<br>"):e(t.node.blockParent(n.get(0))).after("<"+t.html.defaultTag()+"><br></"+t.html.defaultTag()+">"))})),"IMG"==t.el.tagName&&t.$el.addClass("fr-view"),t.events.$on(t.$el,t.helpers.isMobile()&&!t.helpers.isWindowsPhone()?"touchend":"click","IMG"==t.el.tagName?null:'img:not([contenteditable="false"])',te),t.helpers.isMobile()&&(t.events.$on(t.$el,"touchstart","IMG"==t.el.tagName?null:'img:not([contenteditable="false"])',(function(){s=!1})),t.events.$on(t.$el,"touchmove",(function(){s=!0}))),t.$wp?(t.events.on("window.keydown keydown",X,!0),t.events.on("keyup",(function(t){if(n&&t.which==e.FE.KEYCODE.ENTER)return!1}),!0),t.events.$on(t.$el,"keydown",(function(){var n=t.selection.element();n.nodeType===Node.TEXT_NODE&&(n=n.parentNode),t.node.hasClass(n,"fr-inner")||(t.node.hasClass(n,"fr-img-caption")||(n=e(n).parents(".fr-img-caption").get(0)),t.node.hasClass(n,"fr-img-caption")&&(e(n).after(e.FE.INVISIBLE_SPACE+e.FE.MARKERS),t.selection.restore()))}))):t.events.$on(t.$win,"keydown",X),t.events.on("toolbar.esc",(function(){if(n){if(t.$wp)t.events.disableBlur(),t.events.focus();else{var e=n;ne(!0),t.selection.setAfter(e.get(0)),t.selection.restore()}return!1}}),!0),t.events.on("toolbar.focusEditor",(function(){if(n)return!1}),!0),t.events.on("window.cut window.copy",(function(o){if(n&&t.popups.isVisible("image.edit")&&!t.popups.get("image.edit").find(":focus").length){var r=fe();he()?(r.before(e.FE.START_MARKER),r.after(e.FE.END_MARKER),t.selection.restore(),t.paste.saveCopiedText(r.get(0).outerHTML,r.text())):(ce(),t.paste.saveCopiedText(n.get(0).outerHTML,n.attr("alt"))),"copy"==o.type?setTimeout((function(){x(n)})):(ne(!0),t.undo.saveStep(),setTimeout((function(){t.undo.saveStep()}),0))}}),!0),t.browser.msie&&t.events.on("keydown",(function(o){if(!t.selection.isCollapsed()||!n)return!0;var r=o.which;r==e.FE.KEYCODE.C&&t.keys.ctrlKey(o)?t.events.trigger("window.copy"):r==e.FE.KEYCODE.X&&t.keys.ctrlKey(o)&&t.events.trigger("window.cut")})),t.events.$on(e(t.o_win),"keydown",(function(t){var o=t.which;if(n&&o==e.FE.KEYCODE.BACKSPACE)return t.preventDefault(),!1})),t.events.$on(t.$win,"keydown",(function(t){var o=t.which;n&&n.hasClass("fr-uploading")&&o==e.FE.KEYCODE.ESC&&n.trigger("abortUpload")})),t.events.on("destroy",(function(){n&&n.hasClass("fr-uploading")&&n.trigger("abortUpload")})),t.events.on("paste.before",J),t.events.on("paste.beforeCleanup",ee),t.events.on("paste.after",Q),t.events.on("html.set",g),t.events.on("html.inserted",g),g(),t.events.on("destroy",(function(){a=[]})),t.events.on("html.processGet",j),t.opts.imageOutputSize&&t.events.on("html.beforeGet",(function(){o=t.el.querySelectorAll("img");for(var n=0;n<o.length;n++){var r=o[n].style.width||e(o[n]).width(),i=o[n].style.height||e(o[n]).height();r&&o[n].setAttribute("width",(""+r).replace(/px/,"")),i&&o[n].setAttribute("height",(""+i).replace(/px/,""))}})),t.opts.iframe&&t.events.on("image.loaded",t.size.syncIframe),t.$wp&&(m(),t.events.on("contentChanged",m)),t.events.$on(e(t.o_win),"orientationchange.image",(function(){setTimeout((function(){n&&x(n)}),100)})),_(!0),P(!0),V(!0),H(!0),t.events.on("node.remove",(function(e){if("IMG"==e.get(0).tagName)return q(e),!1}))},showInsertPopup:function(){var e=t.$tb.find('.fr-command[data-cmd="insertImage"]'),n=t.popups.get("image.insert");if(n||(n=P()),k(),!n.hasClass("fr-active"))if(t.popups.refresh("image.insert"),t.popups.setContainer("image.insert",t.$tb),e.is(":visible")){var o=e.offset().left+e.outerWidth()/2,r=e.offset().top+(t.opts.toolbarBottom?10:e.outerHeight()-10);t.popups.show("image.insert",o,r,e.outerHeight())}else t.position.forSelection(n),t.popups.show("image.insert")},showLayer:function(e){var o,r,i=t.popups.get("image.insert");if(n||t.opts.toolbarInline){if(n){var a=fe();he()&&(a=a.find(".fr-img-wrap")),r=a.offset().top+a.outerHeight(),o=a.offset().left+a.outerWidth()/2}}else{var s=t.$tb.find('.fr-command[data-cmd="insertImage"]');o=s.offset().left+s.outerWidth()/2,r=s.offset().top+(t.opts.toolbarBottom?10:s.outerHeight()-10)}!n&&t.opts.toolbarInline&&(r=i.offset().top-t.helpers.getPX(i.css("margin-top")),i.hasClass("fr-above")&&(r+=i.outerHeight())),i.find(".fr-layer").removeClass("fr-active"),i.find(".fr-"+e+"-layer").addClass("fr-active"),t.popups.show("image.insert",o,r,n?n.outerHeight():0),t.accessibility.focusPopup(i)},refreshUploadButton:function(e){t.popups.get("image.insert").find(".fr-image-upload-layer").hasClass("fr-active")&&e.addClass("fr-active").attr("aria-pressed",!0)},refreshByURLButton:function(e){t.popups.get("image.insert").find(".fr-image-by-url-layer").hasClass("fr-active")&&e.addClass("fr-active").attr("aria-pressed",!0)},upload:M,insertByURL:function(){var e=t.popups.get("image.insert").find(".fr-image-by-url-layer input");if(e.val().length>0){T(),A(t.language.translate("Loading image"));var o=e.val().trim();if(t.opts.imageUploadRemoteUrls&&t.opts.imageUpload){var r=new XMLHttpRequest;r.onload=function(){200==this.status?M([new Blob([this.response],{type:this.response.type||"image/png"})],n):C(1)},r.onerror=function(){R(o,!0,[],n)},r.open("GET",o,!0),r.responseType="blob",r.send()}else R(o,!0,[],n);e.val(""),e.blur()}},align:function(e){var n=fe();n.removeClass("fr-fir fr-fil"),!t.opts.htmlUntouched&&t.opts.useClasses?"left"==e?n.addClass("fr-fil"):"right"==e&&n.addClass("fr-fir"):ae(n,le(),e),ce(),v(),p(),t.selection.clear()},refreshAlign:function(e){n&&e.find("> *:first").replaceWith(t.icon.create("image-align-"+se()))},refreshAlignOnShow:function(e,t){n&&t.find('.fr-command[data-param1="'+se()+'"]').addClass("fr-active").attr("aria-selected",!0)},display:function(e){var n=fe();n.removeClass("fr-dii fr-dib"),!t.opts.htmlUntouched&&t.opts.useClasses?"inline"==e?n.addClass("fr-dii"):"block"==e&&n.addClass("fr-dib"):ae(n,e,se()),ce(),v(),p(),t.selection.clear()},refreshDisplayOnShow:function(e,t){n&&t.find('.fr-command[data-param1="'+le()+'"]').addClass("fr-active").attr("aria-selected",!0)},replace:de,back:function(){n?(t.events.disableBlur(),e(".fr-popup input:focus").blur(),x(n)):(t.events.disableBlur(),t.selection.restore(),t.events.enableBlur(),t.popups.hide("image.insert"),t.toolbar.showInline())},get:pe,getEl:fe,set:function(e){n=e},insert:R,showProgressBar:T,remove:q,hideProgressBar:k,applyStyle:function(e,o,r){if(void 0===o&&(o=t.opts.imageStyles),void 0===r&&(r=t.opts.imageMultipleStyles),!n)return!1;var i=fe();if(!r){var a=Object.keys(o);a.splice(a.indexOf(e),1),i.removeClass(a.join(" "))}"object"==typeof o[e]?(i.removeAttr("style"),i.css(o[e].style)):i.toggleClass(e),x(n)},showAltPopup:U,showSizePopup:W,setAlt:function(e){if(n){var o=t.popups.get("image.alt");n.attr("alt",e||o.find("input").val()||""),o.find("input:focus").blur(),x(n)}},setSize:function(e,o){if(n){var r=t.popups.get("image.size");e=e||r.find('input[name="width"]').val()||"",o=o||r.find('input[name="height"]').val()||"";var i=/^[\d]+((px)|%)*$/g;n.removeAttr("width").removeAttr("height"),e.match(i)?n.css("width",e):n.css("width",""),o.match(i)?n.css("height",o):n.css("height",""),he()&&(n.parents(".fr-img-caption").removeAttr("width").removeAttr("height"),e.match(i)?n.parents(".fr-img-caption").css("width",e):n.parents(".fr-img-caption").css("width",""),o.match(i)?n.parents(".fr-img-caption").css("height",o):n.parents(".fr-img-caption").css("height","")),r&&r.find("input:focus").blur(),x(n)}},toggleCaption:function(){var o;if(n&&!he()){o=n,n.parent().is("a")&&(o=n.parent());var r=o.width();o.wrap("<span "+(t.browser.mozilla?"":'contenteditable="false"')+'class="fr-img-caption '+n.attr("class")+'" style="'+(t.opts.useClasses?"":o.attr("style"))+'" draggable="false"></span>'),o.wrap('<span class="fr-img-wrap"></span>'),o.after('<span class="fr-inner"'+(t.browser.mozilla?"":' contenteditable="true"')+">"+e.FE.START_MARKER+"Image caption"+e.FE.END_MARKER+"</span>"),n.removeAttr("class").removeAttr("style").removeAttr("width"),n.parents(".fr-img-caption").css("width",r+"px"),ne(!0),t.selection.restore()}else o=fe(),n.insertAfter(o),n.attr("class",o.attr("class").replace("fr-img-caption","")).attr("style",o.attr("style")),o.remove(),x(n)},hasCaption:he,exitEdit:ne,edit:x}},e.FE.DefineIcon("insertImage",{NAME:"image"}),e.FE.RegisterShortcut(e.FE.KEYCODE.P,"insertImage",null,"P"),e.FE.RegisterCommand("insertImage",{title:"Insert Image",undo:!1,focus:!0,refreshAfterCallback:!1,popup:!0,callback:function(){this.popups.isVisible("image.insert")?(this.$el.find(".fr-marker").length&&(this.events.disableBlur(),this.selection.restore()),this.popups.hide("image.insert")):this.image.showInsertPopup()},plugin:"image"}),e.FE.DefineIcon("imageUpload",{NAME:"upload"}),e.FE.RegisterCommand("imageUpload",{title:"Upload Image",undo:!1,focus:!1,toggle:!0,callback:function(){this.image.showLayer("image-upload")},refresh:function(e){this.image.refreshUploadButton(e)}}),e.FE.DefineIcon("imageByURL",{NAME:"link"}),e.FE.RegisterCommand("imageByURL",{title:"By URL",undo:!1,focus:!1,toggle:!0,callback:function(){this.image.showLayer("image-by-url")},refresh:function(e){this.image.refreshByURLButton(e)}}),e.FE.RegisterCommand("imageInsertByURL",{title:"Insert Image",undo:!0,refreshAfterCallback:!1,callback:function(){this.image.insertByURL()},refresh:function(e){this.image.get()?e.text(this.language.translate("Replace")):e.text(this.language.translate("Insert"))}}),e.FE.DefineIcon("imageDisplay",{NAME:"star-o"}),e.FE.RegisterCommand("imageDisplay",{title:"Display",type:"dropdown",options:{inline:"Inline",block:"Break Text"},callback:function(e,t){this.image.display(t)},refresh:function(e){this.opts.imageTextNear||e.addClass("fr-hidden")},refreshOnShow:function(e,t){this.image.refreshDisplayOnShow(e,t)}}),e.FE.DefineIcon("image-align",{NAME:"align-left"}),e.FE.DefineIcon("image-align-left",{NAME:"align-left"}),e.FE.DefineIcon("image-align-right",{NAME:"align-right"}),e.FE.DefineIcon("image-align-center",{NAME:"align-justify"}),e.FE.DefineIcon("imageAlign",{NAME:"align-justify"}),e.FE.RegisterCommand("imageAlign",{type:"dropdown",title:"Align",options:{left:"Align Left",center:"None",right:"Align Right"},html:function(){var t='<ul class="fr-dropdown-list" role="presentation">',n=e.FE.COMMANDS.imageAlign.options;for(var o in n)n.hasOwnProperty(o)&&(t+='<li role="presentation"><a class="fr-command fr-title" tabIndex="-1" role="option" data-cmd="imageAlign" data-param1="'+o+'" title="'+this.language.translate(n[o])+'">'+this.icon.create("image-align-"+o)+'<span class="fr-sr-only">'+this.language.translate(n[o])+"</span></a></li>");return t+="</ul>"},callback:function(e,t){this.image.align(t)},refresh:function(e){this.image.refreshAlign(e)},refreshOnShow:function(e,t){this.image.refreshAlignOnShow(e,t)}}),e.FE.DefineIcon("imageReplace",{NAME:"exchange",FA5NAME:"exchange-alt"}),e.FE.RegisterCommand("imageReplace",{title:"Replace",undo:!1,focus:!1,popup:!0,refreshAfterCallback:!1,callback:function(){this.image.replace()}}),e.FE.DefineIcon("imageRemove",{NAME:"trash"}),e.FE.RegisterCommand("imageRemove",{title:"Remove",callback:function(){this.image.remove()}}),e.FE.DefineIcon("imageBack",{NAME:"arrow-left"}),e.FE.RegisterCommand("imageBack",{title:"Back",undo:!1,focus:!1,back:!0,callback:function(){this.image.back()},refresh:function(e){this.image.get()||this.opts.toolbarInline?(e.removeClass("fr-hidden"),e.next(".fr-separator").removeClass("fr-hidden")):(e.addClass("fr-hidden"),e.next(".fr-separator").addClass("fr-hidden"))}}),e.FE.RegisterCommand("imageDismissError",{title:"OK",undo:!1,callback:function(){this.image.hideProgressBar(!0)}}),e.FE.DefineIcon("imageStyle",{NAME:"magic"}),e.FE.RegisterCommand("imageStyle",{title:"Style",type:"dropdown",html:function(){var e='<ul class="fr-dropdown-list" role="presentation">',t=this.opts.imageStyles;for(var n in t)if(t.hasOwnProperty(n)){var o=t[n];"object"==typeof o&&(o=o.title),e+='<li role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="imageStyle" data-param1="'+n+'">'+this.language.translate(o)+"</a></li>"}return e+="</ul>"},callback:function(e,t){this.image.applyStyle(t)},refreshOnShow:function(t,n){var o=this.image.getEl();o&&n.find(".fr-command").each((function(){var t=e(this).data("param1"),n=o.hasClass(t);e(this).toggleClass("fr-active",n).attr("aria-selected",n)}))}}),e.FE.DefineIcon("imageAlt",{NAME:"info"}),e.FE.RegisterCommand("imageAlt",{undo:!1,focus:!1,popup:!0,title:"Alternative Text",callback:function(){this.image.showAltPopup()}}),e.FE.RegisterCommand("imageSetAlt",{undo:!0,focus:!1,title:"Update",refreshAfterCallback:!1,callback:function(){this.image.setAlt()}}),e.FE.DefineIcon("imageSize",{NAME:"arrows-alt"}),e.FE.RegisterCommand("imageSize",{undo:!1,focus:!1,popup:!0,title:"Change Size",callback:function(){this.image.showSizePopup()}}),e.FE.RegisterCommand("imageSetSize",{undo:!0,focus:!1,title:"Update",refreshAfterCallback:!1,callback:function(){this.image.setSize()}}),e.FE.DefineIcon("imageCaption",{NAME:"commenting-o",FA5NAME:"comment-alt"}),e.FE.RegisterCommand("imageCaption",{undo:!0,focus:!1,title:"Image Caption",refreshAfterCallback:!0,callback:function(){this.image.toggleCaption()},refresh:function(e){this.image.get()&&e.toggleClass("fr-active",this.image.hasCaption())}})}(jQuery),function(e){e.extend(e.FE.DEFAULTS,{inlineStyles:{"fr-class-code":"Code","fr-class-highlighted":"Highlighted","fr-class-transparency":"Transparent"}}),e.FE.PLUGINS.inlineStyle=function(t){return{apply:function(e){t.format.toggle("span",{class:e})},refreshOnShow:function(n,o){o.find(".fr-command").each((function(){var n=e(this).data("param1"),o=t.format.is("span",{class:n});e(this).toggleClass("fr-active",o).attr("aria-selected",o)}))}}},e.FE.RegisterCommand("inlineStyle",{type:"dropdown",title:"Inline Class",html:function(){var e='<ul class="fr-dropdown-list" role="presentation">',t=this.opts.inlineStyles;for(var n in t)t.hasOwnProperty(n)&&(e+='<li role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="inlineStyle" data-param1="'+n+'" title="'+t[n]+'">'+t[n]+"</a></li>");return e+="</ul>"},callback:function(e,t){this.inlineStyle.apply(t)},refreshOnShow:function(e,t){this.inlineStyle.refreshOnShow(e,t)},plugin:"inlineStyle"}),e.FE.DefineIcon("inlineStyle",{NAME:"tag"})}(jQuery),function(e){e.extend(e.FE.DEFAULTS,{inlineStylesRaw:{"Big Red":"font-size: 20px; color: red;","Small Blue":"font-size: 14px; color: blue;"}}),e.FE.PLUGINS.inlineStyleRaw=function(t){return{apply:function(n){if(""!==t.selection.text())for(var o=n.split(";"),r=0;r<o.length;r++){var i=o[r].split(":");o[r].length&&2==i.length&&t.format.applyStyle(i[0].trim(),i[1].trim())}else t.html.insert('<span style="'+n+'">'+e.FE.INVISIBLE_SPACE+e.FE.MARKERS+"</span>")}}},e.FE.RegisterCommand("inlineStyleRaw",{type:"dropdown",html:function(){var e='<ul class="fr-dropdown-list" role="presentation">',t=this.opts.inlineStylesRaw;for(var n in t){if(t.hasOwnProperty(n))e+='<li role="presentation"><span style="'+(t[n]+(-1===t[n].indexOf("display:block;")?" display:block;":""))+'" role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="inlineStyleRaw" data-param1="'+t[n]+'" title="'+this.language.translate(n)+'">'+this.language.translate(n)+"</a></span></li>"}return e+="</ul>"},title:"Inline Style",callback:function(e,t){this.inlineStyleRaw.apply(t)},plugin:"inlineStyleRaw"}),e.FE.DefineIcon("inlineStyleRaw",{NAME:"paint-brush"})}(jQuery),function(e){e.extend(e.FE.POPUP_TEMPLATES,{"link.edit":"[_BUTTONS_]","link.insert":"[_BUTTONS_][_INPUT_LAYER_]"}),e.extend(e.FE.DEFAULTS,{linkEditButtons:["linkOpen","linkStyle","linkEdit","linkRemove"],linkInsertButtons:[],linkAttributes:{},linkAutoPrefix:"http://",linkStyles:{"fr-green":"Green","fr-strong":"Thick"},linkMultipleStyles:!0,linkConvertEmailAddress:!0,linkAlwaysBlank:!1,linkAlwaysNoFollow:!1,linkNoOpener:!0,linkNoReferrer:!0,linkList:[{text:"Google",href:"https://google.com",target:"_blank"},{displayText:"Facebook",href:"https://facebook.com"}],linkText:!0}),e.FE.PLUGINS.link=function(t){function n(){var n=t.image?t.image.get():null;if(!n&&t.$wp){var o=t.selection.ranges(0).commonAncestorContainer;try{o&&(o.contains&&o.contains(t.el)||!t.el.contains(o)||t.el==o)&&(o=null)}catch(e){o=null}if(o&&"A"===o.tagName)return o;var r=t.selection.element(),i=t.selection.endElement();"A"==r.tagName||t.node.isElement(r)||(r=e(r).parentsUntil(t.$el,"a:first").get(0)),"A"==i.tagName||t.node.isElement(i)||(i=e(i).parentsUntil(t.$el,"a:first").get(0));try{i&&(i.contains&&i.contains(t.el)||!t.el.contains(i)||t.el==i)&&(i=null)}catch(e){i=null}try{r&&(r.contains&&r.contains(t.el)||!t.el.contains(r)||t.el==r)&&(r=null)}catch(e){r=null}return i&&i==r&&"A"==i.tagName?(t.browser.msie||t.helpers.isMobile())&&(t.selection.info(r).atEnd||t.selection.info(r).atStart)?null:r:null}return"A"==t.el.tagName?t.el:n&&n.get(0).parentNode&&"A"==n.get(0).parentNode.tagName?n.get(0).parentNode:void 0}function o(){var e,n,o,r,i=t.image?t.image.get():null,a=[];if(i)"A"==i.get(0).parentNode.tagName&&a.push(i.get(0).parentNode);else if(t.win.getSelection){var s=t.win.getSelection();if(s.getRangeAt&&s.rangeCount){r=t.doc.createRange();for(var l=0;l<s.rangeCount;++l)if((n=(e=s.getRangeAt(l)).commonAncestorContainer)&&1!=n.nodeType&&(n=n.parentNode),n&&"a"==n.nodeName.toLowerCase())a.push(n);else{o=n.getElementsByTagName("a");for(var d=0;d<o.length;++d)r.selectNodeContents(o[d]),r.compareBoundaryPoints(e.END_TO_START,e)<1&&r.compareBoundaryPoints(e.START_TO_END,e)>-1&&a.push(o[d])}}}else if(t.doc.selection&&"Control"!=t.doc.selection.type)if("a"==(n=(e=t.doc.selection.createRange()).parentElement()).nodeName.toLowerCase())a.push(n);else{o=n.getElementsByTagName("a"),r=t.doc.body.createTextRange();for(var c=0;c<o.length;++c)r.moveToElementText(o[c]),r.compareEndPoints("StartToEnd",e)>-1&&r.compareEndPoints("EndToStart",e)<1&&a.push(o[c])}return a}function r(o){if(t.core.hasFocus()){if(a(),o&&"keyup"===o.type&&(o.altKey||o.which==e.FE.KEYCODE.ALT))return!0;setTimeout((function(){if(!o||o&&(1==o.which||"mouseup"!=o.type)){var r=n(),a=t.image?t.image.get():null;if(r&&!a){if(t.image){var s=t.node.contents(r);if(1==s.length&&"IMG"==s[0].tagName){var l=t.selection.ranges(0);return 0===l.startOffset&&0===l.endOffset?e(r).before(e.FE.MARKERS):e(r).after(e.FE.MARKERS),t.selection.restore(),!1}}o&&o.stopPropagation(),i(r)}}}),t.helpers.isIOS()?100:0)}}function i(o){var r=t.popups.get("link.edit");r||(r=function(){var e="";t.opts.linkEditButtons.length>=1&&("A"==t.el.tagName&&t.opts.linkEditButtons.indexOf("linkRemove")>=0&&t.opts.linkEditButtons.splice(t.opts.linkEditButtons.indexOf("linkRemove"),1),e='<div class="fr-buttons">'+t.button.buildList(t.opts.linkEditButtons)+"</div>");var o={buttons:e},r=t.popups.create("link.edit",o);t.$wp&&t.events.$on(t.$wp,"scroll.link-edit",(function(){n()&&t.popups.isVisible("link.edit")&&i(n())}));return r}());var a=e(o);t.popups.isVisible("link.edit")||t.popups.refresh("link.edit"),t.popups.setContainer("link.edit",t.$sc),t.popups.showEl("link.edit",a)}function a(){t.popups.hide("link.edit")}function s(){}function l(){var o=t.popups.get("link.insert"),r=n();if(r){var i,a,s=e(r),l=o.find('input.fr-link-attr[type="text"]'),d=o.find('input.fr-link-attr[type="checkbox"]');for(i=0;i<l.length;i++)(a=e(l[i])).val(s.attr(a.attr("name")||""));for(d.prop("checked",!1),i=0;i<d.length;i++)a=e(d[i]),s.attr(a.attr("name"))==a.data("checked")&&a.prop("checked",!0);o.find('input.fr-link-attr[type="text"][name="text"]').val(s.text())}else o.find('input.fr-link-attr[type="text"]').val(""),o.find('input.fr-link-attr[type="checkbox"]').prop("checked",!1),o.find('input.fr-link-attr[type="text"][name="text"]').val(t.selection.text());o.find("input.fr-link-attr").trigger("change"),(t.image?t.image.get():null)?o.find('.fr-link-attr[name="text"]').parent().hide():o.find('.fr-link-attr[name="text"]').parent().show()}function d(e){if(e)return t.popups.onRefresh("link.insert",l),t.popups.onHide("link.insert",s),!0;var o="";t.toolbar.hasButton("insertPageLink")&&t.opts.linkInsertButtons.length>=1&&(o='<div class="fr-buttons">'+t.button.buildList(t.opts.linkInsertButtons)+"</div>");var r="",i=0;for(var a in r=`<div class="fr-link-insert-layer fr-layer fr-active" id="fr-link-insert-layer-${t.id}">`,r+=`\n                <div class="fr-input-line">\n                    <input id="fr-link-insert-layer-url-${t.id}" name="href" type="text" class="fr-link-attr" placeholder="${t.language.translate("URL")}" tabIndex="${++i}">\n                </div>`,t.opts.linkText&&(r+=`\n                    <div class="fr-input-line">\n                        <input id="fr-link-insert-layer-text-${t.id}" name="text" type="text" class="fr-link-attr" placeholder="${t.language.translate("Text")}" tabIndex="${++i}">\n                    </div>`),t.opts.linkAttributes)if(t.opts.linkAttributes.hasOwnProperty(a)){var d=t.opts.linkAttributes[a];r+=`\n                        <div class="fr-input-line">\n                            <input name="${a}" type="text" class="fr-link-attr" placeholder="${t.language.translate(d)}" tabIndex="${++i}">\n                        </div>`}t.opts.linkAlwaysBlank||(r+=`\n                    <div class="fr-checkbox-line">\n                        <span class="fr-checkbox">\n                            <input name="target" class="fr-link-attr" data-checked="_blank" type="checkbox" id="fr-link-target-${t.id}" tabIndex="${++i}">\n                            <span><svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="10" height="10" viewBox="0 0 32 32"><path d="M27 4l-15 15-7-7-5 5 12 12 20-20z" fill="#FFF"></path></svg></span>\n                        </span>\n                        <label for="fr-link-target-${t.id}">${t.language.translate("Open in new tab")}</label>\n                    </div>`);var c={buttons:o,input_layer:r+=`\n                <div class="fr-action-buttons">\n                    <button class="fr-command fr-submit" role="button" data-cmd="linkInsert" href="#" tabIndex="${++i}" type="button">\n                        ${t.language.translate("Insert")}\n                    </button>\n                </div>\n            </div>`},h=t.popups.create("link.insert",c);return t.$wp&&t.events.$on(t.$wp,"scroll.link-insert",(function(){(t.image?t.image.get():null)&&t.popups.isVisible("link.insert")&&f(),n&&t.popups.isVisible("link.insert")&&p()})),h}function c(i,a,s){if(void 0===s&&(s={}),!1===t.events.trigger("link.beforeInsert",[i,a,s]))return!1;var l=t.image?t.image.get():null;l||"A"==t.el.tagName?"A"==t.el.tagName&&t.$el.focus():(t.selection.restore(),t.popups.hide("link.insert"));var d=i;t.opts.linkConvertEmailAddress&&t.helpers.isEmail(i)&&!/^mailto:.*/i.test(i)&&(i="mailto:"+i);if(""===t.opts.linkAutoPrefix||new RegExp("^("+e.FE.LinkProtocols.join("|")+"):.","i").test(i)||/^data:image.*/i.test(i)||/^(https?:|ftps?:|file:|)\/\//i.test(i)||/^([A-Za-z]:(\\){1,2}|[A-Za-z]:((\\){1,2}[^\\]+)+)(\\)?$/i.test(i)||["/","{","[","#","(","."].indexOf((i||"")[0])<0&&(i=t.opts.linkAutoPrefix+t.helpers.sanitizeURL(i)),i=t.helpers.sanitizeURL(i),t.opts.linkAlwaysBlank&&(s.target="_blank"),t.opts.linkAlwaysNoFollow&&(s.rel="nofollow"),t.helpers.isEmail(d)&&(s.target=null,s.rel=null),"_blank"==s.target?(t.opts.linkNoOpener&&(s.rel?s.rel+=" noopener":s.rel="noopener"),t.opts.linkNoReferrer&&(s.rel?s.rel+=" noreferrer":s.rel="noreferrer")):null==s.target&&(s.rel?s.rel=s.rel.replace(/noopener/,"").replace(/noreferrer/,""):s.rel=null),a=a||"",i===t.opts.linkAutoPrefix)return t.popups.get("link.insert").find('input[name="href"]').addClass("fr-error"),t.events.trigger("link.bad",[d]),!1;var c,p=n();if(p){if((c=e(p)).attr("href",i),a.length>0&&c.text()!=a&&!l){for(var f=c.get(0);1===f.childNodes.length&&f.childNodes[0].nodeType==Node.ELEMENT_NODE;)f=f.childNodes[0];e(f).text(a)}l||c.prepend(e.FE.START_MARKER).append(e.FE.END_MARKER),c.attr(s),l||t.selection.restore()}else{l?l.wrap('<a href="'+i+'"></a>'):(t.format.remove("a"),t.selection.isCollapsed()?(a=0===a.length?d:a,t.html.insert('<a href="'+i+'">'+e.FE.START_MARKER+a.replace(/&/g,"&amp;").replace(/</,"&lt;",">","&gt;")+e.FE.END_MARKER+"</a>"),t.selection.restore()):a.length>0&&a!=t.selection.text().replace(/\n/g,"")?(t.selection.remove(),t.html.insert('<a href="'+i+'">'+e.FE.START_MARKER+a.replace(/&/g,"&amp;")+e.FE.END_MARKER+"</a>"),t.selection.restore()):(!function(){if(!t.selection.isCollapsed()){t.selection.save();for(var n=t.$el.find(".fr-marker").addClass("fr-unprocessed").toArray();n.length;){var o=e(n.pop());o.removeClass("fr-unprocessed");var r=t.node.deepestParent(o.get(0));if(r){var i=o.get(0),a="",s="";do{i=i.parentNode,t.node.isBlock(i)||(a+=t.node.closeTagString(i),s=t.node.openTagString(i)+s)}while(i!=r);var l=t.node.openTagString(o.get(0))+o.html()+t.node.closeTagString(o.get(0));o.replaceWith('<span id="fr-break"></span>');var d=r.outerHTML;d=(d=d.replace(/<span id="fr-break"><\/span>/g,a+l+s)).replace(s+a,""),r.outerHTML=d}n=t.$el.find(".fr-marker.fr-unprocessed").toArray()}t.html.cleanEmptyTags(),t.selection.restore()}}(),t.format.apply("a",{href:i})));for(var h=o(),u=0;u<h.length;u++)(c=e(h[u])).attr(s),c.removeAttr("_moz_dirty");1==h.length&&t.$wp&&!l&&(e(h[0]).prepend(e.FE.START_MARKER).append(e.FE.END_MARKER),t.selection.restore())}if(l){var g=t.popups.get("link.insert");g&&g.find("input:focus").blur(),t.image.edit(l)}else r()}function p(){a();var o=n();if(o){var r=t.popups.get("link.insert");r||(r=d()),t.popups.isVisible("link.insert")||(t.popups.refresh("link.insert"),t.selection.save(),t.helpers.isMobile()&&(t.events.disableBlur(),t.$el.blur(),t.events.enableBlur())),t.popups.setContainer("link.insert",t.$sc);var i=(t.image?t.image.get():null)||e(o);t.popups.showEl("link.insert",i)}}function f(){var e=t.image?t.image.getEl():null;if(e){var n=t.popups.get("link.insert");t.image.hasCaption()&&(e=e.find(".fr-img-wrap")),n||(n=d()),l(),t.popups.setContainer("link.insert",t.$sc),t.popups.showEl("link.insert",e)}}return{_init:function(){t.events.on("keyup",(function(t){t.which!=e.FE.KEYCODE.ESC&&r(t)})),t.events.on("window.mouseup",r),t.events.$on(t.$el,"click","a",(function(e){t.edit.isDisabled()&&e.preventDefault()})),t.helpers.isMobile()&&t.events.$on(t.$doc,"selectionchange",r),d(!0),"A"==t.el.tagName&&t.$el.addClass("fr-view"),t.events.on("toolbar.esc",(function(){if(t.popups.isVisible("link.edit"))return t.events.disableBlur(),t.events.focus(),!1}),!0)},remove:function(){var o=n(),r=t.image?t.image.get():null;if(!1===t.events.trigger("link.beforeRemove",[o]))return!1;r&&o?(r.unwrap(),t.image.edit(r)):o&&(t.selection.save(),e(o).replaceWith(e(o).html()),t.selection.restore(),a())},showInsertPopup:function(){var n=t.$vtb?t.$vtb.find('[data-cmd="richeditor-toolbar-insertLink"]'):t.$tb.find('.fr-command[data-cmd="insertLink"]');n.is(":visible")||(n=e('[data-cmd="richeditor-toolbar-insertLink"]:first'));var o=t.popups.get("link.insert");o||(o=d()),o.hasClass("fr-active")||(t.popups.refresh("link.insert"),t.popups.setContainer("link.insert",t.$sc),t.popups.showElToolbar("link.insert",n))},usePredefined:function(n){var o,r,i=t.opts.linkList[n],a=t.popups.get("link.insert"),s=a.find('input.fr-link-attr[type="text"]'),l=a.find('input.fr-link-attr[type="checkbox"]');for(r=0;r<s.length;r++)i[(o=e(s[r])).attr("name")]?o.val(i[o.attr("name")]):"text"!=o.attr("name")&&o.val("");for(r=0;r<l.length;r++)(o=e(l[r])).prop("checked",o.data("checked")==i[o.attr("name")]);t.accessibility.focusPopup(a)},insertCallback:function(){var n,o,r=t.popups.get("link.insert"),i=r.find('input.fr-link-attr[type="text"]'),a=r.find('input.fr-link-attr[type="checkbox"]'),s=(i.filter('[name="href"]').val()||"").trim(),l=i.filter('[name="text"]').val(),d={};for(o=0;o<i.length;o++)n=e(i[o]),["href","text"].indexOf(n.attr("name"))<0&&(d[n.attr("name")]=n.val());for(o=0;o<a.length;o++)(n=e(a[o])).is(":checked")?d[n.attr("name")]=n.data("checked"):d[n.attr("name")]=n.data("unchecked")||null;var p=t.helpers.scrollTop();c(s,l,d),e(t.o_win).scrollTop(p)},insert:c,update:p,get:n,allSelected:o,back:function(){(t.image?t.image.get():null)?t.image.back():(t.events.disableBlur(),t.selection.restore(),t.events.enableBlur(),n()&&t.$wp?(t.selection.restore(),a(),r()):"A"==t.el.tagName?(t.$el.focus(),r()):(t.popups.hide("link.insert"),t.toolbar.showInline()))},imageLink:f,applyStyle:function(o,i,a){void 0===a&&(a=t.opts.linkMultipleStyles),void 0===i&&(i=t.opts.linkStyles);var s=n();if(!s)return!1;if(!a){var l=Object.keys(i);l.splice(l.indexOf(o),1),e(s).removeClass(l.join(" "))}e(s).toggleClass(o),r()}}},e.FE.DefineIcon("insertLink",{NAME:"link"}),e.FE.RegisterShortcut(e.FE.KEYCODE.K,"insertLink",null,"K"),e.FE.RegisterCommand("insertLink",{title:"Insert Link",undo:!1,focus:!0,refreshOnCallback:!1,popup:!0,callback:function(){this.popups.isVisible("link.insert")?(this.$el.find(".fr-marker").length&&(this.events.disableBlur(),this.selection.restore()),this.popups.hide("link.insert")):this.link.showInsertPopup()},plugin:"link"}),e.FE.DefineIcon("linkOpen",{NAME:"external-link",FA5NAME:"external-link-alt"}),e.FE.RegisterCommand("linkOpen",{title:"Open Link",undo:!1,refresh:function(e){this.link.get()?e.removeClass("fr-hidden"):e.addClass("fr-hidden")},callback:function(){var e=this.link.get();e&&(-1!==e.href.indexOf("mailto:")?this.o_win.open(e.href).close():oc.pageLookup&&-1!==e.href.indexOf("october://")?this.o_win.open(oc.pageLookup.processLink(e.href),"_blank","noopener"):this.o_win.open(e.href,"_blank","noopener"),this.popups.hide("link.edit"))},plugin:"link"}),e.FE.DefineIcon("linkEdit",{NAME:"edit"}),e.FE.RegisterCommand("linkEdit",{title:"Edit Link",undo:!1,refreshAfterCallback:!1,popup:!0,callback:function(){this.link.update()},refresh:function(e){this.link.get()?e.removeClass("fr-hidden"):e.addClass("fr-hidden")},plugin:"link"}),e.FE.DefineIcon("linkRemove",{NAME:"unlink"}),e.FE.RegisterCommand("linkRemove",{title:"Unlink",callback:function(){this.link.remove()},refresh:function(e){this.link.get()?e.removeClass("fr-hidden"):e.addClass("fr-hidden")},plugin:"link"}),e.FE.DefineIcon("linkBack",{NAME:"arrow-left"}),e.FE.RegisterCommand("linkBack",{title:"Back",undo:!1,focus:!1,back:!0,refreshAfterCallback:!1,callback:function(){this.link.back()},refresh:function(e){var t=this.link.get()&&this.doc.hasFocus();(this.image?this.image.get():null)||t||this.opts.toolbarInline?(e.removeClass("fr-hidden"),e.next(".fr-separator").removeClass("fr-hidden")):(e.addClass("fr-hidden"),e.next(".fr-separator").addClass("fr-hidden"))},plugin:"link"}),e.FE.DefineIcon("linkList",{NAME:"search"}),e.FE.RegisterCommand("linkList",{title:"Choose Link",type:"dropdown",focus:!1,undo:!1,refreshAfterCallback:!1,html:function(){for(var e='<ul class="fr-dropdown-list" role="presentation">',t=this.opts.linkList,n=0;n<t.length;n++)e+='<li role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="linkList" data-param1="'+n+'">'+(t[n].displayText||t[n].text)+"</a></li>";return e+="</ul>"},callback:function(e,t){this.link.usePredefined(t)},plugin:"link"}),e.FE.RegisterCommand("linkInsert",{focus:!1,refreshAfterCallback:!1,callback:function(){this.link.insertCallback()},refresh:function(e){this.link.get()?e.text(this.language.translate("Update")):e.text(this.language.translate("Insert"))},plugin:"link"}),e.FE.DefineIcon("imageLink",{NAME:"link"}),e.FE.RegisterCommand("imageLink",{title:"Insert Link",undo:!1,focus:!1,popup:!0,callback:function(){this.link.imageLink()},refresh:function(e){var t;this.link.get()?((t=e.prev()).hasClass("fr-separator")&&t.removeClass("fr-hidden"),e.addClass("fr-hidden")):((t=e.prev()).hasClass("fr-separator")&&t.addClass("fr-hidden"),e.removeClass("fr-hidden"))},plugin:"link"}),e.FE.DefineIcon("linkStyle",{NAME:"magic"}),e.FE.RegisterCommand("linkStyle",{title:"Style",type:"dropdown",html:function(){var e='<ul class="fr-dropdown-list" role="presentation">',t=this.opts.linkStyles;for(var n in t)t.hasOwnProperty(n)&&(e+='<li role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="linkStyle" data-param1="'+n+'">'+this.language.translate(t[n])+"</a></li>");return e+="</ul>"},callback:function(e,t){this.link.applyStyle(t)},refreshOnShow:function(t,n){var o=this.link.get();if(o){var r=e(o);n.find(".fr-command").each((function(){var t=e(this).data("param1"),n=r.hasClass(t);e(this).toggleClass("fr-active",n).attr("aria-selected",n)}))}},refresh:function(e){this.link.get()?e.removeClass("fr-hidden"):e.addClass("fr-hidden")},plugin:"link"})}(jQuery),function(e){e.extend(e.FE.POPUP_TEMPLATES,{"table.insert":"[_BUTTONS_][_ROWS_COLUMNS_]","table.edit":"[_BUTTONS_]","table.colors":"[_BUTTONS_][_COLORS_][_CUSTOM_COLOR_]"}),e.extend(e.FE.DEFAULTS,{tableInsertMaxSize:10,tableEditButtons:["tableHeader","tableRemove","|","tableRows","tableColumns","tableStyle","-","tableCells","tableCellBackground","tableCellVerticalAlign","tableCellHorizontalAlign","tableCellStyle"],tableInsertButtons:["tableBack","|"],tableResizer:!0,tableDefaultWidth:"100%",tableResizerOffset:5,tableResizingLimit:30,tableColorsButtons:["tableBack","|"],tableColors:["#61BD6D","#1ABC9C","#54ACD2","#2C82C9","#9365B8","#475577","#CCCCCC","#41A85F","#00A885","#3D8EB9","#2969B0","#553982","#28324E","#000000","#F7DA64","#FBA026","#EB6B56","#E25041","#A38F84","#EFEFEF","#FFFFFF","#FAC51C","#F37934","#D14841","#B8312F","#7C706B","#D1D5D8","REMOVE"],tableColorsStep:7,tableCellStyles:{"fr-highlighted":"Highlighted","fr-thick":"Thick"},tableStyles:{"fr-dashed-borders":"Dashed Borders","fr-alternate-rows":"Alternate Rows"},tableCellMultipleStyles:!0,tableMultipleStyles:!0,tableInsertHelper:!0,tableInsertHelperOffset:15}),e.FE.PLUGINS.table=function(t){var n,o,r,i,a,s,l;function d(){var e=_();if(e){var n=t.popups.get("table.edit");if(n||(n=g()),n){t.popups.setContainer("table.edit",t.$sc);var o=O(e),r=(o.left+o.right)/2,i=o.bottom;t.popups.show("table.edit",r,i,o.bottom-o.top),t.edit.isDisabled()&&(te().length>1&&t.toolbar.disable(),t.$el.removeClass("fr-no-selection"),t.edit.on(),t.button.bulkRefresh(),t.selection.setAtEnd(t.$el.find(".fr-selected-cell:last").get(0)),t.selection.restore())}}}function c(){var n=_();if(n){var o=t.popups.get("table.colors");o||(o=function(){var n="";t.opts.tableColorsButtons.length>0&&(n='<div class="fr-buttons fr-table-colors-buttons">'+t.button.buildList(t.opts.tableColorsButtons)+"</div>");var o="";t.opts.colorsHEXInput&&(o='<div class="fr-table-colors-hex-layer fr-active fr-layer" id="fr-table-colors-hex-layer-'+t.id+'"><div class="fr-input-line"><input maxlength="7" id="fr-table-colors-hex-layer-text-'+t.id+'" type="text" placeholder="'+t.language.translate("HEX Color")+'" tabIndex="1" aria-required="true"></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-submit" data-cmd="tableCellBackgroundCustomColor" tabIndex="2" role="button">'+t.language.translate("OK")+"</button></div></div>");var r={buttons:n,colors:m(),custom_color:o},i=t.popups.create("table.colors",r);return t.events.$on(t.$wp,"scroll.table-colors",(function(){t.popups.isVisible("table.colors")&&c()})),function(n){t.events.on("popup.tab",(function(o){var r=e(o.currentTarget);if(!t.popups.isVisible("table.colors")||!r.is("span"))return!0;var i=o.which,a=!0;if(e.FE.KEYCODE.TAB==i){var s=n.find(".fr-buttons");a=!t.accessibility.focusToolbar(s,!!o.shiftKey)}else if(e.FE.KEYCODE.ARROW_UP==i||e.FE.KEYCODE.ARROW_DOWN==i||e.FE.KEYCODE.ARROW_LEFT==i||e.FE.KEYCODE.ARROW_RIGHT==i){var l=r.parent().find("span.fr-command"),d=l.index(r),c=t.opts.colorsStep,p=Math.floor(l.length/c),f=d%c,h=Math.floor(d/c)*c+f,u=p*c;e.FE.KEYCODE.ARROW_UP==i?h=((h-c)%u+u)%u:e.FE.KEYCODE.ARROW_DOWN==i?h=(h+c)%u:e.FE.KEYCODE.ARROW_LEFT==i?h=((h-1)%u+u)%u:e.FE.KEYCODE.ARROW_RIGHT==i&&(h=(h+1)%u);var g=e(l.get(h));t.events.disableBlur(),g.focus(),a=!1}else e.FE.KEYCODE.ENTER==i&&(t.button.exec(r),a=!1);return!1===a&&(o.preventDefault(),o.stopPropagation()),a}),!0)}(i),i}()),t.popups.setContainer("table.colors",t.$sc);var r=O(n),i=(r.left+r.right)/2,a=r.bottom;!function(){var e=t.popups.get("table.colors"),n=t.$el.find(".fr-selected-cell:first"),o=t.helpers.RGBToHex(n.css("background-color")),r=e.find(".fr-table-colors-hex-layer input");e.find(".fr-selected-color").removeClass("fr-selected-color fr-active-item"),e.find('span[data-param1="'+o+'"]').addClass("fr-selected-color fr-active-item"),r.val(o).trigger("change")}(),t.popups.show("table.colors",i,a,r.bottom-r.top)}}function p(){0===te().length&&t.toolbar.enable()}function f(n){if(n)return t.popups.onHide("table.insert",(function(){t.popups.get("table.insert").find('.fr-table-size .fr-select-table-size > span[data-row="1"][data-col="1"]').trigger("mouseenter")})),!0;var o="";t.opts.tableInsertButtons.length>0&&(o='<div class="fr-buttons">'+t.button.buildList(t.opts.tableInsertButtons)+"</div>");var r={buttons:o,rows_columns:u()},i=t.popups.create("table.insert",r);return t.events.$on(i,"mouseenter",".fr-table-size .fr-select-table-size .fr-table-cell",(function(t){h(e(t.currentTarget))}),!0),function(n){t.events.$on(n,"focus","[tabIndex]",(function(t){h(e(t.currentTarget))})),t.events.on("popup.tab",(function(n){var o=e(n.currentTarget);if(!t.popups.isVisible("table.insert")||!o.is("span, a"))return!0;var r,i=n.which;if(e.FE.KEYCODE.ARROW_UP==i||e.FE.KEYCODE.ARROW_DOWN==i||e.FE.KEYCODE.ARROW_LEFT==i||e.FE.KEYCODE.ARROW_RIGHT==i){if(o.is("span.fr-table-cell")){var a=o.parent().find("span.fr-table-cell"),s=a.index(o),l=t.opts.tableInsertMaxSize,d=s%l,c=Math.floor(s/l);e.FE.KEYCODE.ARROW_UP==i?c=Math.max(0,c-1):e.FE.KEYCODE.ARROW_DOWN==i?c=Math.min(t.opts.tableInsertMaxSize-1,c+1):e.FE.KEYCODE.ARROW_LEFT==i?d=Math.max(0,d-1):e.FE.KEYCODE.ARROW_RIGHT==i&&(d=Math.min(t.opts.tableInsertMaxSize-1,d+1));var p=c*l+d,f=e(a.get(p));h(f),t.events.disableBlur(),f.focus(),r=!1}}else e.FE.KEYCODE.ENTER==i&&(t.button.exec(o),r=!1);return!1===r&&(n.preventDefault(),n.stopPropagation()),r}),!0)}(i),i}function h(e){var n=e.data("row"),o=e.data("col"),r=e.parent();r.siblings(".fr-table-size-info").html(n+" &times; "+o),r.find("> span").removeClass("hover fr-active-item");for(var i=1;i<=t.opts.tableInsertMaxSize;i++)for(var a=0;a<=t.opts.tableInsertMaxSize;a++){var s=r.find('> span[data-row="'+i+'"][data-col="'+a+'"]');i<=n&&a<=o?s.addClass("hover"):i<=n+1||i<=2&&!t.helpers.isMobile()?s.css("display","inline-block"):i>2&&!t.helpers.isMobile()&&s.css("display","none")}e.addClass("fr-active-item")}function u(){for(var e='<div class="fr-table-size"><div class="fr-table-size-info">1 &times; 1</div><div class="fr-select-table-size">',n=1;n<=t.opts.tableInsertMaxSize;n++){for(var o=1;o<=t.opts.tableInsertMaxSize;o++){var r="inline-block";n>2&&!t.helpers.isMobile()&&(r="none");var i="fr-table-cell ";1==n&&1==o&&(i+=" hover"),e+='<span class="fr-command '+i+'" tabIndex="-1" data-cmd="tableInsert" data-row="'+n+'" data-col="'+o+'" data-param1="'+n+'" data-param2="'+o+'" style="display: '+r+';" role="button"><span></span><span class="fr-sr-only">'+n+" &times; "+o+"&nbsp;&nbsp;&nbsp;</span></span>"}e+='<div class="new-line"></div>'}return e+="</div></div>"}function g(e){if(e)return t.popups.onHide("table.edit",p),!0;if(t.opts.tableEditButtons.length>0){var n={buttons:'<div class="fr-buttons">'+t.button.buildList(t.opts.tableEditButtons)+"</div>"},o=t.popups.create("table.edit",n);return t.events.$on(t.$wp,"scroll.table-edit",(function(){t.popups.isVisible("table.edit")&&d()})),o}return!1}function m(){for(var e='<div class="fr-table-colors">',n=0;n<t.opts.tableColors.length;n++)0!==n&&n%t.opts.tableColorsStep==0&&(e+="<br>"),"REMOVE"!=t.opts.tableColors[n]?e+='<span class="fr-command" style="background: '+t.opts.tableColors[n]+';" tabIndex="-1" role="button" data-cmd="tableCellBackgroundColor" data-param1="'+t.opts.tableColors[n]+'"><span class="fr-sr-only">'+t.language.translate("Color")+" "+t.opts.tableColors[n]+"&nbsp;&nbsp;&nbsp;</span></span>":e+='<span class="fr-command" data-cmd="tableCellBackgroundColor" tabIndex="-1" role="button" data-param1="REMOVE" title="'+t.language.translate("Clear Formatting")+'">'+t.icon.create("tableColorRemove")+'<span class="fr-sr-only">'+t.language.translate("Clear Formatting")+"</span></span>";return e+="</div>"}function v(){if(te().length>0){var e=ne();t.selection.setBefore(e.get(0))||t.selection.setAfter(e.get(0)),t.selection.restore(),t.popups.hide("table.edit"),e.remove(),t.toolbar.enable()}}function b(n){var o=ne();if(o.length>0){if(t.$el.find("th.fr-selected-cell").length>0&&"above"==n)return;var r,i,a,s=_(),l=R(s);i="above"==n?l.min_i:l.max_i;var c="<tr>";for(r=0;r<s[i].length;r++)if("below"==n&&i<s.length-1&&s[i][r]==s[i+1][r]||"above"==n&&i>0&&s[i][r]==s[i-1][r]){if(0===r||r>0&&s[i][r]!=s[i][r-1]){var p=e(s[i][r]);p.attr("rowspan",parseInt(p.attr("rowspan"),10)+1)}}else c+="<td><br></td>";c+="</tr>",a=t.$el.find("th.fr-selected-cell").length>0&&"below"==n?e(o.find("tbody").not(o.find("table tbody"))):e(o.find("tr").not(o.find("table tr")).get(i)),"below"==n?"TBODY"==a.prop("tagName")?a.prepend(c):a.after(c):"above"==n&&(a.before(c),t.popups.isVisible("table.edit")&&d())}}function E(e,t,n){var o,r,i,a,s,l=0,d=_(n);if((t=Math.min(t,d[0].length-1))>e)for(r=e;r<=t;r++)if(!(r>e&&d[0][r]==d[0][r-1])&&(a=Math.min(parseInt(d[0][r].getAttribute("colspan"),10)||1,t-e+1))>1&&d[0][r]==d[0][r+1])for(l=a-1,o=1;o<d.length;o++)if(d[o][r]!=d[o-1][r]){for(i=r;i<r+a;i++)if((s=parseInt(d[o][i].getAttribute("colspan"),10)||1)>1&&d[o][i]==d[o][i+1])i+=l=Math.min(l,s-1);else if(!(l=Math.max(0,l-1)))break;if(!l)break}l&&w(d,l,"colspan",0,d.length-1,e,t)}function y(e,t,n){var o,r,i,a,s,l=0,d=_(n);if((t=Math.min(t,d.length-1))>e)for(o=e;o<=t;o++)if(!(o>e&&d[o][0]==d[o-1][0])&&(a=Math.min(parseInt(d[o][0].getAttribute("rowspan"),10)||1,t-e+1))>1&&d[o][0]==d[o+1][0])for(l=a-1,r=1;r<d[0].length;r++)if(d[o][r]!=d[o][r-1]){for(i=o;i<o+a;i++)if((s=parseInt(d[i][r].getAttribute("rowspan"),10)||1)>1&&d[i][r]==d[i+1][r])i+=l=Math.min(l,s-1);else if(!(l=Math.max(0,l-1)))break;if(!l)break}l&&w(d,l,"rowspan",e,t,0,d[0].length-1)}function w(e,t,n,o,r,i,a){var s,l,d;for(s=o;s<=r;s++)for(l=i;l<=a;l++)s>o&&e[s][l]==e[s-1][l]||l>i&&e[s][l]==e[s][l-1]||(d=parseInt(e[s][l].getAttribute(n),10)||1)>1&&(d-t>1?e[s][l].setAttribute(n,d-t):e[s][l].removeAttribute(n))}function S(e,t,n,o,r){y(e,t,r),E(n,o,r)}function C(e){var n=t.$el.find(".fr-selected-cell");"REMOVE"!=e?n.css("background-color",t.helpers.HEXtoRGB(e)):n.css("background-color",""),d()}function _(t){var n=[];return null==(t=t||null)&&te().length>0&&(t=ne()),t&&t.find("tr:visible").not(t.find("table tr")).each((function(t,o){var r=e(o),i=0;r.find("> th, > td").each((function(o,r){for(var a=e(r),s=parseInt(a.attr("colspan"),10)||1,l=parseInt(a.attr("rowspan"),10)||1,d=t;d<t+l;d++)for(var c=i;c<i+s;c++)n[d]||(n[d]=[]),n[d][c]?i++:n[d][c]=r;i+=s}))})),n}function T(e,t){for(var n=0;n<t.length;n++)for(var o=0;o<t[n].length;o++)if(t[n][o]==e)return{row:n,col:o}}function k(e,t,n){for(var o=e+1,r=t+1;o<n.length;){if(n[o][t]!=n[e][t]){o--;break}o++}for(o==n.length&&o--;r<n[e].length;){if(n[e][r]!=n[e][t]){r--;break}r++}return r==n[e].length&&r--,{row:o,col:r}}function A(){t.el.querySelector(".fr-cell-fixed")&&t.el.querySelector(".fr-cell-fixed").classList.remove("fr-cell-fixed"),t.el.querySelector(".fr-cell-handler")&&t.el.querySelector(".fr-cell-handler").classList.remove("fr-cell-handler")}function x(){var n=t.$el.find(".fr-selected-cell");n.length>0&&n.each((function(){var t=e(this);t.removeClass("fr-selected-cell"),""===t.attr("class")&&t.removeAttr("class")})),A()}function N(){t.events.disableBlur(),t.selection.clear(),t.$el.addClass("fr-no-selection"),t.$el.blur(),t.events.enableBlur()}function R(e){var n=t.$el.find(".fr-selected-cell");if(n.length>0){var o,r=e.length,i=0,a=e[0].length,s=0;for(o=0;o<n.length;o++){var l=T(n[o],e),d=k(l.row,l.col,e);r=Math.min(l.row,r),i=Math.max(d.row,i),a=Math.min(l.col,a),s=Math.max(d.col,s)}return{min_i:r,max_i:i,min_j:a,max_j:s}}return null}function F(t,n,o,r,i){var a,s,l,d,c=t,p=n,f=o,h=r;for(a=c;a<=p;a++)((parseInt(e(i[a][f]).attr("rowspan"),10)||1)>1||(parseInt(e(i[a][f]).attr("colspan"),10)||1)>1)&&(d=k((l=T(i[a][f],i)).row,l.col,i),c=Math.min(l.row,c),p=Math.max(d.row,p),f=Math.min(l.col,f),h=Math.max(d.col,h)),((parseInt(e(i[a][h]).attr("rowspan"),10)||1)>1||(parseInt(e(i[a][h]).attr("colspan"),10)||1)>1)&&(d=k((l=T(i[a][h],i)).row,l.col,i),c=Math.min(l.row,c),p=Math.max(d.row,p),f=Math.min(l.col,f),h=Math.max(d.col,h));for(s=f;s<=h;s++)((parseInt(e(i[c][s]).attr("rowspan"),10)||1)>1||(parseInt(e(i[c][s]).attr("colspan"),10)||1)>1)&&(d=k((l=T(i[c][s],i)).row,l.col,i),c=Math.min(l.row,c),p=Math.max(d.row,p),f=Math.min(l.col,f),h=Math.max(d.col,h)),((parseInt(e(i[p][s]).attr("rowspan"),10)||1)>1||(parseInt(e(i[p][s]).attr("colspan"),10)||1)>1)&&(d=k((l=T(i[p][s],i)).row,l.col,i),c=Math.min(l.row,c),p=Math.max(d.row,p),f=Math.min(l.col,f),h=Math.max(d.col,h));return c==t&&p==n&&f==o&&h==r?{min_i:t,max_i:n,min_j:o,max_j:r}:F(c,p,f,h,i)}function O(t){var n=R(t),o=e(t[n.min_i][n.min_j]),r=e(t[n.min_i][n.max_j]),i=e(t[n.max_i][n.min_j]);return{left:o.offset().left,right:r.offset().left+r.outerWidth(),top:o.offset().top,bottom:i.offset().top+i.outerHeight()}}function D(n,o){if(e(n).is(o))x(),e(n).addClass("fr-selected-cell");else{N(),t.edit.off();var r=_(),i=T(n,r),a=T(o,r),s=F(Math.min(i.row,a.row),Math.max(i.row,a.row),Math.min(i.col,a.col),Math.max(i.col,a.col),r);x(),n.classList.add("fr-cell-fixed"),o.classList.add("fr-cell-handler");for(var l=s.min_i;l<=s.max_i;l++)for(var d=s.min_j;d<=s.max_j;d++)e(r[l][d]).addClass("fr-selected-cell")}}function $(n){var o=null,r=e(n.target);return"TD"==n.target.tagName||"TH"==n.target.tagName?o=n.target:r.closest("td").length>0?o=r.closest("td").get(0):r.closest("th").length>0&&(o=r.closest("th").get(0)),0===t.$el.find(o).length?null:o}function L(){x(),t.popups.hide("table.edit")}function M(n){var o=$(n);if("false"==e(o).parents("[contenteditable]:not(.fr-element):not(.fr-img-caption):not(body):first").attr("contenteditable"))return!0;if(te().length>0&&!o&&L(),t.popups.hideAll(["table.edit"]),!t.edit.isDisabled()||t.popups.isVisible("table.edit"))if(1!=n.which||1==n.which&&t.helpers.isMac()&&n.ctrlKey)(3==n.which||1==n.which&&t.helpers.isMac()&&n.ctrlKey)&&o&&L();else if(i=!0,o){te().length>0&&!n.shiftKey&&L(),n.stopPropagation(),t.events.trigger("image.hideResizer"),t.events.trigger("video.hideResizer"),r=!0;var s=o.tagName.toLowerCase();n.shiftKey&&t.$el.find(s+".fr-selected-cell").length>0?e(t.$el.find(s+".fr-selected-cell").closest("table")).is(e(o).closest("table"))?D(a,o):N():((t.keys.ctrlKey(n)||n.shiftKey)&&(te().length>1||0===e(o).find(t.selection.element()).length&&!e(o).is(t.selection.element()))&&N(),a=o,t.opts.tableEditButtons.length>0&&D(a,a))}}function I(o){if(t.popups.areVisible())return!0;if(r||t.$tb.is(o.target)||t.$tb.is(e(o.target).closest(t.$tb.get(0)))||(te().length>0&&t.toolbar.enable(),x()),!(1!=o.which||1==o.which&&t.helpers.isMac()&&o.ctrlKey)){if(i=!1,r)r=!1,$(o)||1!=te().length?te().length>0&&(t.selection.isCollapsed()?d():x()):x();if(l){l=!1,n.removeClass("fr-moving"),t.$el.removeClass("fr-no-selection"),t.edit.on();var a=parseFloat(n.css("left"))+t.opts.tableResizerOffset+t.$wp.offset().left;t.opts.iframe&&(a-=t.$iframe.offset().left),n.data("release-position",a),n.removeData("max-left"),n.removeData("max-right"),function(){var o=n.data("origin"),r=n.data("release-position");if(o!==r){var i=n.data("first"),a=n.data("second"),s=n.data("table"),l=s.outerWidth();if(t.undo.canDo()||t.undo.saveStep(),null!==i&&null!==a){var d,c,p,f=_(s),h=[],u=[],g=[],m=[];for(d=0;d<f.length;d++)c=e(f[d][i]),p=e(f[d][a]),h[d]=c.outerWidth(),g[d]=p.outerWidth(),u[d]=h[d]/l*100,m[d]=g[d]/l*100;for(d=0;d<f.length;d++)if(c=e(f[d][i]),p=e(f[d][a]),f[d][i]!=f[d][a]){var v=(u[d]*(h[d]+r-o)/h[d]).toFixed(4);c.css("width",v+"%"),p.css("width",(u[d]+m[d]-v).toFixed(4)+"%")}}else{var b,E=s.parent(),y=l/E.width()*100,w=(parseInt(s.css("margin-left"),10)||0)/E.width()*100,S=(parseInt(s.css("margin-right"),10)||0)/E.width()*100;"rtl"==t.opts.direction&&0===a||"rtl"!=t.opts.direction&&0!==a?(b=(l+r-o)/l*y,s.css("margin-right","calc(100% - "+Math.round(b).toFixed(4)+"% - "+Math.round(w).toFixed(4)+"%)")):("rtl"==t.opts.direction&&0!==a||"rtl"!=t.opts.direction&&0===a)&&(b=(l-r+o)/l*y,s.css("margin-left","calc(100% - "+Math.round(b).toFixed(4)+"% - "+Math.round(S).toFixed(4)+"%)")),s.css("width",Math.round(b).toFixed(4)+"%")}t.selection.restore(),t.undo.saveStep(),t.events.trigger("table.resized",[s.get(0)])}n.removeData("origin"),n.removeData("release-position"),n.removeData("first"),n.removeData("second"),n.removeData("table")}(),H()}}}function B(n){if(!0===r&&t.opts.tableEditButtons.length>0){if(e(n.currentTarget).closest("table").is(ne())){if("TD"==n.currentTarget.tagName&&0===t.$el.find("th.fr-selected-cell").length)return void D(a,n.currentTarget);if("TH"==n.currentTarget.tagName&&0===t.$el.find("td.fr-selected-cell").length)return void D(a,n.currentTarget)}N()}}function P(n,o,r,i){for(var a,s=o;s!=t.el&&"TD"!=s.tagName&&"TH"!=s.tagName&&("up"==i?a=s.previousElementSibling:"down"==i&&(a=s.nextElementSibling),!a);)s=s.parentNode;"TD"==s.tagName||"TH"==s.tagName?function(n,o){for(var r=n;r&&"TABLE"!=r.tagName&&r.parentNode!=t.el;)r=r.parentNode;if(r&&"TABLE"==r.tagName){var i=_(e(r));"up"==o?K(T(n,i),r,i):"down"==o&&U(T(n,i),r,i)}}(s,i):a&&("up"==i&&t.selection.setAtEnd(a),"down"==i&&t.selection.setAtStart(a))}function K(e,n,o){e.row>0?t.selection.setAtEnd(o[e.row-1][e.col]):P(0,n,0,"up")}function U(e,n,o){var r=parseInt(o[e.row][e.col].getAttribute("rowspan"),10)||1;e.row<o.length-r?t.selection.setAtStart(o[e.row+r][e.col]):P(0,n,0,"down")}function H(){n&&(n.find("div").css("opacity",0),n.css("top",0),n.css("left",0),n.css("height",0),n.find("div").css("height",0),n.hide())}function z(){o&&o.removeClass("fr-visible").css("left","-9999px")}function W(o,r){var i=e(r),a=i.closest("table"),s=a.parent();if(r&&"TD"!=r.tagName&&"TH"!=r.tagName&&(i.closest("td").length>0?r=i.closest("td"):i.closest("th").length>0&&(r=i.closest("th"))),!r||"TD"!=r.tagName&&"TH"!=r.tagName)n&&i.get(0)!=n.get(0)&&i.parent().get(0)!=n.get(0)&&t.core.sameInstance(n)&&H();else{if(i=e(r),0===t.$el.find(i).length)return!1;var d=i.offset().left-1,c=d+i.outerWidth();if(Math.abs(o.pageX-d)<=t.opts.tableResizerOffset||Math.abs(c-o.pageX)<=t.opts.tableResizerOffset){var p,f,h,u,g,m=_(a),v=T(r,m),b=k(v.row,v.col,m),E=a.offset().top,y=a.outerHeight()-1;"rtl"!=t.opts.direction?o.pageX-d<=t.opts.tableResizerOffset?(h=d,v.col>0?(u=d-j(v.col-1,m)+t.opts.tableResizingLimit,g=d+j(v.col,m)-t.opts.tableResizingLimit,p=v.col-1,f=v.col):(p=null,f=0,u=a.offset().left-1-parseInt(a.css("margin-left"),10),g=a.offset().left-1+a.width()-m[0].length*t.opts.tableResizingLimit)):c-o.pageX<=t.opts.tableResizerOffset&&(h=c,b.col<m[b.row].length&&m[b.row][b.col+1]?(u=c-j(b.col,m)+t.opts.tableResizingLimit,g=c+j(b.col+1,m)-t.opts.tableResizingLimit,p=b.col,f=b.col+1):(p=b.col,f=null,u=a.offset().left-1+m[0].length*t.opts.tableResizingLimit,g=s.offset().left-1+s.width()+parseFloat(s.css("padding-left")))):c-o.pageX<=t.opts.tableResizerOffset?(h=c,v.col>0?(u=c-j(v.col,m)+t.opts.tableResizingLimit,g=c+j(v.col-1,m)-t.opts.tableResizingLimit,p=v.col,f=v.col-1):(p=null,f=0,u=a.offset().left+m[0].length*t.opts.tableResizingLimit,g=s.offset().left-1+s.width()+parseFloat(s.css("padding-left")))):o.pageX-d<=t.opts.tableResizerOffset&&(h=d,b.col<m[b.row].length&&m[b.row][b.col+1]?(u=d-j(b.col+1,m)+t.opts.tableResizingLimit,g=d+j(b.col,m)-t.opts.tableResizingLimit,p=b.col+1,f=b.col):(p=b.col,f=null,u=s.offset().left+parseFloat(s.css("padding-left")),g=a.offset().left-1+a.width()-m[0].length*t.opts.tableResizingLimit)),n||(t.shared.$table_resizer||(t.shared.$table_resizer=e('<div class="fr-table-resizer"><div></div></div>')),n=t.shared.$table_resizer,t.events.$on(n,"mousedown",(function(e){return!t.core.sameInstance(n)||(te().length>0&&L(),1==e.which?(t.selection.save(),l=!0,n.addClass("fr-moving"),N(),t.edit.off(),n.find("div").css("opacity",1),!1):void 0)})),t.events.$on(n,"mousemove",(function(e){if(!t.core.sameInstance(n))return!0;l&&(t.opts.iframe&&(e.pageX-=t.$iframe.offset().left),Q(e))})),t.events.on("shared.destroy",(function(){n.html("").removeData().remove(),n=null}),!0),t.events.on("destroy",(function(){t.$el.find(".fr-selected-cell").removeClass("fr-selected-cell"),n.hide().appendTo(e("body:first"))}),!0)),n.data("table",a),n.data("first",p),n.data("second",f),n.data("instance",t),t.$wp.append(n);var w=h-t.win.pageXOffset-t.opts.tableResizerOffset-t.$wp.offset().left,S=E-t.$wp.offset().top+t.$wp.scrollTop();t.opts.iframe&&(w+=t.$iframe.offset().left,S+=t.$iframe.offset().top,u+=t.$iframe.offset().left,g+=t.$iframe.offset().left),n.data("max-left",u),n.data("max-right",g),n.data("origin",h-t.win.pageXOffset),n.css("top",S),n.css("left",w),n.css("height",y),n.find("div").css("height",y),n.css("padding-left",t.opts.tableResizerOffset),n.css("padding-right",t.opts.tableResizerOffset),n.show()}else t.core.sameInstance(n)&&H()}}function V(n,r){if(t.$box.find(".fr-line-breaker").is(":visible"))return!1;o||J(),t.$box.append(o),o.data("instance",t);var i,a=e(r).find("tr:first"),s=n.pageX,l=0,d=0;t.opts.iframe&&(l+=t.$iframe.offset().left-t.helpers.scrollLeft(),d+=t.$iframe.offset().top-t.helpers.scrollTop()),a.find("th, td").each((function(){var n=e(this);return n.offset().left<=s&&s<n.offset().left+n.outerWidth()/2?(i=parseInt(o.find("a").css("width"),10),o.css("top",d+n.offset().top-t.$box.offset().top-i-5),o.css("left",l+n.offset().left-t.$box.offset().left-i/2),o.data("selected-cell",n),o.data("position","before"),o.addClass("fr-visible"),!1):n.offset().left+n.outerWidth()/2<=s&&s<n.offset().left+n.outerWidth()?(i=parseInt(o.find("a").css("width"),10),o.css("top",d+n.offset().top-t.$box.offset().top-i-5),o.css("left",l+n.offset().left-t.$box.offset().left+n.outerWidth()-i/2),o.data("selected-cell",n),o.data("position","after"),o.addClass("fr-visible"),!1):void 0}))}function Y(n,r){if(t.$box.find(".fr-line-breaker").is(":visible"))return!1;o||J(),t.$box.append(o),o.data("instance",t);var i,a=e(r),s=n.pageY,l=0,d=0;t.opts.iframe&&(l+=t.$iframe.offset().left-t.helpers.scrollLeft(),d+=t.$iframe.offset().top-t.helpers.scrollTop()),a.find("tr").each((function(){var n=e(this);return n.offset().top<=s&&s<n.offset().top+n.outerHeight()/2?(i=parseInt(o.find("a").css("width"),10),o.css("top",d+n.offset().top-t.$box.offset().top-i/2),o.css("left",l+n.offset().left-t.$box.offset().left-i-5),o.data("selected-cell",n.find("td:first")),o.data("position","above"),o.addClass("fr-visible"),!1):n.offset().top+n.outerHeight()/2<=s&&s<n.offset().top+n.outerHeight()?(i=parseInt(o.find("a").css("width"),10),o.css("top",d+n.offset().top-t.$box.offset().top+n.outerHeight()-i/2),o.css("left",l+n.offset().left-t.$box.offset().left-i-5),o.data("selected-cell",n.find("td:first")),o.data("position","below"),o.addClass("fr-visible"),!1):void 0}))}function q(n){s=null;var r=t.doc.elementFromPoint(n.pageX-t.win.pageXOffset,n.pageY-t.win.pageYOffset);t.opts.tableResizer&&(!t.popups.areVisible()||t.popups.areVisible()&&t.popups.isVisible("table.edit"))&&W(n,r),!t.opts.tableInsertHelper||t.popups.areVisible()||t.$tb.hasClass("fr-inline")&&t.$tb.is(":visible")||function(n,r){if(0===te().length){var i,a,s;if(r&&("HTML"==r.tagName||"BODY"==r.tagName||t.node.isElement(r)))for(i=1;i<=t.opts.tableInsertHelperOffset;i++){if(a=t.doc.elementFromPoint(n.pageX-t.win.pageXOffset,n.pageY-t.win.pageYOffset+i),e(a).hasClass("fr-tooltip"))return!0;if(a&&("TH"==a.tagName||"TD"==a.tagName||"TABLE"==a.tagName)&&(e(a).parents(".fr-wrapper").length||t.opts.iframe))return V(n,e(a).closest("table")),!0;if(s=t.doc.elementFromPoint(n.pageX-t.win.pageXOffset+i,n.pageY-t.win.pageYOffset),e(s).hasClass("fr-tooltip"))return!0;if(s&&("TH"==s.tagName||"TD"==s.tagName||"TABLE"==s.tagName)&&(e(s).parents(".fr-wrapper").length||t.opts.iframe))return Y(n,e(s).closest("table")),!0}t.core.sameInstance(o)&&z()}}(n,r)}function X(){if(l){var e=n.data("table").offset().top-t.win.pageYOffset;t.opts.iframe&&(e+=t.$iframe.offset().top-t.helpers.scrollTop()),n.css("top",e)}}function j(t,n){var o,r=e(n[0][t]).outerWidth();for(o=1;o<n.length;o++)r=Math.min(r,e(n[o][t]).outerWidth());return r}function G(e,t,n){var o,r=0;for(o=e;o<=t;o++)r+=j(o,n);return r}function Q(e){if(te().length>1&&i&&N(),!1===i&&!1===r&&!1===l)s&&clearTimeout(s),t.edit.isDisabled()&&!t.popups.isVisible("table.edit")||(s=setTimeout(q,30,e));else if(l){var o=e.pageX-t.win.pageXOffset;t.opts.iframe&&(o+=t.$iframe.offset().left);var a=n.data("max-left"),d=n.data("max-right");o>=a&&o<=d?n.css("left",o-t.opts.tableResizerOffset-t.$wp.offset().left):o<a&&parseFloat(n.css("left"),10)>a-t.opts.tableResizerOffset?n.css("left",a-t.opts.tableResizerOffset-t.$wp.offset().left):o>d&&parseFloat(n.css("left"),10)<d-t.opts.tableResizerOffset&&n.css("left",d-t.opts.tableResizerOffset-t.$wp.offset().left)}else i&&z()}function Z(n){t.node.isEmpty(n.get(0))?n.prepend(e.FE.MARKERS):n.prepend(e.FE.START_MARKER).append(e.FE.END_MARKER)}function J(){t.shared.$ti_helper||(t.shared.$ti_helper=e('<div class="fr-insert-helper"><a class="fr-floating-btn" role="button" tabIndex="-1" title="'+t.language.translate("Insert")+'"><svg viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><path d="M22,16.75 L16.75,16.75 L16.75,22 L15.25,22.000 L15.25,16.75 L10,16.75 L10,15.25 L15.25,15.25 L15.25,10 L16.75,10 L16.75,15.25 L22,15.25 L22,16.75 Z"/></svg></a></div>'),t.events.bindClick(t.shared.$ti_helper,"a",(function(){var e=o.data("selected-cell"),n=o.data("position"),r=o.data("instance")||t;"before"==n||"after"==n?(t.undo.saveStep(),e.addClass("fr-selected-cell"),r.table.insertColumn(n),e.removeClass("fr-selected-cell"),t.undo.saveStep()):("above"==n||"below"==n)&&(t.undo.saveStep(),e.addClass("fr-selected-cell"),r.table.insertRow(n),e.removeClass("fr-selected-cell"),t.undo.saveStep()),z()})),t.events.on("shared.destroy",(function(){t.shared.$ti_helper.html("").removeData().remove(),t.shared.$ti_helper=null}),!0),t.events.$on(t.shared.$ti_helper,"mousemove",(function(e){e.stopPropagation()}),!0),t.events.$on(e(t.o_win),"scroll",(function(){z()}),!0),t.events.$on(t.$wp,"scroll",(function(){z()}),!0)),o=t.shared.$ti_helper,t.events.on("destroy",(function(){o=null})),t.tooltip.bind(t.$box,".fr-insert-helper > a.fr-floating-btn")}function ee(){a=null,clearTimeout(s)}function te(){return t.el.querySelectorAll(".fr-selected-cell")}function ne(){var n=te();if(n.length){for(var o=n[0];o&&"TABLE"!=o.tagName&&o.parentNode!=t.el;)o=o.parentNode;return o&&"TABLE"==o.tagName?e(o):e([])}return e([])}return{_init:function(){if(!t.$wp)return!1;if(!t.helpers.isMobile()){i=!1,r=!1,l=!1,t.events.$on(t.$el,"mousedown",M),t.popups.onShow("image.edit",(function(){x(),i=!1,r=!1})),t.popups.onShow("link.edit",(function(){x(),i=!1,r=!1})),t.events.on("commands.mousedown",(function(e){e.parents(".fr-toolbar").length>0&&x()})),t.events.$on(t.$el,"mouseenter","th, td",B),t.events.$on(t.$win,"mouseup",I),t.opts.iframe&&t.events.$on(e(t.o_win),"mouseup",I),t.events.$on(t.$win,"mousemove",Q),t.events.$on(e(t.o_win),"scroll",X),t.events.on("contentChanged",(function(){te().length>0&&(d(),t.$el.find("img").on("load.selected-cells",(function(){e(this).off("load.selected-cells"),te().length>0&&d()})))})),t.events.$on(e(t.o_win),"resize",(function(){x()})),t.events.on("toolbar.esc",(function(){if(te().length>0)return t.events.disableBlur(),t.events.focus(),!1}),!0),t.events.$on(e(t.o_win),"keydown",(function(){i&&r&&(i=!1,r=!1,t.$el.removeClass("fr-no-selection"),t.edit.on(),t.selection.setAtEnd(t.$el.find(".fr-selected-cell:last").get(0)),t.selection.restore(),x())})),t.events.$on(t.$el,"keydown",(function(n){n.shiftKey?!1===function(n){var o=te();if(o.length>0){var r,i,a=_(),s=n.which;1==o.length?i=r=o[0]:(r=t.el.querySelector(".fr-cell-fixed"),i=t.el.querySelector(".fr-cell-handler"));var l=T(i,a);if(e.FE.KEYCODE.ARROW_RIGHT==s){if(l.col<a[0].length-1)return D(r,a[l.row][l.col+1]),!1}else if(e.FE.KEYCODE.ARROW_DOWN==s){if(l.row<a.length-1)return D(r,a[l.row+1][l.col]),!1}else if(e.FE.KEYCODE.ARROW_LEFT==s){if(l.col>0)return D(r,a[l.row][l.col-1]),!1}else if(e.FE.KEYCODE.ARROW_UP==s&&l.row>0)return D(r,a[l.row-1][l.col]),!1}}(n)&&setTimeout((function(){d()}),0):function(n){var o=n.which,r=t.selection.blocks();if(r.length&&("TD"==(r=r[0]).tagName||"TH"==r.tagName)){for(var i=r;i&&"TABLE"!=i.tagName&&i.parentNode!=t.el;)i=i.parentNode;if(i&&"TABLE"==i.tagName&&(e.FE.KEYCODE.ARROW_LEFT==o||e.FE.KEYCODE.ARROW_UP==o||e.FE.KEYCODE.ARROW_RIGHT==o||e.FE.KEYCODE.ARROW_DOWN==o)&&(te().length>0&&L(),t.browser.webkit&&(e.FE.KEYCODE.ARROW_UP==o||e.FE.KEYCODE.ARROW_DOWN==o))){var a=t.selection.ranges(0).startContainer;if(a.nodeType==Node.TEXT_NODE&&(e.FE.KEYCODE.ARROW_UP==o&&a.previousSibling||e.FE.KEYCODE.ARROW_DOWN==o&&a.nextSibling))return;n.preventDefault(),n.stopPropagation();var s=_(e(i)),l=T(r,s);e.FE.KEYCODE.ARROW_UP==o?K(l,i,s):e.FE.KEYCODE.ARROW_DOWN==o&&U(l,i,s),t.selection.restore()}}}(n)})),t.events.on("keydown",(function(n){if(!1===function(n){if(n.which==e.FE.KEYCODE.TAB){var o;if(te().length>0)o=t.$el.find(".fr-selected-cell:last");else{var r=t.selection.element();"TD"==r.tagName||"TH"==r.tagName?o=e(r):r!=t.el&&(e(r).parentsUntil(t.$el,"td").length>0?o=e(r).parents("td:first"):e(r).parentsUntil(t.$el,"th").length>0&&(o=e(r).parents("th:first")))}if(o)return n.preventDefault(),!!(e(t.selection.element()).parentsUntil(t.$el,"ol, ul").length>0&&(e(t.selection.element()).parents("li").prev().length>0||e(t.selection.element()).is("li")&&e(t.selection.element()).prev().length>0))||(L(),n.shiftKey?o.prev().length>0?Z(o.prev()):o.closest("tr").length>0&&o.closest("tr").prev().length>0?Z(o.closest("tr").prev().find("td:last")):o.closest("tbody").length>0&&o.closest("table").find("thead tr").length>0&&Z(o.closest("table").find("thead tr th:last")):o.next().length>0?Z(o.next()):o.closest("tr").length>0&&o.closest("tr").next().length>0?Z(o.closest("tr").next().find("td:first")):o.closest("thead").length>0&&o.closest("table").find("tbody tr").length>0?Z(o.closest("table").find("tbody tr td:first")):(o.addClass("fr-selected-cell"),b("below"),x(),Z(o.closest("tr").next().find("td:first"))),t.selection.restore(),!1)}}(n))return!1;var o=te();if(o.length>0){if(o.length>0&&t.keys.ctrlKey(n)&&n.which==e.FE.KEYCODE.A)return x(),t.popups.isVisible("table.edit")&&t.popups.hide("table.edit"),o=[],!0;if(n.which==e.FE.KEYCODE.ESC&&t.popups.isVisible("table.edit"))return x(),t.popups.hide("table.edit"),n.preventDefault(),n.stopPropagation(),n.stopImmediatePropagation(),o=[],!1;if(o.length>1&&(n.which==e.FE.KEYCODE.BACKSPACE||n.which==e.FE.KEYCODE.DELETE)){t.undo.saveStep();for(var r=0;r<o.length;r++)e(o[r]).html("<br>"),r==o.length-1&&e(o[r]).prepend(e.FE.MARKERS);return t.selection.restore(),t.undo.saveStep(),o=[],!1}if(o.length>1&&n.which!=e.FE.KEYCODE.F10&&!t.keys.isBrowserAction(n))return n.preventDefault(),o=[],!1}else if(o=[],!1===function(n){if(n.altKey&&n.which==e.FE.KEYCODE.SPACE){var o,r=t.selection.element();if("TD"==r.tagName||"TH"==r.tagName?o=r:e(r).closest("td").length>0?o=e(r).closest("td").get(0):e(r).closest("th").length>0&&(o=e(r).closest("th").get(0)),o)return n.preventDefault(),D(o,o),d(),!1}}(n))return!1}),!0);var n=[];t.events.on("html.beforeGet",(function(){n=te();for(var e=0;e<n.length;e++)n[e].className=(n[e].className||"").replace(/fr-selected-cell/g,"")})),t.events.on("html.afterGet",(function(){for(var e=0;e<n.length;e++)n[e].className=(n[e].className?n[e].className.trim()+" ":"")+"fr-selected-cell";n=[]})),f(!0),g(!0)}t.events.on("destroy",ee)},insert:function(n,o){var r,i,a="<table "+(t.opts.tableDefaultWidth?'style="width: '+t.opts.tableDefaultWidth+';" ':"")+'class="fr-inserted-table"><tbody>',s=100/o;for(r=0;r<n;r++){for(a+="<tr>",i=0;i<o;i++)a+="<td"+(t.opts.tableDefaultWidth?' style="width: '+s.toFixed(4)+'%;"':"")+">",0===r&&0===i&&(a+=e.FE.MARKERS),a+="<br></td>";a+="</tr>"}a+="</tbody></table>",t.html.insert(a),t.selection.restore();var l=t.$el.find(".fr-inserted-table");l.removeClass("fr-inserted-table"),t.events.trigger("table.inserted",[l.get(0)])},remove:v,insertRow:b,deleteRow:function(){var n=ne();if(n.length>0){var o,r,i,a=_(),s=R(a);if(0===s.min_i&&s.max_i==a.length-1)v();else{for(o=s.max_i;o>=s.min_i;o--){for(i=e(n.find("tr").not(n.find("table tr")).get(o)),r=0;r<a[o].length;r++)if(0===r||a[o][r]!=a[o][r-1]){var l=e(a[o][r]);if(parseInt(l.attr("rowspan"),10)>1){var d=parseInt(l.attr("rowspan"),10)-1;1==d?l.removeAttr("rowspan"):l.attr("rowspan",d)}if(o<a.length-1&&a[o][r]==a[o+1][r]&&(0===o||a[o][r]!=a[o-1][r])){for(var c=a[o][r],p=r;p>0&&a[o][p]==a[o][p-1];)p--;0===p?e(n.find("tr").not(n.find("table tr")).get(o+1)).prepend(c):e(a[o+1][p-1]).after(c)}}var f=i.parent();i.remove(),0===f.find("tr").length&&f.remove(),a=_(n)}S(0,a.length-1,0,a[0].length-1,n),s.min_i>0?t.selection.setAtEnd(a[s.min_i-1][0]):t.selection.setAtEnd(a[0][0]),t.selection.restore(),t.popups.hide("table.edit")}}},insertColumn:function(n){var o=ne();if(o.length>0){var r,i=_(),a=R(i);r="before"==n?a.min_j:a.max_j;var s,l=100/i[0].length,c=100/(i[0].length+1);o.find("th, td").each((function(){(s=e(this)).data("old-width",s.outerWidth()/o.outerWidth()*100)})),o.find("tr").not(o.find("table tr")).each((function(t){for(var o,a=e(this),s=0,d=0;s-1<r;){if(!(o=a.find("> th, > td").get(d))){o=null;break}o==i[t][s]?(s+=parseInt(e(o).attr("colspan"),10)||1,d++):(s+=parseInt(e(i[t][s]).attr("colspan"),10)||1,"after"==n&&(o=0===d?-1:a.find("> th, > td").get(d-1)))}var p,f=e(o);if("after"==n&&s-1>r||"before"==n&&r>0&&i[t][r]==i[t][r-1]){if(0===t||t>0&&i[t][r]!=i[t-1][r]){var h=parseInt(f.attr("colspan"),10)+1;f.attr("colspan",h),f.css("width",(f.data("old-width")*c/l+c).toFixed(4)+"%"),f.removeData("old-width")}}else p=a.find("th").length>0?'<th style="width: '+c.toFixed(4)+'%;"><br></th>':'<td style="width: '+c.toFixed(4)+'%;"><br></td>',-1==o?a.prepend(p):null==o?a.append(p):"before"==n?f.before(p):"after"==n&&f.after(p)})),o.find("th, td").each((function(){(s=e(this)).data("old-width")&&(s.css("width",(s.data("old-width")*c/l).toFixed(4)+"%"),s.removeData("old-width"))})),t.popups.isVisible("table.edit")&&d()}},deleteColumn:function(){var n=ne();if(n.length>0){var o,r,i,a=_(),s=R(a);if(0===s.min_j&&s.max_j==a[0].length-1)v();else{var l=0;for(o=0;o<a.length;o++)for(r=0;r<a[0].length;r++)(i=e(a[o][r])).hasClass("fr-selected-cell")||(i.data("old-width",i.outerWidth()/n.outerWidth()*100),(r<s.min_j||r>s.max_j)&&(l+=i.outerWidth()/n.outerWidth()*100));for(l/=a.length,r=s.max_j;r>=s.min_j;r--)for(o=0;o<a.length;o++)if(0===o||a[o][r]!=a[o-1][r])if(i=e(a[o][r]),(parseInt(i.attr("colspan"),10)||1)>1){var d=parseInt(i.attr("colspan"),10)-1;1==d?i.removeAttr("colspan"):i.attr("colspan",d),i.css("width",(100*(i.data("old-width")-j(r,a))/l).toFixed(4)+"%"),i.removeData("old-width")}else{var c=e(i.parent().get(0));i.remove(),0===c.find("> th, > td").length&&(0===c.prev().length||0===c.next().length||c.prev().find("> th[rowspan], > td[rowspan]").length<c.prev().find("> th, > td").length)&&c.remove()}S(0,a.length-1,0,a[0].length-1,n),s.min_j>0?t.selection.setAtEnd(a[s.min_i][s.min_j-1]):t.selection.setAtEnd(a[s.min_i][0]),t.selection.restore(),t.popups.hide("table.edit"),n.find("th, td").each((function(){(i=e(this)).data("old-width")&&(i.css("width",(100*i.data("old-width")/l).toFixed(4)+"%"),i.removeData("old-width"))}))}}},mergeCells:function(){if(te().length>1&&(0===t.$el.find("th.fr-selected-cell").length||0===t.$el.find("td.fr-selected-cell").length)){A();var n,o,r=R(_()),i=t.$el.find(".fr-selected-cell"),a=e(i[0]),s=a.parent().find(".fr-selected-cell"),l=a.closest("table"),c=a.html(),p=0;for(n=0;n<s.length;n++)p+=e(s[n]).outerWidth();for(a.css("width",Math.min(100,p/l.outerWidth()*100).toFixed(4)+"%"),r.min_j<r.max_j&&a.attr("colspan",r.max_j-r.min_j+1),r.min_i<r.max_i&&a.attr("rowspan",r.max_i-r.min_i+1),n=1;n<i.length;n++)"<br>"!=(o=e(i[n])).html()&&""!==o.html()&&(c+="<br>"+o.html()),o.remove();a.html(c),t.selection.setAtEnd(a.get(0)),t.selection.restore(),t.toolbar.enable(),y(r.min_i,r.max_i,l);var f=l.find("tr:empty");for(n=f.length-1;n>=0;n--)e(f[n]).remove();E(r.min_j,r.max_j,l),d()}},splitCellVertically:function(){if(1==te().length){var n=t.$el.find(".fr-selected-cell"),o=parseInt(n.attr("colspan"),10)||1,r=n.parent().outerWidth(),i=n.outerWidth(),a=n.clone().html("<br>"),s=_(),l=T(n.get(0),s);if(o>1){var d=Math.ceil(o/2);i=G(l.col,l.col+d-1,s)/r*100;var c=G(l.col+d,l.col+o-1,s)/r*100;d>1?n.attr("colspan",d):n.removeAttr("colspan"),o-d>1?a.attr("colspan",o-d):a.removeAttr("colspan"),n.css("width",i.toFixed(4)+"%"),a.css("width",c.toFixed(4)+"%")}else{var p;for(p=0;p<s.length;p++)if(0===p||s[p][l.col]!=s[p-1][l.col]){var f=e(s[p][l.col]);if(!f.is(n)){var h=(parseInt(f.attr("colspan"),10)||1)+1;f.attr("colspan",h)}}i=i/r*100/2,n.css("width",i.toFixed(4)+"%"),a.css("width",i.toFixed(4)+"%")}n.after(a),x(),t.popups.hide("table.edit")}},splitCellHorizontally:function(){if(1==te().length){var n=t.$el.find(".fr-selected-cell"),o=n.parent(),r=n.closest("table"),i=parseInt(n.attr("rowspan"),10),a=_(),s=T(n.get(0),a),l=n.clone().html("<br>");if(i>1){var d=Math.ceil(i/2);d>1?n.attr("rowspan",d):n.removeAttr("rowspan"),i-d>1?l.attr("rowspan",i-d):l.removeAttr("rowspan");for(var c=s.row+d,p=0===s.col?s.col:s.col-1;p>=0&&(a[c][p]==a[c][p-1]||c>0&&a[c][p]==a[c-1][p]);)p--;-1==p?e(r.find("tr").not(r.find("table tr")).get(c)).prepend(l):e(a[c][p]).after(l)}else{var f,h=e("<tr>").append(l);for(f=0;f<a[0].length;f++)if(0===f||a[s.row][f]!=a[s.row][f-1]){var u=e(a[s.row][f]);u.is(n)||u.attr("rowspan",(parseInt(u.attr("rowspan"),10)||1)+1)}o.after(h)}x(),t.popups.hide("table.edit")}},addHeader:function(){var t=ne();if(t.length>0&&0===t.find("th").length){var n,o="<thead><tr>",r=0;for(t.find("tr:first > td").each((function(){var t=e(this);r+=parseInt(t.attr("colspan"),10)||1})),n=0;n<r;n++)o+="<th><br></th>";o+="</tr></thead>",t.prepend(o),d()}},removeHeader:function(){var e=ne(),n=e.find("thead");if(n.length>0)if(0===e.find("tbody tr").length)v();else if(n.remove(),te().length>0)d();else{t.popups.hide("table.edit");var o=e.find("tbody tr:first td:first").get(0);o&&(t.selection.setAtEnd(o),t.selection.restore())}},setBackground:C,showInsertPopup:function(){var n=t.$vtb?t.$vtb.find('[data-cmd="richeditor-toolbar-insertTable"]'):t.$tb.find('.fr-command[data-cmd="insertTable"]');n.is(":visible")||(n=e('[data-cmd="richeditor-toolbar-insertTable"]:first'));var o=t.popups.get("table.insert");o||(o=f()),o.hasClass("fr-active")||(t.popups.refresh("table.insert"),t.popups.setContainer("table.insert",t.$sc),t.popups.showElToolbar("table.insert",n))},showEditPopup:d,showColorsPopup:c,back:function(){te().length>0?d():(t.popups.hide("table.insert"),t.toolbar.showInline())},verticalAlign:function(e){t.$el.find(".fr-selected-cell").css("vertical-align",e)},horizontalAlign:function(e){t.$el.find(".fr-selected-cell").css("text-align",e)},applyStyle:function(e,t,n,o){if(t.length>0){if(!n){var r=Object.keys(o);r.splice(r.indexOf(e),1),t.removeClass(r.join(" "))}t.toggleClass(e)}},selectedTable:ne,selectedCells:te,customColor:function(){var e=t.popups.get("table.colors").find(".fr-table-colors-hex-layer input");e.length&&C(e.val())},selectCells:D}},e.FE.DefineIcon("insertTable",{NAME:"table"}),e.FE.RegisterCommand("insertTable",{title:"Insert Table",undo:!1,focus:!0,refreshOnCallback:!1,popup:!0,callback:function(){this.popups.isVisible("table.insert")?(this.$el.find(".fr-marker").length&&(this.events.disableBlur(),this.selection.restore()),this.popups.hide("table.insert")):this.table.showInsertPopup()},plugin:"table"}),e.FE.RegisterCommand("tableInsert",{callback:function(e,t,n){this.table.insert(t,n),this.popups.hide("table.insert")}}),e.FE.DefineIcon("tableHeader",{NAME:"header",FA5NAME:"heading"}),e.FE.RegisterCommand("tableHeader",{title:"Table Header",focus:!1,toggle:!0,callback:function(){this.popups.get("table.edit").find('.fr-command[data-cmd="tableHeader"]').hasClass("fr-active")?this.table.removeHeader():this.table.addHeader()},refresh:function(e){var t=this.table.selectedTable();t.length>0&&(0===t.find("th").length?e.removeClass("fr-active").attr("aria-pressed",!1):e.addClass("fr-active").attr("aria-pressed",!0))}}),e.FE.DefineIcon("tableRows",{NAME:"bars"}),e.FE.RegisterCommand("tableRows",{type:"dropdown",focus:!1,title:"Row",options:{above:"Insert row above",below:"Insert row below",delete:"Delete row"},html:function(){var t='<ul class="fr-dropdown-list" role="presentation">',n=e.FE.COMMANDS.tableRows.options;for(var o in n)n.hasOwnProperty(o)&&(t+='<li role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="tableRows" data-param1="'+o+'" title="'+this.language.translate(n[o])+'">'+this.language.translate(n[o])+"</a></li>");return t+="</ul>"},callback:function(e,t){"above"==t||"below"==t?this.table.insertRow(t):this.table.deleteRow()}}),e.FE.DefineIcon("tableColumns",{NAME:"bars fa-rotate-90"}),e.FE.RegisterCommand("tableColumns",{type:"dropdown",focus:!1,title:"Column",options:{before:"Insert column before",after:"Insert column after",delete:"Delete column"},html:function(){var t='<ul class="fr-dropdown-list" role="presentation">',n=e.FE.COMMANDS.tableColumns.options;for(var o in n)n.hasOwnProperty(o)&&(t+='<li role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="tableColumns" data-param1="'+o+'" title="'+this.language.translate(n[o])+'">'+this.language.translate(n[o])+"</a></li>");return t+="</ul>"},callback:function(e,t){"before"==t||"after"==t?this.table.insertColumn(t):this.table.deleteColumn()}}),e.FE.DefineIcon("tableCells",{NAME:"square-o",FA5NAME:"square"}),e.FE.RegisterCommand("tableCells",{type:"dropdown",focus:!1,title:"Cell",options:{merge:"Merge cells","vertical-split":"Vertical split","horizontal-split":"Horizontal split"},html:function(){var t='<ul class="fr-dropdown-list" role="presentation">',n=e.FE.COMMANDS.tableCells.options;for(var o in n)n.hasOwnProperty(o)&&(t+='<li role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="tableCells" data-param1="'+o+'" title="'+this.language.translate(n[o])+'">'+this.language.translate(n[o])+"</a></li>");return t+="</ul>"},callback:function(e,t){"merge"==t?this.table.mergeCells():"vertical-split"==t?this.table.splitCellVertically():this.table.splitCellHorizontally()},refreshOnShow:function(e,t){this.$el.find(".fr-selected-cell").length>1?(t.find('a[data-param1="vertical-split"]').addClass("fr-disabled").attr("aria-disabled",!0),t.find('a[data-param1="horizontal-split"]').addClass("fr-disabled").attr("aria-disabled",!0),t.find('a[data-param1="merge"]').removeClass("fr-disabled").attr("aria-disabled",!1)):(t.find('a[data-param1="merge"]').addClass("fr-disabled").attr("aria-disabled",!0),t.find('a[data-param1="vertical-split"]').removeClass("fr-disabled").attr("aria-disabled",!1),t.find('a[data-param1="horizontal-split"]').removeClass("fr-disabled").attr("aria-disabled",!1))}}),e.FE.DefineIcon("tableRemove",{NAME:"trash"}),e.FE.RegisterCommand("tableRemove",{title:"Remove Table",focus:!1,callback:function(){this.table.remove()}}),e.FE.DefineIcon("tableStyle",{NAME:"paint-brush"}),e.FE.RegisterCommand("tableStyle",{title:"Table Style",type:"dropdown",focus:!1,html:function(){var e='<ul class="fr-dropdown-list" role="presentation">',t=this.opts.tableStyles;for(var n in t)t.hasOwnProperty(n)&&(e+='<li role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="tableStyle" data-param1="'+n+'" title="'+this.language.translate(t[n])+'">'+this.language.translate(t[n])+"</a></li>");return e+="</ul>"},callback:function(e,t){this.table.applyStyle(t,this.$el.find(".fr-selected-cell").closest("table"),this.opts.tableMultipleStyles,this.opts.tableStyles)},refreshOnShow:function(t,n){var o=this.$el.find(".fr-selected-cell").closest("table");o&&n.find(".fr-command").each((function(){var t=e(this).data("param1"),n=o.hasClass(t);e(this).toggleClass("fr-active",n).attr("aria-selected",n)}))}}),e.FE.DefineIcon("tableCellBackground",{NAME:"tint"}),e.FE.RegisterCommand("tableCellBackground",{title:"Cell Background",focus:!1,popup:!0,callback:function(){this.table.showColorsPopup()}}),e.FE.RegisterCommand("tableCellBackgroundColor",{undo:!0,focus:!1,callback:function(e,t){this.table.setBackground(t)}}),e.FE.DefineIcon("tableBack",{NAME:"arrow-left"}),e.FE.RegisterCommand("tableBack",{title:"Back",undo:!1,focus:!1,back:!0,callback:function(){this.table.back()},refresh:function(e){0!==this.table.selectedCells().length||this.opts.toolbarInline?(e.removeClass("fr-hidden"),e.next(".fr-separator").removeClass("fr-hidden")):(e.addClass("fr-hidden"),e.next(".fr-separator").addClass("fr-hidden"))}}),e.FE.DefineIcon("tableCellVerticalAlign",{NAME:"arrows-v",FA5NAME:"arrows-alt-v"}),e.FE.RegisterCommand("tableCellVerticalAlign",{type:"dropdown",focus:!1,title:"Vertical Align",options:{Top:"Align Top",Middle:"Align Middle",Bottom:"Align Bottom"},html:function(){var t='<ul class="fr-dropdown-list" role="presentation">',n=e.FE.COMMANDS.tableCellVerticalAlign.options;for(var o in n)n.hasOwnProperty(o)&&(t+='<li role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="tableCellVerticalAlign" data-param1="'+o.toLowerCase()+'" title="'+this.language.translate(n[o])+'">'+this.language.translate(o)+"</a></li>");return t+="</ul>"},callback:function(e,t){this.table.verticalAlign(t)},refreshOnShow:function(e,t){t.find('.fr-command[data-param1="'+this.$el.find(".fr-selected-cell").css("vertical-align")+'"]').addClass("fr-active").attr("aria-selected",!0)}}),e.FE.DefineIcon("tableCellHorizontalAlign",{NAME:"align-left"}),e.FE.DefineIcon("align-left",{NAME:"align-left"}),e.FE.DefineIcon("align-right",{NAME:"align-right"}),e.FE.DefineIcon("align-center",{NAME:"align-center"}),e.FE.DefineIcon("align-justify",{NAME:"align-justify"}),e.FE.RegisterCommand("tableCellHorizontalAlign",{type:"dropdown",focus:!1,title:"Horizontal Align",options:{left:"Align Left",center:"Align Center",right:"Align Right",justify:"Align Justify"},html:function(){var t='<ul class="fr-dropdown-list" role="presentation">',n=e.FE.COMMANDS.tableCellHorizontalAlign.options;for(var o in n)n.hasOwnProperty(o)&&(t+='<li role="presentation"><a class="fr-command fr-title" tabIndex="-1" role="option" data-cmd="tableCellHorizontalAlign" data-param1="'+o+'" title="'+this.language.translate(n[o])+'">'+this.icon.create("align-"+o)+'<span class="fr-sr-only">'+this.language.translate(n[o])+"</span></a></li>");return t+="</ul>"},callback:function(e,t){this.table.horizontalAlign(t)},refresh:function(t){var n=this.table.selectedCells();n.length&&t.find("> *:first").replaceWith(this.icon.create("align-"+this.helpers.getAlignment(e(n[0]))))},refreshOnShow:function(e,t){t.find('.fr-command[data-param1="'+this.helpers.getAlignment(this.$el.find(".fr-selected-cell:first"))+'"]').addClass("fr-active").attr("aria-selected",!0)}}),e.FE.DefineIcon("tableCellStyle",{NAME:"magic"}),e.FE.RegisterCommand("tableCellStyle",{title:"Cell Style",type:"dropdown",focus:!1,html:function(){var e='<ul class="fr-dropdown-list" role="presentation">',t=this.opts.tableCellStyles;for(var n in t)t.hasOwnProperty(n)&&(e+='<li role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="tableCellStyle" data-param1="'+n+'" title="'+this.language.translate(t[n])+'">'+this.language.translate(t[n])+"</a></li>");return e+="</ul>"},callback:function(e,t){this.table.applyStyle(t,this.$el.find(".fr-selected-cell"),this.opts.tableCellMultipleStyles,this.opts.tableCellStyles)},refreshOnShow:function(t,n){var o=this.$el.find(".fr-selected-cell:first");o&&n.find(".fr-command").each((function(){var t=e(this).data("param1"),n=o.hasClass(t);e(this).toggleClass("fr-active",n).attr("aria-selected",n)}))}}),e.FE.RegisterCommand("tableCellBackgroundCustomColor",{title:"OK",undo:!0,callback:function(){this.table.customColor()}}),e.FE.DefineIcon("tableColorRemove",{NAME:"eraser"})}(jQuery),function(e){"use strict";e.extend(e.FE.POPUP_TEMPLATES,{"video.insert":"[_BUTTONS_][_BY_URL_LAYER_][_EMBED_LAYER_]","video.edit":"[_BUTTONS_]","video.size":"[_BUTTONS_][_SIZE_LAYER_]"}),e.extend(e.FE.DEFAULTS,{videoInsertButtons:["videoBack","|","videoByURL","videoEmbed"],videoEditButtons:["videoDisplay","videoAlign","videoSize","videoRemove"],videoResize:!0,videoSizeButtons:["videoBack","|"],videoSplitHTML:!1,videoTextNear:!0,videoDefaultAlign:"center",videoDefaultDisplay:"block",videoMove:!0}),e.FE.VIDEO_PROVIDERS=[{test_regex:/^.*((youtu.be)|(youtube.com))\/((v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))?\??v?=?([^#\&\?]*).*/,url_regex:/(?:https?:\/\/)?(?:www\.)?(?:m\.)?(?:youtube\.com|youtu\.be)\/(?:watch\?v=|embed\/)?([0-9a-zA-Z_\-]+)(.+)?/g,url_text:"//www.youtube.com/embed/$1",html:'<iframe width="640" height="360" src="{url}?wmode=opaque" frameborder="0" allowfullscreen></iframe>'},{test_regex:/^.*(vimeo\.com\/)((channels\/[A-z]+\/)|(groups\/[A-z]+\/videos\/))?([0-9]+)/,url_regex:/(?:https?:\/\/)?(?:www\.)?(?:vimeo\.com)\/(?:channels\/[A-z]+\/|groups\/[A-z]+\/videos\/)?(.+)/g,url_text:"//player.vimeo.com/video/$1",html:'<iframe width="640" height="360" src="{url}" frameborder="0" allowfullscreen></iframe>'},{test_regex:/^.+(dailymotion.com|dai.ly)\/(video|hub)?\/?([^_]+)[^#]*(#video=([^_&]+))?/,url_regex:/(?:https?:\/\/)?(?:www\.)?(?:dailymotion\.com|dai\.ly)\/(?:video|hub)?\/?(.+)/g,url_text:"//www.dailymotion.com/embed/video/$1",html:'<iframe width="640" height="360" src="{url}" frameborder="0" allowfullscreen></iframe>'},{test_regex:/^.+(screen.yahoo.com)\/[^_&]+/,url_regex:"",url_text:"",html:'<iframe width="640" height="360" src="{url}?format=embed" frameborder="0" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true" allowtransparency="true"></iframe>'},{test_regex:/^.+(rutube.ru)\/[^_&]+/,url_regex:/(?:https?:\/\/)?(?:www\.)?(?:rutube\.ru)\/(?:video)?\/?(.+)/g,url_text:"//rutube.ru/play/embed/$1",html:'<iframe width="640" height="360" src="{url}" frameborder="0" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true" allowtransparency="true"></iframe>'}],e.FE.VIDEO_EMBED_REGEX=/^\W*((<iframe.*><\/iframe>)|(<embed.*>))\W*$/i,e.FE.PLUGINS.video=function(t){var n,o,r,i,a;function s(){var e=t.popups.get("video.insert");e.find(".fr-video-by-url-layer input").val("").trigger("change"),e.find(".fr-video-embed-layer textarea").val("").trigger("change")}function l(){var n=t.popups.get("video.edit");n||(n=function(){var e="";t.opts.videoEditButtons.length>=1&&(e+='<div class="fr-buttons">',e+=t.button.buildList(t.opts.videoEditButtons),e+="</div>");var n={buttons:e},o=t.popups.create("video.edit",n);return t.events.$on(t.$wp,"scroll.video-edit",(function(){i&&t.popups.isVisible("video.edit")&&l()})),o}()),t.popups.setContainer("video.edit",e(t.opts.scrollableContainer)),t.popups.refresh("video.edit");var o=i.find("iframe, embed, video");t.popups.showEl("video.edit",o)}function d(e){if(e)return t.popups.onRefresh("video.insert",s),!0;var n="";t.opts.videoInsertButtons.length>1&&(n='<div class="fr-buttons">'+t.button.buildList(t.opts.videoInsertButtons)+"</div>");var o="";t.opts.videoInsertButtons.indexOf("videoByURL")>=0&&(o='<div class="fr-video-by-url-layer fr-layer fr-active" id="fr-video-by-url-layer-'+t.id+'"><div class="fr-input-line"><input type="text" placeholder="http://" tabIndex="1"></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-submit" data-cmd="videoInsertByURL" tabIndex="2">'+t.language.translate("Insert")+"</button></div></div>");var r="";t.opts.videoInsertButtons.indexOf("videoEmbed")>=0&&(r='<div class="fr-video-embed-layer fr-layer" id="fr-video-embed-layer-'+t.id+'"><div class="fr-input-line"><textarea type="text" placeholder="'+t.language.translate("Embedded Code")+'" tabIndex="1" rows="5"></textarea></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-submit" data-cmd="videoInsertEmbed" tabIndex="2">'+t.language.translate("Insert")+"</button></div></div>");var i={buttons:n,by_url_layer:o,embed_layer:r};return t.popups.create("video.insert",i)}function c(e){t.events.focus(!0),t.selection.restore(),t.html.insert('<span contenteditable="false" draggable="true" class="fr-jiv fr-video fr-dv'+t.opts.videoDefaultDisplay[0]+("center"!=t.opts.videoDefaultAlign?" fr-fv"+t.opts.videoDefaultAlign[0]:"")+'">'+e+"</span>",!1,t.opts.videoSplitHTML),t.popups.hide("video.insert");var n=t.$el.find(".fr-jiv");n.removeClass("fr-jiv"),n.toggleClass("fr-draggable",t.opts.videoMove),t.events.trigger("video.inserted",[n])}function p(i){if(!t.core.sameInstance(r))return!0;i.preventDefault(),i.stopPropagation();var a=i.pageX||(i.originalEvent.touches?i.originalEvent.touches[0].pageX:null),s=i.pageY||(i.originalEvent.touches?i.originalEvent.touches[0].pageY:null);if(!a||!s)return!1;t.undo.canDo()||t.undo.saveStep(),(o=e(this)).data("start-x",a),o.data("start-y",s),n.show(),t.popups.hideAll(),E()}function f(e){if(!t.core.sameInstance(r))return!0;if(o){e.preventDefault();var n=e.pageX||(e.originalEvent.touches?e.originalEvent.touches[0].pageX:null),a=e.pageY||(e.originalEvent.touches?e.originalEvent.touches[0].pageY:null);if(!n||!a)return!1;var s=o.data("start-x"),l=o.data("start-y");o.data("start-x",n),o.data("start-y",a);var d=n-s,c=a-l,p=i.find("iframe, embed, video"),f=p.width(),h=p.height();(o.hasClass("fr-hnw")||o.hasClass("fr-hsw"))&&(d=0-d),(o.hasClass("fr-hnw")||o.hasClass("fr-hne"))&&(c=0-c),p.css("width",f+d),p.css("height",h+c),p.removeAttr("width"),p.removeAttr("height"),g()}}function h(e){if(!t.core.sameInstance(r))return!0;o&&i&&(e&&e.stopPropagation(),o=null,n.hide(),g(),l(),t.undo.saveStep())}function u(e){return'<div class="fr-handler fr-h'+e+'"></div>'}function g(){var o;r||(t.shared.$video_resizer?(r=t.shared.$video_resizer,n=t.shared.$vid_overlay,t.events.on("destroy",(function(){r.removeClass("fr-active").appendTo(e("body"))}),!0)):(t.shared.$video_resizer=e('<div class="fr-video-resizer"></div>'),r=t.shared.$video_resizer,t.events.$on(r,"mousedown",(function(e){e.stopPropagation()}),!0),t.opts.videoResize&&(r.append(u("nw")+u("ne")+u("sw")+u("se")),t.shared.$vid_overlay=e('<div class="fr-video-overlay"></div>'),n=t.shared.$vid_overlay,o=r.get(0).ownerDocument,e(o).find("body").append(n))),t.events.on("shared.destroy",(function(){r.html("").removeData().remove(),r=null,t.opts.videoResize&&(n.remove(),n=null)}),!0),t.helpers.isMobile()||t.events.$on(e(t.o_win),"resize.video",(function(){v(!0)})),t.opts.videoResize&&(o=r.get(0).ownerDocument,t.events.$on(r,t._mousedown,".fr-handler",p),t.events.$on(e(o),t._mousemove,f),t.events.$on(e(o.defaultView||o.parentWindow),t._mouseup,h),t.events.$on(n,"mouseleave",h))),(t.$wp||e(t.opts.scrollableContainer)).append(r),r.data("instance",t);var a=i.find("iframe, embed, video");r.css("top",(t.opts.iframe?a.offset().top-1:a.offset().top-t.$wp.offset().top-1)+t.$wp.scrollTop()).css("left",(t.opts.iframe?a.offset().left-1:a.offset().left-t.$wp.offset().left-1)+t.$wp.scrollLeft()).css("width",a.outerWidth()).css("height",a.height()).addClass("fr-active")}function m(n){if(n&&"touchend"==n.type&&a)return!0;if(n.preventDefault(),n.stopPropagation(),t.edit.isDisabled())return!1;for(var o=0;o<e.FE.INSTANCES.length;o++)e.FE.INSTANCES[o]!=t&&e.FE.INSTANCES[o].events.trigger("video.hideResizer");t.toolbar.disable(),t.helpers.isMobile()&&(t.events.disableBlur(),t.$el.blur(),t.events.enableBlur()),i=e(this),e(this).addClass("fr-active"),t.opts.iframe&&t.size.syncIframe(),g(),l(),t.selection.clear(),t.button.bulkRefresh(),t.events.trigger("image.hideResizer")}function v(e){i&&(t.shared.vid_exit_flag||!0===e)&&(r.removeClass("fr-active"),t.toolbar.enable(),i.removeClass("fr-active"),i=null,E())}function b(){t.shared.vid_exit_flag=!0}function E(){t.shared.vid_exit_flag=!1}function y(){if(i){var e=t.popups.get("video.size"),n=i.find("iframe, embed, video");e.find('input[name="width"]').val(n.get(0).style.width||n.attr("width")).trigger("change"),e.find('input[name="height"]').val(n.get(0).style.height||n.attr("height")).trigger("change")}}function w(){var n=t.popups.get("video.size");n||(n=S()),t.popups.refresh("video.size"),t.popups.setContainer("video.size",e(t.opts.scrollableContainer));var o=i.find("iframe, embed, video");t.popups.showEl("video.size",o)}function S(e){if(e)return t.popups.onRefresh("video.size",y),!0;var n={buttons:'<div class="fr-buttons">'+t.button.buildList(t.opts.videoSizeButtons)+"</div>",size_layer:'<div class="fr-video-size-layer fr-layer fr-active" id="fr-video-size-layer-'+t.id+'"><div class="fr-video-group"><div class="fr-input-line"><input type="text" name="width" placeholder="'+t.language.translate("Width")+'" tabIndex="1"></div><div class="fr-input-line"><input type="text" name="height" placeholder="'+t.language.translate("Height")+'" tabIndex="1"></div></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-submit" data-cmd="videoSetSize" tabIndex="2">'+t.language.translate("Update")+"</button></div></div>"},o=t.popups.create("video.size",n);return t.events.$on(t.$wp,"scroll",(function(){i&&t.popups.isVisible("video.size")&&w()})),o}function C(){if(i&&!1!==t.events.trigger("video.beforeRemove",[i])){var e=i;t.popups.hideAll(),v(!0),t.selection.setBefore(e.get(0))||t.selection.setAfter(e.get(0)),e.remove(),t.selection.restore(),t.html.fillEmptyBlocks(),t.events.trigger("video.removed",[e])}}function _(e){if(!e.hasClass("fr-dvi")&&!e.hasClass("fr-dvb")){var n=e.css("float");e.css("float","none"),"block"==e.css("display")?(e.css("float",n),0===parseInt(e.css("margin-left"),10)&&(e.attr("style")||"").indexOf("margin-right: auto")>=0?e.addClass("fr-fvl"):0===parseInt(e.css("margin-right"),10)&&(e.attr("style")||"").indexOf("margin-left: auto")>=0&&e.addClass("fr-fvr"),e.addClass("fr-dvb")):(e.css("float",n),"left"==e.css("float")?e.addClass("fr-fvl"):"right"==e.css("float")&&e.addClass("fr-fvr"),e.addClass("fr-dvi")),e.css("margin",""),e.css("float",""),e.css("display",""),e.css("z-index",""),e.css("position",""),e.css("overflow",""),e.css("vertical-align","")}t.opts.videoTextNear||e.removeClass("fr-dvi").addClass("fr-dvb")}function T(){t.$el.find("video").filter((function(){return 0===e(this).parents("span.fr-video").length})).wrap('<span class="fr-video" contenteditable="false"></span>'),t.$el.find("embed, iframe").filter((function(){if(t.browser.safari&&this.getAttribute("src")&&this.setAttribute("src",this.src),e(this).parents("span.fr-video").length>0)return!1;for(var n=e(this).attr("src"),o=0;o<e.FE.VIDEO_PROVIDERS.length;o++){if(e.FE.VIDEO_PROVIDERS[o].test_regex.test(n))return!0}return!1})).map((function(){return 0===e(this).parents("object").length?this:e(this).parents("object").get(0)})).wrap('<span class="fr-video" contenteditable="false"></span>');for(var n=t.$el.find("span.fr-video"),o=0;o<n.length;o++)_(e(n[o]));n.toggleClass("fr-draggable",t.opts.videoMove)}return t.shared.vid_exit_flag=!1,{_init:function(){t.events.on("mousedown window.mousedown",b),t.events.on("window.touchmove",E),t.events.on("mouseup window.mouseup",v),t.events.on("commands.mousedown",(function(e){e.parents(".fr-toolbar").length>0&&v()})),t.events.on("blur video.hideResizer commands.undo commands.redo element.dropped",(function(){v(!0)})),t.helpers.isMobile()&&(t.events.$on(t.$el,"touchstart","span.fr-video",(function(){a=!1})),t.events.$on(t.$el,"touchmove",(function(){a=!0}))),t.events.on("html.set",T),T(),t.events.$on(t.$el,"mousedown","span.fr-video",(function(e){e.stopPropagation()})),t.events.$on(t.$el,"click touchend","span.fr-video",m),t.events.on("keydown",(function(n){var o=n.which;return!i||o!=e.FE.KEYCODE.BACKSPACE&&o!=e.FE.KEYCODE.DELETE?i&&o==e.FE.KEYCODE.ESC?(v(!0),n.preventDefault(),!1):i&&!t.keys.ctrlKey(n)?(n.preventDefault(),!1):void 0:(n.preventDefault(),C(),!1)}),!0),t.events.on("keydown",(function(){t.$el.find("span.fr-video:empty").remove()})),d(!0),S(!0)},showInsertPopup:function(){var e=t.$tb.find('.fr-command[data-cmd="insertVideo"]'),n=t.popups.get("video.insert");if(n||(n=d()),!n.hasClass("fr-active")){t.popups.refresh("video.insert"),t.popups.setContainer("video.insert",t.$tb);var o=e.offset().left+e.outerWidth()/2,r=e.offset().top+(t.opts.toolbarBottom?10:e.outerHeight()-10);t.popups.show("video.insert",o,r,e.outerHeight())}},showLayer:function(e){var n,o,r=t.popups.get("video.insert");if(!i&&!t.opts.toolbarInline){var a=t.$tb.find('.fr-command[data-cmd="insertVideo"]');n=a.offset().left+a.outerWidth()/2,o=a.offset().top+(t.opts.toolbarBottom?10:a.outerHeight()-10)}t.opts.toolbarInline&&(o=r.offset().top-t.helpers.getPX(r.css("margin-top")),r.hasClass("fr-above")&&(o+=r.outerHeight())),r.find(".fr-layer").removeClass("fr-active"),r.find(".fr-"+e+"-layer").addClass("fr-active"),t.popups.show("video.insert",n,o,0)},refreshByURLButton:function(e){t.popups.get("video.insert").find(".fr-video-by-url-layer").hasClass("fr-active")&&e.addClass("fr-active")},refreshEmbedButton:function(e){t.popups.get("video.insert").find(".fr-video-embed-layer").hasClass("fr-active")&&e.addClass("fr-active")},insertByURL:function(n){void 0===n&&(n=t.popups.get("video.insert").find('.fr-video-by-url-layer input[type="text"]').val()||"");var o=null;if(t.helpers.isURL(n))for(var r=0;r<e.FE.VIDEO_PROVIDERS.length;r++){var i=e.FE.VIDEO_PROVIDERS[r];if(i.test_regex.test(n)){o=n.replace(i.url_regex,i.url_text),o=i.html.replace(/\{url\}/,o);break}}o?c(o):t.events.trigger("video.linkError",[n])},insertEmbed:function(n){void 0===n&&(n=t.popups.get("video.insert").find(".fr-video-embed-layer textarea").val()||""),0!==n.length&&e.FE.VIDEO_EMBED_REGEX.test(n)?c(n):t.events.trigger("video.codeError",[n])},insert:c,align:function(e){i.removeClass("fr-fvr fr-fvl"),"left"==e?i.addClass("fr-fvl"):"right"==e&&i.addClass("fr-fvr"),g(),l()},refreshAlign:function(e){if(!i)return!1;i.hasClass("fr-fvl")?e.find("> *:first").replaceWith(t.icon.create("align-left")):i.hasClass("fr-fvr")?e.find("> *:first").replaceWith(t.icon.create("align-right")):e.find("> *:first").replaceWith(t.icon.create("align-justify"))},refreshAlignOnShow:function(e,t){var n="justify";i.hasClass("fr-fvl")?n="left":i.hasClass("fr-fvr")&&(n="right"),t.find('.fr-command[data-param1="'+n+'"]').addClass("fr-active")},display:function(e){i.removeClass("fr-dvi fr-dvb"),"inline"==e?i.addClass("fr-dvi"):"block"==e&&i.addClass("fr-dvb"),g(),l()},refreshDisplayOnShow:function(e,t){var n="block";i.hasClass("fr-dvi")&&(n="inline"),t.find('.fr-command[data-param1="'+n+'"]').addClass("fr-active")},remove:C,showSizePopup:w,back:function(){i?i.trigger("click"):(t.events.disableBlur(),t.selection.restore(),t.events.enableBlur(),t.popups.hide("video.insert"),t.toolbar.showInline())},setSize:function(e,n){if(i){var o=t.popups.get("video.size"),r=i.find("iframe, embed, video");r.css("width",e||o.find('input[name="width"]').val()),r.css("height",n||o.find('input[name="height"]').val()),r.get(0).style.width&&r.removeAttr("width"),r.get(0).style.height&&r.removeAttr("height"),o.find("input").blur(),setTimeout((function(){i.trigger("click")}),t.helpers.isAndroid()?50:0)}},get:function(){return i}}},e.FE.RegisterCommand("insertVideo",{title:"Insert Video",undo:!1,focus:!0,refreshAfterCallback:!1,popup:!0,callback:function(){this.popups.isVisible("video.insert")?(this.$el.find(".fr-marker")&&(this.events.disableBlur(),this.selection.restore()),this.popups.hide("video.insert")):this.video.showInsertPopup()},plugin:"video"}),e.FE.DefineIcon("insertVideo",{NAME:"video-camera"}),e.FE.DefineIcon("videoByURL",{NAME:"link"}),e.FE.RegisterCommand("videoByURL",{title:"By URL",undo:!1,focus:!1,callback:function(){this.video.showLayer("video-by-url")},refresh:function(e){this.video.refreshByURLButton(e)}}),e.FE.DefineIcon("videoEmbed",{NAME:"code"}),e.FE.RegisterCommand("videoEmbed",{title:"Embedded Code",undo:!1,focus:!1,callback:function(){this.video.showLayer("video-embed")},refresh:function(e){this.video.refreshEmbedButton(e)}}),e.FE.RegisterCommand("videoInsertByURL",{undo:!0,focus:!0,callback:function(){this.video.insertByURL()}}),e.FE.RegisterCommand("videoInsertEmbed",{undo:!0,focus:!0,callback:function(){this.video.insertEmbed()}}),e.FE.DefineIcon("videoDisplay",{NAME:"star"}),e.FE.RegisterCommand("videoDisplay",{title:"Display",type:"dropdown",options:{inline:"Inline",block:"Break Text"},callback:function(e,t){this.video.display(t)},refresh:function(e){this.opts.videoTextNear||e.addClass("fr-hidden")},refreshOnShow:function(e,t){this.video.refreshDisplayOnShow(e,t)}}),e.FE.DefineIcon("videoAlign",{NAME:"align-center"}),e.FE.RegisterCommand("videoAlign",{type:"dropdown",title:"Align",options:{left:"Align Left",justify:"None",right:"Align Right"},html:function(){var t='<ul class="fr-dropdown-list">',n=e.FE.COMMANDS.videoAlign.options;for(var o in n)n.hasOwnProperty(o)&&(t+='<li><a class="fr-command fr-title" data-cmd="videoAlign" data-param1="'+o+'" title="'+this.language.translate(n[o])+'">'+this.icon.create("align-"+o)+"</a></li>");return t+="</ul>"},callback:function(e,t){this.video.align(t)},refresh:function(e){this.video.refreshAlign(e)},refreshOnShow:function(e,t){this.video.refreshAlignOnShow(e,t)}}),e.FE.DefineIcon("videoRemove",{NAME:"trash"}),e.FE.RegisterCommand("videoRemove",{title:"Remove",callback:function(){this.video.remove()}}),e.FE.DefineIcon("videoSize",{NAME:"arrows-alt"}),e.FE.RegisterCommand("videoSize",{undo:!1,focus:!1,title:"Change Size",callback:function(){this.video.showSizePopup()}}),e.FE.DefineIcon("videoBack",{NAME:"arrow-left"}),e.FE.RegisterCommand("videoBack",{title:"Back",undo:!1,focus:!1,back:!0,callback:function(){this.video.back()},refresh:function(e){this.video.get()||this.opts.toolbarInline?(e.removeClass("fr-hidden"),e.next(".fr-separator").removeClass("fr-hidden")):(e.addClass("fr-hidden"),e.next(".fr-separator").addClass("fr-hidden"))}}),e.FE.RegisterCommand("videoSetSize",{undo:!0,focus:!1,callback:function(){this.video.setSize()}})}(jQuery),function(e){"use strict";e.extend(e.FE.POPUP_TEMPLATES,{"audio.insert":"[_BUTTONS_][_BY_URL_LAYER_][_EMBED_LAYER_]","audio.edit":"[_BUTTONS_]","audio.size":"[_BUTTONS_][_SIZE_LAYER_]"}),e.extend(e.FE.DEFAULTS,{audioInsertButtons:["audioBack","|","audioByURL","audioEmbed"],audioEditButtons:["audioDisplay","audioAlign","audioSize","audioRemove"],audioResize:!0,audioSizeButtons:["audioBack","|"],audioSplitHTML:!1,audioTextNear:!0,audioDefaultAlign:"center",audioDefaultDisplay:"block",audioMove:!0}),e.FE.VIDEO_PROVIDERS=[],e.FE.VIDEO_EMBED_REGEX=/^\W*((<iframe.*><\/iframe>)|(<embed.*>))\W*$/i,e.FE.PLUGINS.audio=function(t){var n,o,r,i,a;function s(){var e=t.popups.get("audio.insert");e.find(".fr-audio-by-url-layer input").val("").trigger("change"),e.find(".fr-audio-embed-layer textarea").val("").trigger("change")}function l(){var n=t.popups.get("audio.edit");n||(n=function(){var e="";t.opts.audioEditButtons.length>=1&&(e+='<div class="fr-buttons">',e+=t.button.buildList(t.opts.audioEditButtons),e+="</div>");var n={buttons:e},o=t.popups.create("audio.edit",n);return t.events.$on(t.$wp,"scroll.audio-edit",(function(){i&&t.popups.isVisible("audio.edit")&&l()})),o}()),t.popups.setContainer("audio.edit",e(t.opts.scrollableContainer)),t.popups.refresh("audio.edit");var o=i.find("iframe, embed, audio");t.popups.showEl("audio.edit",o)}function d(e){if(e)return t.popups.onRefresh("audio.insert",s),!0;var n="";t.opts.audioInsertButtons.length>1&&(n='<div class="fr-buttons">'+t.button.buildList(t.opts.audioInsertButtons)+"</div>");var o="";t.opts.audioInsertButtons.indexOf("audioByURL")>=0&&(o='<div class="fr-audio-by-url-layer fr-layer fr-active" id="fr-audio-by-url-layer-'+t.id+'"><div class="fr-input-line"><input type="text" placeholder="http://" tabIndex="1"></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-submit" data-cmd="audioInsertByURL" tabIndex="2">'+t.language.translate("Insert")+"</button></div></div>");var r="";t.opts.audioInsertButtons.indexOf("audioEmbed")>=0&&(r='<div class="fr-audio-embed-layer fr-layer" id="fr-audio-embed-layer-'+t.id+'"><div class="fr-input-line"><textarea type="text" placeholder="'+t.language.translate("Embedded Code")+'" tabIndex="1" rows="5"></textarea></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-submit" data-cmd="audioInsertEmbed" tabIndex="2">'+t.language.translate("Insert")+"</button></div></div>");var i={buttons:n,by_url_layer:o,embed_layer:r};return t.popups.create("audio.insert",i)}function c(e){t.events.focus(!0),t.selection.restore(),t.html.insert('<span contenteditable="false" draggable="true" class="fr-jiv fr-video fr-dv'+t.opts.audioDefaultDisplay[0]+("center"!=t.opts.audioDefaultAlign?" fr-fv"+t.opts.audioDefaultAlign[0]:"")+'">'+e+"</span>",!1,t.opts.audioSplitHTML),t.popups.hide("audio.insert");var n=t.$el.find(".fr-jiv");n.removeClass("fr-jiv"),n.toggleClass("fr-draggable",t.opts.audioMove),t.events.trigger("audio.inserted",[n])}function p(i){if(!t.core.sameInstance(r))return!0;i.preventDefault(),i.stopPropagation();var a=i.pageX||(i.originalEvent.touches?i.originalEvent.touches[0].pageX:null),s=i.pageY||(i.originalEvent.touches?i.originalEvent.touches[0].pageY:null);if(!a||!s)return!1;t.undo.canDo()||t.undo.saveStep(),(o=e(this)).data("start-x",a),o.data("start-y",s),n.show(),t.popups.hideAll(),E()}function f(e){if(!t.core.sameInstance(r))return!0;if(o){e.preventDefault();var n=e.pageX||(e.originalEvent.touches?e.originalEvent.touches[0].pageX:null),a=e.pageY||(e.originalEvent.touches?e.originalEvent.touches[0].pageY:null);if(!n||!a)return!1;var s=o.data("start-x"),l=o.data("start-y");o.data("start-x",n),o.data("start-y",a);var d=n-s,c=a-l,p=i.find("iframe, embed, audio"),f=p.width(),h=p.height();(o.hasClass("fr-hnw")||o.hasClass("fr-hsw"))&&(d=0-d),(o.hasClass("fr-hnw")||o.hasClass("fr-hne"))&&(c=0-c),p.css("width",f+d),p.css("height",h+c),p.removeAttr("width"),p.removeAttr("height"),g()}}function h(e){if(!t.core.sameInstance(r))return!0;o&&i&&(e&&e.stopPropagation(),o=null,n.hide(),g(),l(),t.undo.saveStep())}function u(e){return'<div class="fr-handler fr-h'+e+'"></div>'}function g(){var o;r||(t.shared.$audio_resizer?(r=t.shared.$audio_resizer,n=t.shared.$audio_overlay,t.events.on("destroy",(function(){r.removeClass("fr-active").appendTo(e("body"))}),!0)):(t.shared.$audio_resizer=e('<div class="fr-video-resizer"></div>'),r=t.shared.$audio_resizer,t.events.$on(r,"mousedown",(function(e){e.stopPropagation()}),!0),t.opts.audioResize&&(r.append(u("nw")+u("ne")+u("sw")+u("se")),t.shared.$audio_overlay=e('<div class="fr-video-overlay"></div>'),n=t.shared.$audio_overlay,o=r.get(0).ownerDocument,e(o).find("body").append(n))),t.events.on("shared.destroy",(function(){r.html("").removeData().remove(),r=null,t.opts.audioResize&&(n.remove(),n=null)}),!0),t.helpers.isMobile()||t.events.$on(e(t.o_win),"resize.audio",(function(){v(!0)})),t.opts.audioResize&&(o=r.get(0).ownerDocument,t.events.$on(r,t._mousedown,".fr-handler",p),t.events.$on(e(o),t._mousemove,f),t.events.$on(e(o.defaultView||o.parentWindow),t._mouseup,h),t.events.$on(n,"mouseleave",h))),(t.$wp||e(t.opts.scrollableContainer)).append(r),r.data("instance",t);var a=i.find("iframe, embed, audio");r.css("top",(t.opts.iframe?a.offset().top-1:a.offset().top-t.$wp.offset().top-1)+t.$wp.scrollTop()).css("left",(t.opts.iframe?a.offset().left-1:a.offset().left-t.$wp.offset().left-1)+t.$wp.scrollLeft()).css("width",a.outerWidth()).css("height",a.height()).addClass("fr-active")}function m(n){if(n&&"touchend"==n.type&&a)return!0;if(n.preventDefault(),n.stopPropagation(),t.edit.isDisabled())return!1;for(var o=0;o<e.FE.INSTANCES.length;o++)e.FE.INSTANCES[o]!=t&&e.FE.INSTANCES[o].events.trigger("audio.hideResizer");t.toolbar.disable(),t.helpers.isMobile()&&(t.events.disableBlur(),t.$el.blur(),t.events.enableBlur()),i=e(this),e(this).addClass("fr-active"),t.opts.iframe&&t.size.syncIframe(),g(),l(),t.selection.clear(),t.button.bulkRefresh(),t.events.trigger("image.hideResizer")}function v(e){i&&(t.shared.audio_exit_flag||!0===e)&&(r.removeClass("fr-active"),t.toolbar.enable(),i.removeClass("fr-active"),i=null,E())}function b(){t.shared.audio_exit_flag=!0}function E(){t.shared.audio_exit_flag=!1}function y(){if(i){var e=t.popups.get("audio.size"),n=i.find("iframe, embed, audio");e.find('input[name="width"]').val(n.get(0).style.width||n.attr("width")).trigger("change"),e.find('input[name="height"]').val(n.get(0).style.height||n.attr("height")).trigger("change")}}function w(){var n=t.popups.get("audio.size");n||(n=S()),t.popups.refresh("audio.size"),t.popups.setContainer("audio.size",e(t.opts.scrollableContainer));var o=i.find("iframe, embed, audio");t.popups.showEl("audio.size",o)}function S(e){if(e)return t.popups.onRefresh("audio.size",y),!0;var n={buttons:'<div class="fr-buttons">'+t.button.buildList(t.opts.audioSizeButtons)+"</div>",size_layer:'<div class="fr-video-size-layer fr-layer fr-active" id="fr-video-size-layer-'+t.id+'"><div class="fr-audio-group"><div class="fr-input-line"><input type="text" name="width" placeholder="'+t.language.translate("Width")+'" tabIndex="1"></div><div class="fr-input-line"><input type="text" name="height" placeholder="'+t.language.translate("Height")+'" tabIndex="1"></div></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-submit" data-cmd="audioSetSize" tabIndex="2">'+t.language.translate("Update")+"</button></div></div>"},o=t.popups.create("audio.size",n);return t.events.$on(t.$wp,"scroll",(function(){i&&t.popups.isVisible("audio.size")&&w()})),o}function C(){if(i&&!1!==t.events.trigger("audio.beforeRemove",[i])){var e=i;t.popups.hideAll(),v(!0),t.selection.setBefore(e.get(0))||t.selection.setAfter(e.get(0)),e.remove(),t.selection.restore(),t.html.fillEmptyBlocks(),t.events.trigger("audio.removed",[e])}}function _(e){if(!e.hasClass("fr-dvi")&&!e.hasClass("fr-dvb")){var n=e.css("float");e.css("float","none"),"block"==e.css("display")?(e.css("float",n),0===parseInt(e.css("margin-left"),10)&&(e.attr("style")||"").indexOf("margin-right: auto")>=0?e.addClass("fr-fvl"):0===parseInt(e.css("margin-right"),10)&&(e.attr("style")||"").indexOf("margin-left: auto")>=0&&e.addClass("fr-fvr"),e.addClass("fr-dvb")):(e.css("float",n),"left"==e.css("float")?e.addClass("fr-fvl"):"right"==e.css("float")&&e.addClass("fr-fvr"),e.addClass("fr-dvi")),e.css("margin",""),e.css("float",""),e.css("display",""),e.css("z-index",""),e.css("position",""),e.css("overflow",""),e.css("vertical-align","")}t.opts.audioTextNear||e.removeClass("fr-dvi").addClass("fr-dvb")}function T(){t.$el.find("audio").filter((function(){return 0===e(this).parents("span.fr-video").length})).wrap('<span class="fr-video" contenteditable="false"></span>'),t.$el.find("embed, iframe").filter((function(){if(t.browser.safari&&this.getAttribute("src")&&this.setAttribute("src",this.src),e(this).parents("span.fr-video").length>0)return!1;for(var n=e(this).attr("src"),o=0;o<e.FE.VIDEO_PROVIDERS.length;o++){if(e.FE.VIDEO_PROVIDERS[o].test_regex.test(n))return!0}return!1})).map((function(){return 0===e(this).parents("object").length?this:e(this).parents("object").get(0)})).wrap('<span class="fr-video" contenteditable="false"></span>');for(var n=t.$el.find("span.fr-video"),o=0;o<n.length;o++)_(e(n[o]));n.toggleClass("fr-draggable",t.opts.audioMove)}return t.shared.audio_exit_flag=!1,{_init:function(){t.events.on("mousedown window.mousedown",b),t.events.on("window.touchmove",E),t.events.on("mouseup window.mouseup",v),t.events.on("commands.mousedown",(function(e){e.parents(".fr-toolbar").length>0&&v()})),t.events.on("blur audio.hideResizer commands.undo commands.redo element.dropped",(function(){v(!0)})),t.helpers.isMobile()&&(t.events.$on(t.$el,"touchstart","span.fr-video",(function(){a=!1})),t.events.$on(t.$el,"touchmove",(function(){a=!0}))),t.events.on("html.set",T),T(),t.events.$on(t.$el,"mousedown","span.fr-video",(function(e){e.stopPropagation()})),t.events.$on(t.$el,"click touchend","span.fr-video",m),t.events.on("keydown",(function(n){var o=n.which;return!i||o!=e.FE.KEYCODE.BACKSPACE&&o!=e.FE.KEYCODE.DELETE?i&&o==e.FE.KEYCODE.ESC?(v(!0),n.preventDefault(),!1):i&&!t.keys.ctrlKey(n)?(n.preventDefault(),!1):void 0:(n.preventDefault(),C(),!1)}),!0),t.events.on("keydown",(function(){t.$el.find("span.fr-video:empty").remove()})),d(!0),S(!0)},showInsertPopup:function(){var e=t.$tb.find('.fr-command[data-cmd="insertAudio"]'),n=t.popups.get("audio.insert");if(n||(n=d()),!n.hasClass("fr-active")){t.popups.refresh("audio.insert"),t.popups.setContainer("audio.insert",t.$tb);var o=e.offset().left+e.outerWidth()/2,r=e.offset().top+(t.opts.toolbarBottom?10:e.outerHeight()-10);t.popups.show("audio.insert",o,r,e.outerHeight())}},showLayer:function(e){var n,o,r=t.popups.get("audio.insert");if(!i&&!t.opts.toolbarInline){var a=t.$tb.find('.fr-command[data-cmd="insertAudio"]');n=a.offset().left+a.outerWidth()/2,o=a.offset().top+(t.opts.toolbarBottom?10:a.outerHeight()-10)}t.opts.toolbarInline&&(o=r.offset().top-t.helpers.getPX(r.css("margin-top")),r.hasClass("fr-above")&&(o+=r.outerHeight())),r.find(".fr-layer").removeClass("fr-active"),r.find(".fr-"+e+"-layer").addClass("fr-active"),t.popups.show("audio.insert",n,o,0)},refreshByURLButton:function(e){t.popups.get("audio.insert").find(".fr-audio-by-url-layer").hasClass("fr-active")&&e.addClass("fr-active")},refreshEmbedButton:function(e){t.popups.get("audio.insert").find(".fr-audio-embed-layer").hasClass("fr-active")&&e.addClass("fr-active")},insertByURL:function(n){void 0===n&&(n=t.popups.get("audio.insert").find('.fr-audio-by-url-layer input[type="text"]').val()||"");var o=null;if(t.helpers.isURL(n))for(var r=0;r<e.FE.VIDEO_PROVIDERS.length;r++){var i=e.FE.VIDEO_PROVIDERS[r];if(i.test_regex.test(n)){o=n.replace(i.url_regex,i.url_text),o=i.html.replace(/\{url\}/,o);break}}o?c(o):t.events.trigger("audio.linkError",[n])},insertEmbed:function(n){void 0===n&&(n=t.popups.get("audio.insert").find(".fr-audio-embed-layer textarea").val()||""),0!==n.length&&e.FE.VIDEO_EMBED_REGEX.test(n)?c(n):t.events.trigger("audio.codeError",[n])},insert:c,align:function(e){i.removeClass("fr-fvr fr-fvl"),"left"==e?i.addClass("fr-fvl"):"right"==e&&i.addClass("fr-fvr"),g(),l()},refreshAlign:function(e){if(!i)return!1;i.hasClass("fr-fvl")?e.find("> *:first").replaceWith(t.icon.create("align-left")):i.hasClass("fr-fvr")?e.find("> *:first").replaceWith(t.icon.create("align-right")):e.find("> *:first").replaceWith(t.icon.create("align-justify"))},refreshAlignOnShow:function(e,t){var n="justify";i.hasClass("fr-fvl")?n="left":i.hasClass("fr-fvr")&&(n="right"),t.find('.fr-command[data-param1="'+n+'"]').addClass("fr-active")},display:function(e){i.removeClass("fr-dvi fr-dvb"),"inline"==e?i.addClass("fr-dvi"):"block"==e&&i.addClass("fr-dvb"),g(),l()},refreshDisplayOnShow:function(e,t){var n="block";i.hasClass("fr-dvi")&&(n="inline"),t.find('.fr-command[data-param1="'+n+'"]').addClass("fr-active")},remove:C,showSizePopup:w,back:function(){i?i.trigger("click"):(t.events.disableBlur(),t.selection.restore(),t.events.enableBlur(),t.popups.hide("audio.insert"),t.toolbar.showInline())},setSize:function(e,n){if(i){var o=t.popups.get("audio.size"),r=i.find("iframe, embed, audio");r.css("width",e||o.find('input[name="width"]').val()),r.css("height",n||o.find('input[name="height"]').val()),r.get(0).style.width&&r.removeAttr("width"),r.get(0).style.height&&r.removeAttr("height"),o.find("input").blur(),setTimeout((function(){i.trigger("click")}),t.helpers.isAndroid()?50:0)}},get:function(){return i}}},e.FE.RegisterCommand("insertAudio",{title:"Insert Audio",undo:!1,focus:!0,refreshAfterCallback:!1,popup:!0,callback:function(){this.popups.isVisible("audio.insert")?(this.$el.find(".fr-marker")&&(this.events.disableBlur(),this.selection.restore()),this.popups.hide("audio.insert")):this.audio.showInsertPopup()},plugin:"audio"}),e.FE.DefineIcon("insertAudio",{NAME:"volume-up"}),e.FE.DefineIcon("audioByURL",{NAME:"link"}),e.FE.RegisterCommand("audioByURL",{title:"By URL",undo:!1,focus:!1,callback:function(){this.audio.showLayer("audio-by-url")},refresh:function(e){this.audio.refreshByURLButton(e)}}),e.FE.DefineIcon("audioEmbed",{NAME:"code"}),e.FE.RegisterCommand("audioEmbed",{title:"Embedded Code",undo:!1,focus:!1,callback:function(){this.audio.showLayer("audio-embed")},refresh:function(e){this.audio.refreshEmbedButton(e)}}),e.FE.RegisterCommand("audioInsertByURL",{undo:!0,focus:!0,callback:function(){this.audio.insertByURL()}}),e.FE.RegisterCommand("audioInsertEmbed",{undo:!0,focus:!0,callback:function(){this.audio.insertEmbed()}}),e.FE.DefineIcon("audioDisplay",{NAME:"star"}),e.FE.RegisterCommand("audioDisplay",{title:"Display",type:"dropdown",options:{inline:"Inline",block:"Break Text"},callback:function(e,t){this.audio.display(t)},refresh:function(e){this.opts.audioTextNear||e.addClass("fr-hidden")},refreshOnShow:function(e,t){this.audio.refreshDisplayOnShow(e,t)}}),e.FE.DefineIcon("audioAlign",{NAME:"align-center"}),e.FE.RegisterCommand("audioAlign",{type:"dropdown",title:"Align",options:{left:"Align Left",justify:"None",right:"Align Right"},html:function(){var t='<ul class="fr-dropdown-list">',n=e.FE.COMMANDS.audioAlign.options;for(var o in n)n.hasOwnProperty(o)&&(t+='<li><a class="fr-command fr-title" data-cmd="audioAlign" data-param1="'+o+'" title="'+this.language.translate(n[o])+'">'+this.icon.create("align-"+o)+"</a></li>");return t+="</ul>"},callback:function(e,t){this.audio.align(t)},refresh:function(e){this.audio.refreshAlign(e)},refreshOnShow:function(e,t){this.audio.refreshAlignOnShow(e,t)}}),e.FE.DefineIcon("audioRemove",{NAME:"trash"}),e.FE.RegisterCommand("audioRemove",{title:"Remove",callback:function(){this.audio.remove()}}),e.FE.DefineIcon("audioSize",{NAME:"arrows-alt"}),e.FE.RegisterCommand("audioSize",{undo:!1,focus:!1,title:"Change Size",callback:function(){this.audio.showSizePopup()}}),e.FE.DefineIcon("audioBack",{NAME:"arrow-left"}),e.FE.RegisterCommand("audioBack",{title:"Back",undo:!1,focus:!1,back:!0,callback:function(){this.audio.back()},refresh:function(e){this.audio.get()||this.opts.toolbarInline?(e.removeClass("fr-hidden"),e.next(".fr-separator").removeClass("fr-hidden")):(e.addClass("fr-hidden"),e.next(".fr-separator").addClass("fr-hidden"))}}),e.FE.RegisterCommand("audioSetSize",{undo:!0,focus:!1,callback:function(){this.audio.setSize()}})}(jQuery),function(e){e.FE.PLUGINS.quote=function(t){function n(e){for(;e.parentNode&&e.parentNode!=t.el;)e=e.parentNode;return e}return{apply:function(o){t.selection.save(),t.html.wrap(!0,!0,!0,!0),t.selection.restore(),"increase"==o?function(){var o,r=t.selection.blocks();for(o=0;o<r.length;o++)r[o]=n(r[o]);t.selection.save();var i=e("<blockquote>");for(i.insertBefore(r[0]),o=0;o<r.length;o++)i.append(r[o]);t.html.unwrap(),t.selection.restore()}():"decrease"==o&&function(){var n,o=t.selection.blocks();for(n=0;n<o.length;n++)"BLOCKQUOTE"!=o[n].tagName&&(o[n]=e(o[n]).parentsUntil(t.$el,"BLOCKQUOTE").get(0));for(t.selection.save(),n=0;n<o.length;n++)o[n]&&e(o[n]).replaceWith(o[n].innerHTML);t.html.unwrap(),t.selection.restore()}()}}},e.FE.RegisterShortcut(e.FE.KEYCODE.SINGLE_QUOTE,"quote","increase","'"),e.FE.RegisterShortcut(e.FE.KEYCODE.SINGLE_QUOTE,"quote","decrease","'",!0),e.FE.RegisterCommand("quote",{title:"Quote",type:"dropdown",html:function(){var e='<ul class="fr-dropdown-list" role="presentation">',t={increase:"Increase",decrease:"Decrease"};for(var n in t)if(t.hasOwnProperty(n)){var o=this.shortcuts.get("quote."+n);e+='<li role="presentation"><a class="fr-command fr-active '+n+'" tabIndex="-1" role="option" data-cmd="quote" data-param1="'+n+'" title="'+t[n]+'">'+this.language.translate(t[n])+(o?'<span class="fr-shortcut">'+o+"</span>":"")+"</a></li>"}return e+="</ul>"},callback:function(e,t){this.quote.apply(t)},plugin:"quote"}),e.FE.DefineIcon("quote",{NAME:"quote-left"})}(jQuery),function(e){e.extend(e.FE.DEFAULTS,{fontSize:["8","9","10","11","12","14","18","24","30","36","48","60","72","96"],fontSizeSelection:!1,fontSizeDefaultSelection:"12",fontSizeUnit:"px"}),e.FE.PLUGINS.fontSize=function(t){return{apply:function(e){t.format.applyStyle("font-size",e)},refreshOnShow:function(n,o){var r=e(t.selection.element()).css("font-size");"pt"===t.opts.fontSizeUnit&&(r=Math.round(72*parseFloat(r,10)/96)+"pt"),o.find(".fr-command.fr-active").removeClass("fr-active").attr("aria-selected",!1),o.find('.fr-command[data-param1="'+r+'"]').addClass("fr-active").attr("aria-selected",!0);var i=o.find(".fr-dropdown-list"),a=o.find(".fr-active").parent();a.length?i.parent().scrollTop(a.offset().top-i.offset().top-(i.parent().outerHeight()/2-a.outerHeight()/2)):i.parent().scrollTop(0)},refresh:function(n){if(t.opts.fontSizeSelection){var o=t.helpers.getPX(e(t.selection.element()).css("font-size"));"pt"===t.opts.fontSizeUnit&&(o=Math.round(72*parseFloat(o,10)/96)+"pt"),n.find("> span").text(o)}}}},e.FE.RegisterCommand("fontSize",{type:"dropdown",title:"Font Size",displaySelection:function(e){return e.opts.fontSizeSelection},displaySelectionWidth:30,defaultSelection:function(e){return e.opts.fontSizeDefaultSelection},html:function(){for(var e='<ul class="fr-dropdown-list" role="presentation">',t=this.opts.fontSize,n=0;n<t.length;n++){var o=t[n];e+='<li role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="fontSize" data-param1="'+o+this.opts.fontSizeUnit+'" title="'+o+'">'+o+"</a></li>"}return e+="</ul>"},callback:function(e,t){this.fontSize.apply(t)},refresh:function(e){this.fontSize.refresh(e)},refreshOnShow:function(e,t){this.fontSize.refreshOnShow(e,t)},plugin:"fontSize"}),e.FE.DefineIcon("fontSize",{NAME:"text-height"})}(jQuery),function(e){e.extend(e.FE.DEFAULTS,{fontFamily:{"Arial,Helvetica,sans-serif":"Arial","Georgia,serif":"Georgia","Impact,Charcoal,sans-serif":"Impact","Tahoma,Geneva,sans-serif":"Tahoma","Times New Roman,Times,serif,-webkit-standard":"Times New Roman","Verdana,Geneva,sans-serif":"Verdana"},fontFamilySelection:!1,fontFamilyDefaultSelection:"Font Family"}),e.FE.PLUGINS.fontFamily=function(t){function n(t){var n=t.replace(/(sans-serif|serif|monospace|cursive|fantasy)/gi,"").replace(/"|'| /g,"").split(",");return e.grep(n,(function(e){return e.length>0}))}function o(e,t){for(var n=0;n<e.length;n++)for(var o=0;o<t.length;o++)if(e[n].toLowerCase()==t[o].toLowerCase())return[n,o];return null}function r(){var r=n(e(t.selection.element()).css("font-family")),i=[];for(var a in t.opts.fontFamily)if(t.opts.fontFamily.hasOwnProperty(a)){var s=o(r,n(a));s&&i.push([a,s])}return 0===i.length?null:(i.sort((function(e,t){var n=e[1][0]-t[1][0];return 0===n?e[1][1]-t[1][1]:n})),i[0][0])}return{apply:function(e){t.format.applyStyle("font-family",e)},refreshOnShow:function(e,t){t.find(".fr-command.fr-active").removeClass("fr-active").attr("aria-selected",!1),t.find('.fr-command[data-param1="'+r()+'"]').addClass("fr-active").attr("aria-selected",!0);var n=t.find(".fr-dropdown-list"),o=t.find(".fr-active").parent();o.length?n.parent().scrollTop(o.offset().top-n.offset().top-(n.parent().outerHeight()/2-o.outerHeight()/2)):n.parent().scrollTop(0)},refresh:function(n){if(t.opts.fontFamilySelection){var o=e(t.selection.element()).css("font-family").replace(/(sans-serif|serif|monospace|cursive|fantasy)/gi,"").replace(/"|'|/g,"").split(",");n.find("> span").text(t.opts.fontFamily[r()]||o[0]||t.language.translate(t.opts.fontFamilyDefaultSelection))}}}},e.FE.RegisterCommand("fontFamily",{type:"dropdown",displaySelection:function(e){return e.opts.fontFamilySelection},defaultSelection:function(e){return e.opts.fontFamilyDefaultSelection},displaySelectionWidth:120,html:function(){var e='<ul class="fr-dropdown-list" role="presentation">',t=this.opts.fontFamily;for(var n in t)t.hasOwnProperty(n)&&(e+='<li role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="fontFamily" data-param1="'+n+'" style="font-family: '+n+'" title="'+t[n]+'">'+t[n]+"</a></li>");return e+="</ul>"},title:"Font Family",callback:function(e,t){this.fontFamily.apply(t)},refresh:function(e){this.fontFamily.refresh(e)},refreshOnShow:function(e,t){this.fontFamily.refreshOnShow(e,t)},plugin:"fontFamily"}),e.FE.DefineIcon("fontFamily",{NAME:"font"})}(jQuery),function(e){e.extend(e.FE.POPUP_TEMPLATES,{icons:"[_BUTTONS_][_ICONS_]"}),e.extend(e.FE.DEFAULTS,{iconsStep:8,iconsSet:[{code:"ph ph-address-book",desc:"Address Book"},{code:"ph ph-airplane",desc:"Airplane"},{code:"ph ph-airplane-in-flight",desc:"Airplane In Flight"},{code:"ph ph-airplane-landing",desc:"Airplane Landing"},{code:"ph ph-airplane-takeoff",desc:"Airplane Takeoff"},{code:"ph ph-airplane-tilt",desc:"Airplane Tilt"},{code:"ph ph-airplay",desc:"Airplay"},{code:"ph ph-air-traffic-control",desc:"Air Traffic Control"},{code:"ph ph-alarm",desc:"Alarm"},{code:"ph ph-alien",desc:"Alien"},{code:"ph ph-align-bottom",desc:"Align Bottom"},{code:"ph ph-align-bottom-simple",desc:"Align Bottom Simple"},{code:"ph ph-align-center-horizontal",desc:"Align Center Horizontal"},{code:"ph ph-align-center-horizontal-simple",desc:"Align Center Horizontal Simple"},{code:"ph ph-align-center-vertical",desc:"Align Center Vertical"},{code:"ph ph-align-center-vertical-simple",desc:"Align Center Vertical Simple"},{code:"ph ph-align-left",desc:"Align Left"},{code:"ph ph-align-left-simple",desc:"Align Left Simple"},{code:"ph ph-align-right",desc:"Align Right"},{code:"ph ph-align-right-simple",desc:"Align Right Simple"},{code:"ph ph-align-top",desc:"Align Top"},{code:"ph ph-align-top-simple",desc:"Align Top Simple"},{code:"ph ph-amazon-logo",desc:"Amazon Logo"},{code:"ph ph-anchor",desc:"Anchor"},{code:"ph ph-anchor-simple",desc:"Anchor Simple"},{code:"ph ph-android-logo",desc:"Android Logo"},{code:"ph ph-angular-logo",desc:"Angular Logo"},{code:"ph ph-aperture",desc:"Aperture"},{code:"ph ph-apple-logo",desc:"Apple Logo"},{code:"ph ph-apple-podcasts-logo",desc:"Apple Podcasts Logo"},{code:"ph ph-app-store-logo",desc:"App Store Logo"},{code:"ph ph-app-window",desc:"App Window"},{code:"ph ph-archive",desc:"Archive"},{code:"ph ph-archive-box",desc:"Archive Box"},{code:"ph ph-archive-tray",desc:"Archive Tray"},{code:"ph ph-armchair",desc:"Armchair"},{code:"ph ph-arrow-arc-left",desc:"Arrow Arc Left"},{code:"ph ph-arrow-arc-right",desc:"Arrow Arc Right"},{code:"ph ph-arrow-bend-double-up-left",desc:"Arrow Bend Double Up Left"},{code:"ph ph-arrow-bend-double-up-right",desc:"Arrow Bend Double Up Right"},{code:"ph ph-arrow-bend-down-left",desc:"Arrow Bend Down Left"},{code:"ph ph-arrow-bend-down-right",desc:"Arrow Bend Down Right"},{code:"ph ph-arrow-bend-left-down",desc:"Arrow Bend Left Down"},{code:"ph ph-arrow-bend-left-up",desc:"Arrow Bend Left Up"},{code:"ph ph-arrow-bend-right-down",desc:"Arrow Bend Right Down"},{code:"ph ph-arrow-bend-right-up",desc:"Arrow Bend Right Up"},{code:"ph ph-arrow-bend-up-left",desc:"Arrow Bend Up Left"},{code:"ph ph-arrow-bend-up-right",desc:"Arrow Bend Up Right"},{code:"ph ph-arrow-circle-down",desc:"Arrow Circle Down"},{code:"ph ph-arrow-circle-down-left",desc:"Arrow Circle Down Left"},{code:"ph ph-arrow-circle-down-right",desc:"Arrow Circle Down Right"},{code:"ph ph-arrow-circle-left",desc:"Arrow Circle Left"},{code:"ph ph-arrow-circle-right",desc:"Arrow Circle Right"},{code:"ph ph-arrow-circle-up",desc:"Arrow Circle Up"},{code:"ph ph-arrow-circle-up-left",desc:"Arrow Circle Up Left"},{code:"ph ph-arrow-circle-up-right",desc:"Arrow Circle Up Right"},{code:"ph ph-arrow-clockwise",desc:"Arrow Clockwise"},{code:"ph ph-arrow-counter-clockwise",desc:"Arrow Counter Clockwise"},{code:"ph ph-arrow-down",desc:"Arrow Down"},{code:"ph ph-arrow-down-left",desc:"Arrow Down Left"},{code:"ph ph-arrow-down-right",desc:"Arrow Down Right"},{code:"ph ph-arrow-elbow-down-left",desc:"Arrow Elbow Down Left"},{code:"ph ph-arrow-elbow-down-right",desc:"Arrow Elbow Down Right"},{code:"ph ph-arrow-elbow-left",desc:"Arrow Elbow Left"},{code:"ph ph-arrow-elbow-left-down",desc:"Arrow Elbow Left Down"},{code:"ph ph-arrow-elbow-left-up",desc:"Arrow Elbow Left Up"},{code:"ph ph-arrow-elbow-right",desc:"Arrow Elbow Right"},{code:"ph ph-arrow-elbow-right-down",desc:"Arrow Elbow Right Down"},{code:"ph ph-arrow-elbow-right-up",desc:"Arrow Elbow Right Up"},{code:"ph ph-arrow-elbow-up-left",desc:"Arrow Elbow Up Left"},{code:"ph ph-arrow-elbow-up-right",desc:"Arrow Elbow Up Right"},{code:"ph ph-arrow-fat-down",desc:"Arrow Fat Down"},{code:"ph ph-arrow-fat-left",desc:"Arrow Fat Left"},{code:"ph ph-arrow-fat-line-down",desc:"Arrow Fat Line Down"},{code:"ph ph-arrow-fat-line-left",desc:"Arrow Fat Line Left"},{code:"ph ph-arrow-fat-line-right",desc:"Arrow Fat Line Right"},{code:"ph ph-arrow-fat-lines-down",desc:"Arrow Fat Lines Down"},{code:"ph ph-arrow-fat-lines-left",desc:"Arrow Fat Lines Left"},{code:"ph ph-arrow-fat-lines-right",desc:"Arrow Fat Lines Right"},{code:"ph ph-arrow-fat-lines-up",desc:"Arrow Fat Lines Up"},{code:"ph ph-arrow-fat-line-up",desc:"Arrow Fat Line Up"},{code:"ph ph-arrow-fat-right",desc:"Arrow Fat Right"},{code:"ph ph-arrow-fat-up",desc:"Arrow Fat Up"},{code:"ph ph-arrow-left",desc:"Arrow Left"},{code:"ph ph-arrow-line-down",desc:"Arrow Line Down"},{code:"ph ph-arrow-line-down-left",desc:"Arrow Line Down Left"},{code:"ph ph-arrow-line-down-right",desc:"Arrow Line Down Right"},{code:"ph ph-arrow-line-left",desc:"Arrow Line Left"},{code:"ph ph-arrow-line-right",desc:"Arrow Line Right"},{code:"ph ph-arrow-line-up",desc:"Arrow Line Up"},{code:"ph ph-arrow-line-up-left",desc:"Arrow Line Up Left"},{code:"ph ph-arrow-line-up-right",desc:"Arrow Line Up Right"},{code:"ph ph-arrow-right",desc:"Arrow Right"},{code:"ph ph-arrows-clockwise",desc:"Arrows Clockwise"},{code:"ph ph-arrows-counter-clockwise",desc:"Arrows Counter Clockwise"},{code:"ph ph-arrows-down-up",desc:"Arrows Down Up"},{code:"ph ph-arrows-horizontal",desc:"Arrows Horizontal"},{code:"ph ph-arrows-in",desc:"Arrows In"},{code:"ph ph-arrows-in-cardinal",desc:"Arrows In Cardinal"},{code:"ph ph-arrows-in-line-horizontal",desc:"Arrows In Line Horizontal"},{code:"ph ph-arrows-in-line-vertical",desc:"Arrows In Line Vertical"},{code:"ph ph-arrows-in-simple",desc:"Arrows In Simple"},{code:"ph ph-arrows-left-right",desc:"Arrows Left Right"},{code:"ph ph-arrows-merge",desc:"Arrows Merge"},{code:"ph ph-arrows-out",desc:"Arrows Out"},{code:"ph ph-arrows-out-cardinal",desc:"Arrows Out Cardinal"},{code:"ph ph-arrows-out-line-horizontal",desc:"Arrows Out Line Horizontal"},{code:"ph ph-arrows-out-line-vertical",desc:"Arrows Out Line Vertical"},{code:"ph ph-arrows-out-simple",desc:"Arrows Out Simple"},{code:"ph ph-arrow-square-down",desc:"Arrow Square Down"},{code:"ph ph-arrow-square-down-left",desc:"Arrow Square Down Left"},{code:"ph ph-arrow-square-down-right",desc:"Arrow Square Down Right"},{code:"ph ph-arrow-square-in",desc:"Arrow Square In"},{code:"ph ph-arrow-square-left",desc:"Arrow Square Left"},{code:"ph ph-arrow-square-out",desc:"Arrow Square Out"},{code:"ph ph-arrow-square-right",desc:"Arrow Square Right"},{code:"ph ph-arrow-square-up",desc:"Arrow Square Up"},{code:"ph ph-arrow-square-up-left",desc:"Arrow Square Up Left"},{code:"ph ph-arrow-square-up-right",desc:"Arrow Square Up Right"},{code:"ph ph-arrows-split",desc:"Arrows Split"},{code:"ph ph-arrows-vertical",desc:"Arrows Vertical"},{code:"ph ph-arrow-u-down-left",desc:"Arrow U Down Left"},{code:"ph ph-arrow-u-down-right",desc:"Arrow U Down Right"},{code:"ph ph-arrow-u-left-down",desc:"Arrow U Left Down"},{code:"ph ph-arrow-u-left-up",desc:"Arrow U Left Up"},{code:"ph ph-arrow-up",desc:"Arrow Up"},{code:"ph ph-arrow-up-left",desc:"Arrow Up Left"},{code:"ph ph-arrow-up-right",desc:"Arrow Up Right"},{code:"ph ph-arrow-u-right-down",desc:"Arrow U Right Down"},{code:"ph ph-arrow-u-right-up",desc:"Arrow U Right Up"},{code:"ph ph-arrow-u-up-left",desc:"Arrow U Up Left"},{code:"ph ph-arrow-u-up-right",desc:"Arrow U Up Right"},{code:"ph ph-article",desc:"Article"},{code:"ph ph-article-medium",desc:"Article Medium"},{code:"ph ph-article-ny-times",desc:"Article Ny Times"},{code:"ph ph-asterisk",desc:"Asterisk"},{code:"ph ph-asterisk-simple",desc:"Asterisk Simple"},{code:"ph ph-at",desc:"At"},{code:"ph ph-atom",desc:"Atom"},{code:"ph ph-baby",desc:"Baby"},{code:"ph ph-backpack",desc:"Backpack"},{code:"ph ph-backspace",desc:"Backspace"},{code:"ph ph-bag",desc:"Bag"},{code:"ph ph-bag-simple",desc:"Bag Simple"},{code:"ph ph-balloon",desc:"Balloon"},{code:"ph ph-bandaids",desc:"Bandaids"},{code:"ph ph-bank",desc:"Bank"},{code:"ph ph-barbell",desc:"Barbell"},{code:"ph ph-barcode",desc:"Barcode"},{code:"ph ph-barricade",desc:"Barricade"},{code:"ph ph-baseball",desc:"Baseball"},{code:"ph ph-baseball-cap",desc:"Baseball Cap"},{code:"ph ph-basket",desc:"Basket"},{code:"ph ph-basketball",desc:"Basketball"},{code:"ph ph-bathtub",desc:"Bathtub"},{code:"ph ph-battery-charging",desc:"Battery Charging"},{code:"ph ph-battery-charging-vertical",desc:"Battery Charging Vertical"},{code:"ph ph-battery-empty",desc:"Battery Empty"},{code:"ph ph-battery-full",desc:"Battery Full"},{code:"ph ph-battery-high",desc:"Battery High"},{code:"ph ph-battery-low",desc:"Battery Low"},{code:"ph ph-battery-medium",desc:"Battery Medium"},{code:"ph ph-battery-plus",desc:"Battery Plus"},{code:"ph ph-battery-plus-vertical",desc:"Battery Plus Vertical"},{code:"ph ph-battery-vertical-empty",desc:"Battery Vertical Empty"},{code:"ph ph-battery-vertical-full",desc:"Battery Vertical Full"},{code:"ph ph-battery-vertical-high",desc:"Battery Vertical High"},{code:"ph ph-battery-vertical-low",desc:"Battery Vertical Low"},{code:"ph ph-battery-vertical-medium",desc:"Battery Vertical Medium"},{code:"ph ph-battery-warning",desc:"Battery Warning"},{code:"ph ph-battery-warning-vertical",desc:"Battery Warning Vertical"},{code:"ph ph-bed",desc:"Bed"},{code:"ph ph-beer-bottle",desc:"Beer Bottle"},{code:"ph ph-beer-stein",desc:"Beer Stein"},{code:"ph ph-behance-logo",desc:"Behance Logo"},{code:"ph ph-bell",desc:"Bell"},{code:"ph ph-bell-ringing",desc:"Bell Ringing"},{code:"ph ph-bell-simple",desc:"Bell Simple"},{code:"ph ph-bell-simple-ringing",desc:"Bell Simple Ringing"},{code:"ph ph-bell-simple-slash",desc:"Bell Simple Slash"},{code:"ph ph-bell-simple-z",desc:"Bell Simple Z"},{code:"ph ph-bell-slash",desc:"Bell Slash"},{code:"ph ph-bell-z",desc:"Bell Z"},{code:"ph ph-bezier-curve",desc:"Bezier Curve"},{code:"ph ph-bicycle",desc:"Bicycle"},{code:"ph ph-binoculars",desc:"Binoculars"},{code:"ph ph-bird",desc:"Bird"},{code:"ph ph-bluetooth",desc:"Bluetooth"},{code:"ph ph-bluetooth-connected",desc:"Bluetooth Connected"},{code:"ph ph-bluetooth-slash",desc:"Bluetooth Slash"},{code:"ph ph-bluetooth-x",desc:"Bluetooth X"},{code:"ph ph-boat",desc:"Boat"},{code:"ph ph-bone",desc:"Bone"},{code:"ph ph-book",desc:"Book"},{code:"ph ph-book-bookmark",desc:"Book Bookmark"},{code:"ph ph-bookmark",desc:"Bookmark"},{code:"ph ph-bookmarks",desc:"Bookmarks"},{code:"ph ph-bookmark-simple",desc:"Bookmark Simple"},{code:"ph ph-bookmarks-simple",desc:"Bookmarks Simple"},{code:"ph ph-book-open",desc:"Book Open"},{code:"ph ph-book-open-text",desc:"Book Open Text"},{code:"ph ph-books",desc:"Books"},{code:"ph ph-boot",desc:"Boot"},{code:"ph ph-bounding-box",desc:"Bounding Box"},{code:"ph ph-bowl-food",desc:"Bowl Food"},{code:"ph ph-brackets-angle",desc:"Brackets Angle"},{code:"ph ph-brackets-curly",desc:"Brackets Curly"},{code:"ph ph-brackets-round",desc:"Brackets Round"},{code:"ph ph-brackets-square",desc:"Brackets Square"},{code:"ph ph-brain",desc:"Brain"},{code:"ph ph-brandy",desc:"Brandy"},{code:"ph ph-bridge",desc:"Bridge"},{code:"ph ph-briefcase",desc:"Briefcase"},{code:"ph ph-briefcase-metal",desc:"Briefcase Metal"},{code:"ph ph-broadcast",desc:"Broadcast"},{code:"ph ph-broom",desc:"Broom"},{code:"ph ph-browser",desc:"Browser"},{code:"ph ph-browsers",desc:"Browsers"},{code:"ph ph-bug",desc:"Bug"},{code:"ph ph-bug-beetle",desc:"Bug Beetle"},{code:"ph ph-bug-droid",desc:"Bug Droid"},{code:"ph ph-buildings",desc:"Buildings"},{code:"ph ph-bus",desc:"Bus"},{code:"ph ph-butterfly",desc:"Butterfly"},{code:"ph ph-cactus",desc:"Cactus"},{code:"ph ph-cake",desc:"Cake"},{code:"ph ph-calculator",desc:"Calculator"},{code:"ph ph-calendar",desc:"Calendar"},{code:"ph ph-calendar-blank",desc:"Calendar Blank"},{code:"ph ph-calendar-check",desc:"Calendar Check"},{code:"ph ph-calendar-plus",desc:"Calendar Plus"},{code:"ph ph-calendar-x",desc:"Calendar X"},{code:"ph ph-call-bell",desc:"Call Bell"},{code:"ph ph-camera",desc:"Camera"},{code:"ph ph-camera-plus",desc:"Camera Plus"},{code:"ph ph-camera-rotate",desc:"Camera Rotate"},{code:"ph ph-camera-slash",desc:"Camera Slash"},{code:"ph ph-campfire",desc:"Campfire"},{code:"ph ph-car",desc:"Car"},{code:"ph ph-cardholder",desc:"Cardholder"},{code:"ph ph-cards",desc:"Cards"},{code:"ph ph-caret-circle-double-down",desc:"Caret Circle Double Down"},{code:"ph ph-caret-circle-double-left",desc:"Caret Circle Double Left"},{code:"ph ph-caret-circle-double-right",desc:"Caret Circle Double Right"},{code:"ph ph-caret-circle-double-up",desc:"Caret Circle Double Up"},{code:"ph ph-caret-circle-down",desc:"Caret Circle Down"},{code:"ph ph-caret-circle-left",desc:"Caret Circle Left"},{code:"ph ph-caret-circle-right",desc:"Caret Circle Right"},{code:"ph ph-caret-circle-up",desc:"Caret Circle Up"},{code:"ph ph-caret-circle-up-down",desc:"Caret Circle Up Down"},{code:"ph ph-caret-double-down",desc:"Caret Double Down"},{code:"ph ph-caret-double-left",desc:"Caret Double Left"},{code:"ph ph-caret-double-right",desc:"Caret Double Right"},{code:"ph ph-caret-double-up",desc:"Caret Double Up"},{code:"ph ph-caret-down",desc:"Caret Down"},{code:"ph ph-caret-left",desc:"Caret Left"},{code:"ph ph-caret-right",desc:"Caret Right"},{code:"ph ph-caret-up",desc:"Caret Up"},{code:"ph ph-caret-up-down",desc:"Caret Up Down"},{code:"ph ph-car-profile",desc:"Car Profile"},{code:"ph ph-carrot",desc:"Carrot"},{code:"ph ph-car-simple",desc:"Car Simple"},{code:"ph ph-cassette-tape",desc:"Cassette Tape"},{code:"ph ph-castle-turret",desc:"Castle Turret"},{code:"ph ph-cat",desc:"Cat"},{code:"ph ph-cell-signal-full",desc:"Cell Signal Full"},{code:"ph ph-cell-signal-high",desc:"Cell Signal High"},{code:"ph ph-cell-signal-low",desc:"Cell Signal Low"},{code:"ph ph-cell-signal-medium",desc:"Cell Signal Medium"},{code:"ph ph-cell-signal-none",desc:"Cell Signal None"},{code:"ph ph-cell-signal-slash",desc:"Cell Signal Slash"},{code:"ph ph-cell-signal-x",desc:"Cell Signal X"},{code:"ph ph-certificate",desc:"Certificate"},{code:"ph ph-chair",desc:"Chair"},{code:"ph ph-chalkboard",desc:"Chalkboard"},{code:"ph ph-chalkboard-simple",desc:"Chalkboard Simple"},{code:"ph ph-chalkboard-teacher",desc:"Chalkboard Teacher"},{code:"ph ph-champagne",desc:"Champagne"},{code:"ph ph-charging-station",desc:"Charging Station"},{code:"ph ph-chart-bar",desc:"Chart Bar"},{code:"ph ph-chart-bar-horizontal",desc:"Chart Bar Horizontal"},{code:"ph ph-chart-donut",desc:"Chart Donut"},{code:"ph ph-chart-line",desc:"Chart Line"},{code:"ph ph-chart-line-down",desc:"Chart Line Down"},{code:"ph ph-chart-line-up",desc:"Chart Line Up"},{code:"ph ph-chart-pie",desc:"Chart Pie"},{code:"ph ph-chart-pie-slice",desc:"Chart Pie Slice"},{code:"ph ph-chart-polar",desc:"Chart Polar"},{code:"ph ph-chart-scatter",desc:"Chart Scatter"},{code:"ph ph-chat",desc:"Chat"},{code:"ph ph-chat-centered",desc:"Chat Centered"},{code:"ph ph-chat-centered-dots",desc:"Chat Centered Dots"},{code:"ph ph-chat-centered-text",desc:"Chat Centered Text"},{code:"ph ph-chat-circle",desc:"Chat Circle"},{code:"ph ph-chat-circle-dots",desc:"Chat Circle Dots"},{code:"ph ph-chat-circle-text",desc:"Chat Circle Text"},{code:"ph ph-chat-dots",desc:"Chat Dots"},{code:"ph ph-chats",desc:"Chats"},{code:"ph ph-chats-circle",desc:"Chats Circle"},{code:"ph ph-chats-teardrop",desc:"Chats Teardrop"},{code:"ph ph-chat-teardrop",desc:"Chat Teardrop"},{code:"ph ph-chat-teardrop-dots",desc:"Chat Teardrop Dots"},{code:"ph ph-chat-teardrop-text",desc:"Chat Teardrop Text"},{code:"ph ph-chat-text",desc:"Chat Text"},{code:"ph ph-check",desc:"Check"},{code:"ph ph-check-circle",desc:"Check Circle"},{code:"ph ph-check-fat",desc:"Check Fat"},{code:"ph ph-checks",desc:"Checks"},{code:"ph ph-check-square",desc:"Check Square"},{code:"ph ph-check-square-offset",desc:"Check Square Offset"},{code:"ph ph-church",desc:"Church"},{code:"ph ph-circle",desc:"Circle"},{code:"ph ph-circle-dashed",desc:"Circle Dashed"},{code:"ph ph-circle-half",desc:"Circle Half"},{code:"ph ph-circle-half-tilt",desc:"Circle Half Tilt"},{code:"ph ph-circle-notch",desc:"Circle Notch"},{code:"ph ph-circles-four",desc:"Circles Four"},{code:"ph ph-circles-three",desc:"Circles Three"},{code:"ph ph-circles-three-plus",desc:"Circles Three Plus"},{code:"ph ph-circuitry",desc:"Circuitry"},{code:"ph ph-clipboard",desc:"Clipboard"},{code:"ph ph-clipboard-text",desc:"Clipboard Text"},{code:"ph ph-clock",desc:"Clock"},{code:"ph ph-clock-afternoon",desc:"Clock Afternoon"},{code:"ph ph-clock-clockwise",desc:"Clock Clockwise"},{code:"ph ph-clock-countdown",desc:"Clock Countdown"},{code:"ph ph-clock-counter-clockwise",desc:"Clock Counter Clockwise"},{code:"ph ph-closed-captioning",desc:"Closed Captioning"},{code:"ph ph-cloud",desc:"Cloud"},{code:"ph ph-cloud-arrow-down",desc:"Cloud Arrow Down"},{code:"ph ph-cloud-arrow-up",desc:"Cloud Arrow Up"},{code:"ph ph-cloud-check",desc:"Cloud Check"},{code:"ph ph-cloud-fog",desc:"Cloud Fog"},{code:"ph ph-cloud-lightning",desc:"Cloud Lightning"},{code:"ph ph-cloud-moon",desc:"Cloud Moon"},{code:"ph ph-cloud-rain",desc:"Cloud Rain"},{code:"ph ph-cloud-slash",desc:"Cloud Slash"},{code:"ph ph-cloud-snow",desc:"Cloud Snow"},{code:"ph ph-cloud-sun",desc:"Cloud Sun"},{code:"ph ph-cloud-warning",desc:"Cloud Warning"},{code:"ph ph-cloud-x",desc:"Cloud X"},{code:"ph ph-club",desc:"Club"},{code:"ph ph-coat-hanger",desc:"Coat Hanger"},{code:"ph ph-coda-logo",desc:"Coda Logo"},{code:"ph ph-code",desc:"Code"},{code:"ph ph-code-block",desc:"Code Block"},{code:"ph ph-codepen-logo",desc:"Codepen Logo"},{code:"ph ph-codesandbox-logo",desc:"Codesandbox Logo"},{code:"ph ph-code-simple",desc:"Code Simple"},{code:"ph ph-coffee",desc:"Coffee"},{code:"ph ph-coin",desc:"Coin"},{code:"ph ph-coins",desc:"Coins"},{code:"ph ph-coin-vertical",desc:"Coin Vertical"},{code:"ph ph-columns",desc:"Columns"},{code:"ph ph-command",desc:"Command"},{code:"ph ph-compass",desc:"Compass"},{code:"ph ph-compass-tool",desc:"Compass Tool"},{code:"ph ph-computer-tower",desc:"Computer Tower"},{code:"ph ph-confetti",desc:"Confetti"},{code:"ph ph-contactless-payment",desc:"Contactless Payment"},{code:"ph ph-control",desc:"Control"},{code:"ph ph-cookie",desc:"Cookie"},{code:"ph ph-cooking-pot",desc:"Cooking Pot"},{code:"ph ph-copy",desc:"Copy"},{code:"ph ph-copyleft",desc:"Copyleft"},{code:"ph ph-copyright",desc:"Copyright"},{code:"ph ph-copy-simple",desc:"Copy Simple"},{code:"ph ph-corners-in",desc:"Corners In"},{code:"ph ph-corners-out",desc:"Corners Out"},{code:"ph ph-couch",desc:"Couch"},{code:"ph ph-cpu",desc:"Cpu"},{code:"ph ph-credit-card",desc:"Credit Card"},{code:"ph ph-crop",desc:"Crop"},{code:"ph ph-cross",desc:"Cross"},{code:"ph ph-crosshair",desc:"Crosshair"},{code:"ph ph-crosshair-simple",desc:"Crosshair Simple"},{code:"ph ph-crown",desc:"Crown"},{code:"ph ph-crown-simple",desc:"Crown Simple"},{code:"ph ph-cube",desc:"Cube"},{code:"ph ph-cube-focus",desc:"Cube Focus"},{code:"ph ph-cube-transparent",desc:"Cube Transparent"},{code:"ph ph-currency-btc",desc:"Currency Btc"},{code:"ph ph-currency-circle-dollar",desc:"Currency Circle Dollar"},{code:"ph ph-currency-cny",desc:"Currency Cny"},{code:"ph ph-currency-dollar",desc:"Currency Dollar"},{code:"ph ph-currency-dollar-simple",desc:"Currency Dollar Simple"},{code:"ph ph-currency-eth",desc:"Currency Eth"},{code:"ph ph-currency-eur",desc:"Currency Eur"},{code:"ph ph-currency-gbp",desc:"Currency Gbp"},{code:"ph ph-currency-inr",desc:"Currency Inr"},{code:"ph ph-currency-jpy",desc:"Currency Jpy"},{code:"ph ph-currency-krw",desc:"Currency Krw"},{code:"ph ph-currency-kzt",desc:"Currency Kzt"},{code:"ph ph-currency-ngn",desc:"Currency Ngn"},{code:"ph ph-currency-rub",desc:"Currency Rub"},{code:"ph ph-cursor",desc:"Cursor"},{code:"ph ph-cursor-click",desc:"Cursor Click"},{code:"ph ph-cursor-text",desc:"Cursor Text"},{code:"ph ph-cylinder",desc:"Cylinder"},{code:"ph ph-database",desc:"Database"},{code:"ph ph-desktop",desc:"Desktop"},{code:"ph ph-desktop-tower",desc:"Desktop Tower"},{code:"ph ph-detective",desc:"Detective"},{code:"ph ph-device-mobile",desc:"Device Mobile"},{code:"ph ph-device-mobile-camera",desc:"Device Mobile Camera"},{code:"ph ph-device-mobile-speaker",desc:"Device Mobile Speaker"},{code:"ph ph-devices",desc:"Devices"},{code:"ph ph-device-tablet",desc:"Device Tablet"},{code:"ph ph-device-tablet-camera",desc:"Device Tablet Camera"},{code:"ph ph-device-tablet-speaker",desc:"Device Tablet Speaker"},{code:"ph ph-dev-to-logo",desc:"Dev To Logo"},{code:"ph ph-diamond",desc:"Diamond"},{code:"ph ph-diamonds-four",desc:"Diamonds Four"},{code:"ph ph-dice-five",desc:"Dice Five"},{code:"ph ph-dice-four",desc:"Dice Four"},{code:"ph ph-dice-one",desc:"Dice One"},{code:"ph ph-dice-six",desc:"Dice Six"},{code:"ph ph-dice-three",desc:"Dice Three"},{code:"ph ph-dice-two",desc:"Dice Two"},{code:"ph ph-disc",desc:"Disc"},{code:"ph ph-discord-logo",desc:"Discord Logo"},{code:"ph ph-divide",desc:"Divide"},{code:"ph ph-dna",desc:"Dna"},{code:"ph ph-dog",desc:"Dog"},{code:"ph ph-door",desc:"Door"},{code:"ph ph-door-open",desc:"Door Open"},{code:"ph ph-dot",desc:"Dot"},{code:"ph ph-dot-outline",desc:"Dot Outline"},{code:"ph ph-dots-nine",desc:"Dots Nine"},{code:"ph ph-dots-six",desc:"Dots Six"},{code:"ph ph-dots-six-vertical",desc:"Dots Six Vertical"},{code:"ph ph-dots-three",desc:"Dots Three"},{code:"ph ph-dots-three-circle",desc:"Dots Three Circle"},{code:"ph ph-dots-three-circle-vertical",desc:"Dots Three Circle Vertical"},{code:"ph ph-dots-three-outline",desc:"Dots Three Outline"},{code:"ph ph-dots-three-outline-vertical",desc:"Dots Three Outline Vertical"},{code:"ph ph-dots-three-vertical",desc:"Dots Three Vertical"},{code:"ph ph-download",desc:"Download"},{code:"ph ph-download-simple",desc:"Download Simple"},{code:"ph ph-dress",desc:"Dress"},{code:"ph ph-dribbble-logo",desc:"Dribbble Logo"},{code:"ph ph-drop",desc:"Drop"},{code:"ph ph-dropbox-logo",desc:"Dropbox Logo"},{code:"ph ph-drop-half",desc:"Drop Half"},{code:"ph ph-drop-half-bottom",desc:"Drop Half Bottom"},{code:"ph ph-ear",desc:"Ear"},{code:"ph ph-ear-slash",desc:"Ear Slash"},{code:"ph ph-egg",desc:"Egg"},{code:"ph ph-egg-crack",desc:"Egg Crack"},{code:"ph ph-eject",desc:"Eject"},{code:"ph ph-eject-simple",desc:"Eject Simple"},{code:"ph ph-elevator",desc:"Elevator"},{code:"ph ph-engine",desc:"Engine"},{code:"ph ph-envelope",desc:"Envelope"},{code:"ph ph-envelope-open",desc:"Envelope Open"},{code:"ph ph-envelope-simple",desc:"Envelope Simple"},{code:"ph ph-envelope-simple-open",desc:"Envelope Simple Open"},{code:"ph ph-equalizer",desc:"Equalizer"},{code:"ph ph-equals",desc:"Equals"},{code:"ph ph-eraser",desc:"Eraser"},{code:"ph ph-escalator-down",desc:"Escalator Down"},{code:"ph ph-escalator-up",desc:"Escalator Up"},{code:"ph ph-exam",desc:"Exam"},{code:"ph ph-exclude",desc:"Exclude"},{code:"ph ph-exclude-square",desc:"Exclude Square"},{code:"ph ph-export",desc:"Export"},{code:"ph ph-eye",desc:"Eye"},{code:"ph ph-eye-closed",desc:"Eye Closed"},{code:"ph ph-eyedropper",desc:"Eyedropper"},{code:"ph ph-eyedropper-sample",desc:"Eyedropper Sample"},{code:"ph ph-eyeglasses",desc:"Eyeglasses"},{code:"ph ph-eye-slash",desc:"Eye Slash"},{code:"ph ph-facebook-logo",desc:"Facebook Logo"},{code:"ph ph-face-mask",desc:"Face Mask"},{code:"ph ph-factory",desc:"Factory"},{code:"ph ph-faders",desc:"Faders"},{code:"ph ph-faders-horizontal",desc:"Faders Horizontal"},{code:"ph ph-fan",desc:"Fan"},{code:"ph ph-fast-forward",desc:"Fast Forward"},{code:"ph ph-fast-forward-circle",desc:"Fast Forward Circle"},{code:"ph ph-feather",desc:"Feather"},{code:"ph ph-figma-logo",desc:"Figma Logo"},{code:"ph ph-file",desc:"File"},{code:"ph ph-file-archive",desc:"File Archive"},{code:"ph ph-file-arrow-down",desc:"File Arrow Down"},{code:"ph ph-file-arrow-up",desc:"File Arrow Up"},{code:"ph ph-file-audio",desc:"File Audio"},{code:"ph ph-file-cloud",desc:"File Cloud"},{code:"ph ph-file-code",desc:"File Code"},{code:"ph ph-file-css",desc:"File Css"},{code:"ph ph-file-csv",desc:"File Csv"},{code:"ph ph-file-dashed",desc:"File Dashed"},{code:"ph ph-file-dotted",desc:"File Dotted"},{code:"ph ph-file-doc",desc:"File Doc"},{code:"ph ph-file-html",desc:"File Html"},{code:"ph ph-file-image",desc:"File Image"},{code:"ph ph-file-jpg",desc:"File Jpg"},{code:"ph ph-file-js",desc:"File Js"},{code:"ph ph-file-jsx",desc:"File Jsx"},{code:"ph ph-file-lock",desc:"File Lock"},{code:"ph ph-file-magnifying-glass",desc:"File Magnifying Glass"},{code:"ph ph-file-search",desc:"File Search"},{code:"ph ph-file-minus",desc:"File Minus"},{code:"ph ph-file-pdf",desc:"File Pdf"},{code:"ph ph-file-plus",desc:"File Plus"},{code:"ph ph-file-png",desc:"File Png"},{code:"ph ph-file-ppt",desc:"File Ppt"},{code:"ph ph-file-rs",desc:"File Rs"},{code:"ph ph-files",desc:"Files"},{code:"ph ph-file-sql",desc:"File Sql"},{code:"ph ph-file-svg",desc:"File Svg"},{code:"ph ph-file-text",desc:"File Text"},{code:"ph ph-file-ts",desc:"File Ts"},{code:"ph ph-file-tsx",desc:"File Tsx"},{code:"ph ph-file-video",desc:"File Video"},{code:"ph ph-file-vue",desc:"File Vue"},{code:"ph ph-file-x",desc:"File X"},{code:"ph ph-file-xls",desc:"File Xls"},{code:"ph ph-file-zip",desc:"File Zip"},{code:"ph ph-film-reel",desc:"Film Reel"},{code:"ph ph-film-script",desc:"Film Script"},{code:"ph ph-film-slate",desc:"Film Slate"},{code:"ph ph-film-strip",desc:"Film Strip"},{code:"ph ph-fingerprint",desc:"Fingerprint"},{code:"ph ph-fingerprint-simple",desc:"Fingerprint Simple"},{code:"ph ph-finn-the-human",desc:"Finn The Human"},{code:"ph ph-fire",desc:"Fire"},{code:"ph ph-fire-extinguisher",desc:"Fire Extinguisher"},{code:"ph ph-fire-simple",desc:"Fire Simple"},{code:"ph ph-first-aid",desc:"First Aid"},{code:"ph ph-first-aid-kit",desc:"First Aid Kit"},{code:"ph ph-fish",desc:"Fish"},{code:"ph ph-fish-simple",desc:"Fish Simple"},{code:"ph ph-flag",desc:"Flag"},{code:"ph ph-flag-banner",desc:"Flag Banner"},{code:"ph ph-flag-checkered",desc:"Flag Checkered"},{code:"ph ph-flag-pennant",desc:"Flag Pennant"},{code:"ph ph-flame",desc:"Flame"},{code:"ph ph-flashlight",desc:"Flashlight"},{code:"ph ph-flask",desc:"Flask"},{code:"ph ph-floppy-disk",desc:"Floppy Disk"},{code:"ph ph-floppy-disk-back",desc:"Floppy Disk Back"},{code:"ph ph-flow-arrow",desc:"Flow Arrow"},{code:"ph ph-flower",desc:"Flower"},{code:"ph ph-flower-lotus",desc:"Flower Lotus"},{code:"ph ph-flower-tulip",desc:"Flower Tulip"},{code:"ph ph-flying-saucer",desc:"Flying Saucer"},{code:"ph ph-folder",desc:"Folder"},{code:"ph ph-folder-dashed",desc:"Folder Dashed"},{code:"ph ph-folder-dotted",desc:"Folder Dotted"},{code:"ph ph-folder-lock",desc:"Folder Lock"},{code:"ph ph-folder-minus",desc:"Folder Minus"},{code:"ph ph-folder-notch",desc:"Folder Notch"},{code:"ph ph-folder-notch-minus",desc:"Folder Notch Minus"},{code:"ph ph-folder-notch-open",desc:"Folder Notch Open"},{code:"ph ph-folder-notch-plus",desc:"Folder Notch Plus"},{code:"ph ph-folder-open",desc:"Folder Open"},{code:"ph ph-folder-plus",desc:"Folder Plus"},{code:"ph ph-folders",desc:"Folders"},{code:"ph ph-folder-simple",desc:"Folder Simple"},{code:"ph ph-folder-simple-dashed",desc:"Folder Simple Dashed"},{code:"ph ph-folder-simple-dotted",desc:"Folder Simple Dotted"},{code:"ph ph-folder-simple-lock",desc:"Folder Simple Lock"},{code:"ph ph-folder-simple-minus",desc:"Folder Simple Minus"},{code:"ph ph-folder-simple-plus",desc:"Folder Simple Plus"},{code:"ph ph-folder-simple-star",desc:"Folder Simple Star"},{code:"ph ph-folder-simple-user",desc:"Folder Simple User"},{code:"ph ph-folder-star",desc:"Folder Star"},{code:"ph ph-folder-user",desc:"Folder User"},{code:"ph ph-football",desc:"Football"},{code:"ph ph-footprints",desc:"Footprints"},{code:"ph ph-fork-knife",desc:"Fork Knife"},{code:"ph ph-frame-corners",desc:"Frame Corners"},{code:"ph ph-framer-logo",desc:"Framer Logo"},{code:"ph ph-function",desc:"Function"},{code:"ph ph-funnel",desc:"Funnel"},{code:"ph ph-funnel-simple",desc:"Funnel Simple"},{code:"ph ph-game-controller",desc:"Game Controller"},{code:"ph ph-garage",desc:"Garage"},{code:"ph ph-gas-can",desc:"Gas Can"},{code:"ph ph-gas-pump",desc:"Gas Pump"},{code:"ph ph-gauge",desc:"Gauge"},{code:"ph ph-gavel",desc:"Gavel"},{code:"ph ph-gear",desc:"Gear"},{code:"ph ph-gear-fine",desc:"Gear Fine"},{code:"ph ph-gear-six",desc:"Gear Six"},{code:"ph ph-gender-female",desc:"Gender Female"},{code:"ph ph-gender-intersex",desc:"Gender Intersex"},{code:"ph ph-gender-male",desc:"Gender Male"},{code:"ph ph-gender-neuter",desc:"Gender Neuter"},{code:"ph ph-gender-nonbinary",desc:"Gender Nonbinary"},{code:"ph ph-gender-transgender",desc:"Gender Transgender"},{code:"ph ph-ghost",desc:"Ghost"},{code:"ph ph-gif",desc:"Gif"},{code:"ph ph-gift",desc:"Gift"},{code:"ph ph-git-branch",desc:"Git Branch"},{code:"ph ph-git-commit",desc:"Git Commit"},{code:"ph ph-git-diff",desc:"Git Diff"},{code:"ph ph-git-fork",desc:"Git Fork"},{code:"ph ph-github-logo",desc:"Github Logo"},{code:"ph ph-gitlab-logo",desc:"Gitlab Logo"},{code:"ph ph-gitlab-logo-simple",desc:"Gitlab Logo Simple"},{code:"ph ph-git-merge",desc:"Git Merge"},{code:"ph ph-git-pull-request",desc:"Git Pull Request"},{code:"ph ph-globe",desc:"Globe"},{code:"ph ph-globe-hemisphere-east",desc:"Globe Hemisphere East"},{code:"ph ph-globe-hemisphere-west",desc:"Globe Hemisphere West"},{code:"ph ph-globe-simple",desc:"Globe Simple"},{code:"ph ph-globe-stand",desc:"Globe Stand"},{code:"ph ph-goggles",desc:"Goggles"},{code:"ph ph-goodreads-logo",desc:"Goodreads Logo"},{code:"ph ph-google-cardboard-logo",desc:"Google Cardboard Logo"},{code:"ph ph-google-chrome-logo",desc:"Google Chrome Logo"},{code:"ph ph-google-drive-logo",desc:"Google Drive Logo"},{code:"ph ph-google-logo",desc:"Google Logo"},{code:"ph ph-google-photos-logo",desc:"Google Photos Logo"},{code:"ph ph-google-play-logo",desc:"Google Play Logo"},{code:"ph ph-google-podcasts-logo",desc:"Google Podcasts Logo"},{code:"ph ph-gradient",desc:"Gradient"},{code:"ph ph-graduation-cap",desc:"Graduation Cap"},{code:"ph ph-grains",desc:"Grains"},{code:"ph ph-grains-slash",desc:"Grains Slash"},{code:"ph ph-graph",desc:"Graph"},{code:"ph ph-grid-four",desc:"Grid Four"},{code:"ph ph-grid-nine",desc:"Grid Nine"},{code:"ph ph-guitar",desc:"Guitar"},{code:"ph ph-hamburger",desc:"Hamburger"},{code:"ph ph-hammer",desc:"Hammer"},{code:"ph ph-hand",desc:"Hand"},{code:"ph ph-handbag",desc:"Handbag"},{code:"ph ph-handbag-simple",desc:"Handbag Simple"},{code:"ph ph-hand-coins",desc:"Hand Coins"},{code:"ph ph-hand-eye",desc:"Hand Eye"},{code:"ph ph-hand-fist",desc:"Hand Fist"},{code:"ph ph-hand-grabbing",desc:"Hand Grabbing"},{code:"ph ph-hand-heart",desc:"Hand Heart"},{code:"ph ph-hand-palm",desc:"Hand Palm"},{code:"ph ph-hand-pointing",desc:"Hand Pointing"},{code:"ph ph-hands-clapping",desc:"Hands Clapping"},{code:"ph ph-handshake",desc:"Handshake"},{code:"ph ph-hand-soap",desc:"Hand Soap"},{code:"ph ph-hands-praying",desc:"Hands Praying"},{code:"ph ph-hand-swipe-left",desc:"Hand Swipe Left"},{code:"ph ph-hand-swipe-right",desc:"Hand Swipe Right"},{code:"ph ph-hand-tap",desc:"Hand Tap"},{code:"ph ph-hand-waving",desc:"Hand Waving"},{code:"ph ph-hard-drive",desc:"Hard Drive"},{code:"ph ph-hard-drives",desc:"Hard Drives"},{code:"ph ph-hash",desc:"Hash"},{code:"ph ph-hash-straight",desc:"Hash Straight"},{code:"ph ph-headlights",desc:"Headlights"},{code:"ph ph-headphones",desc:"Headphones"},{code:"ph ph-headset",desc:"Headset"},{code:"ph ph-heart",desc:"Heart"},{code:"ph ph-heartbeat",desc:"Heartbeat"},{code:"ph ph-heart-break",desc:"Heart Break"},{code:"ph ph-heart-half",desc:"Heart Half"},{code:"ph ph-heart-straight",desc:"Heart Straight"},{code:"ph ph-heart-straight-break",desc:"Heart Straight Break"},{code:"ph ph-hexagon",desc:"Hexagon"},{code:"ph ph-high-heel",desc:"High Heel"},{code:"ph ph-highlighter-circle",desc:"Highlighter Circle"},{code:"ph ph-hoodie",desc:"Hoodie"},{code:"ph ph-horse",desc:"Horse"},{code:"ph ph-hourglass",desc:"Hourglass"},{code:"ph ph-hourglass-high",desc:"Hourglass High"},{code:"ph ph-hourglass-low",desc:"Hourglass Low"},{code:"ph ph-hourglass-medium",desc:"Hourglass Medium"},{code:"ph ph-hourglass-simple",desc:"Hourglass Simple"},{code:"ph ph-hourglass-simple-high",desc:"Hourglass Simple High"},{code:"ph ph-hourglass-simple-low",desc:"Hourglass Simple Low"},{code:"ph ph-hourglass-simple-medium",desc:"Hourglass Simple Medium"},{code:"ph ph-house",desc:"House"},{code:"ph ph-house-line",desc:"House Line"},{code:"ph ph-house-simple",desc:"House Simple"},{code:"ph ph-ice-cream",desc:"Ice Cream"},{code:"ph ph-identification-badge",desc:"Identification Badge"},{code:"ph ph-identification-card",desc:"Identification Card"},{code:"ph ph-image",desc:"Image"},{code:"ph ph-images",desc:"Images"},{code:"ph ph-image-square",desc:"Image Square"},{code:"ph ph-images-square",desc:"Images Square"},{code:"ph ph-infinity",desc:"Infinity"},{code:"ph ph-info",desc:"Info"},{code:"ph ph-instagram-logo",desc:"Instagram Logo"},{code:"ph ph-intersect",desc:"Intersect"},{code:"ph ph-intersect-square",desc:"Intersect Square"},{code:"ph ph-intersect-three",desc:"Intersect Three"},{code:"ph ph-jeep",desc:"Jeep"},{code:"ph ph-kanban",desc:"Kanban"},{code:"ph ph-key",desc:"Key"},{code:"ph ph-keyboard",desc:"Keyboard"},{code:"ph ph-keyhole",desc:"Keyhole"},{code:"ph ph-key-return",desc:"Key Return"},{code:"ph ph-knife",desc:"Knife"},{code:"ph ph-ladder",desc:"Ladder"},{code:"ph ph-ladder-simple",desc:"Ladder Simple"},{code:"ph ph-lamp",desc:"Lamp"},{code:"ph ph-laptop",desc:"Laptop"},{code:"ph ph-layout",desc:"Layout"},{code:"ph ph-leaf",desc:"Leaf"},{code:"ph ph-lifebuoy",desc:"Lifebuoy"},{code:"ph ph-lightbulb",desc:"Lightbulb"},{code:"ph ph-lightbulb-filament",desc:"Lightbulb Filament"},{code:"ph ph-lighthouse",desc:"Lighthouse"},{code:"ph ph-lightning",desc:"Lightning"},{code:"ph ph-lightning-a",desc:"Lightning A"},{code:"ph ph-lightning-slash",desc:"Lightning Slash"},{code:"ph ph-line-segment",desc:"Line Segment"},{code:"ph ph-line-segments",desc:"Line Segments"},{code:"ph ph-link",desc:"Link"},{code:"ph ph-link-break",desc:"Link Break"},{code:"ph ph-linkedin-logo",desc:"Linkedin Logo"},{code:"ph ph-link-simple",desc:"Link Simple"},{code:"ph ph-link-simple-break",desc:"Link Simple Break"},{code:"ph ph-link-simple-horizontal",desc:"Link Simple Horizontal"},{code:"ph ph-link-simple-horizontal-break",desc:"Link Simple Horizontal Break"},{code:"ph ph-linux-logo",desc:"Linux Logo"},{code:"ph ph-list",desc:"List"},{code:"ph ph-list-bullets",desc:"List Bullets"},{code:"ph ph-list-checks",desc:"List Checks"},{code:"ph ph-list-dashes",desc:"List Dashes"},{code:"ph ph-list-magnifying-glass",desc:"List Magnifying Glass"},{code:"ph ph-list-numbers",desc:"List Numbers"},{code:"ph ph-list-plus",desc:"List Plus"},{code:"ph ph-lock",desc:"Lock"},{code:"ph ph-lockers",desc:"Lockers"},{code:"ph ph-lock-key",desc:"Lock Key"},{code:"ph ph-lock-key-open",desc:"Lock Key Open"},{code:"ph ph-lock-laminated",desc:"Lock Laminated"},{code:"ph ph-lock-laminated-open",desc:"Lock Laminated Open"},{code:"ph ph-lock-open",desc:"Lock Open"},{code:"ph ph-lock-simple",desc:"Lock Simple"},{code:"ph ph-lock-simple-open",desc:"Lock Simple Open"},{code:"ph ph-magic-wand",desc:"Magic Wand"},{code:"ph ph-magnet",desc:"Magnet"},{code:"ph ph-magnet-straight",desc:"Magnet Straight"},{code:"ph ph-magnifying-glass",desc:"Magnifying Glass"},{code:"ph ph-magnifying-glass-minus",desc:"Magnifying Glass Minus"},{code:"ph ph-magnifying-glass-plus",desc:"Magnifying Glass Plus"},{code:"ph ph-map-pin",desc:"Map Pin"},{code:"ph ph-map-pin-line",desc:"Map Pin Line"},{code:"ph ph-map-trifold",desc:"Map Trifold"},{code:"ph ph-marker-circle",desc:"Marker Circle"},{code:"ph ph-martini",desc:"Martini"},{code:"ph ph-mask-happy",desc:"Mask Happy"},{code:"ph ph-mask-sad",desc:"Mask Sad"},{code:"ph ph-math-operations",desc:"Math Operations"},{code:"ph ph-medal",desc:"Medal"},{code:"ph ph-medal-military",desc:"Medal Military"},{code:"ph ph-medium-logo",desc:"Medium Logo"},{code:"ph ph-megaphone",desc:"Megaphone"},{code:"ph ph-megaphone-simple",desc:"Megaphone Simple"},{code:"ph ph-messenger-logo",desc:"Messenger Logo"},{code:"ph ph-meta-logo",desc:"Meta Logo"},{code:"ph ph-metronome",desc:"Metronome"},{code:"ph ph-microphone",desc:"Microphone"},{code:"ph ph-microphone-slash",desc:"Microphone Slash"},{code:"ph ph-microphone-stage",desc:"Microphone Stage"},{code:"ph ph-microsoft-excel-logo",desc:"Microsoft Excel Logo"},{code:"ph ph-microsoft-outlook-logo",desc:"Microsoft Outlook Logo"},{code:"ph ph-microsoft-powerpoint-logo",desc:"Microsoft Powerpoint Logo"},{code:"ph ph-microsoft-teams-logo",desc:"Microsoft Teams Logo"},{code:"ph ph-microsoft-word-logo",desc:"Microsoft Word Logo"},{code:"ph ph-minus",desc:"Minus"},{code:"ph ph-minus-circle",desc:"Minus Circle"},{code:"ph ph-minus-square",desc:"Minus Square"},{code:"ph ph-money",desc:"Money"},{code:"ph ph-monitor",desc:"Monitor"},{code:"ph ph-monitor-play",desc:"Monitor Play"},{code:"ph ph-moon",desc:"Moon"},{code:"ph ph-moon-stars",desc:"Moon Stars"},{code:"ph ph-moped",desc:"Moped"},{code:"ph ph-moped-front",desc:"Moped Front"},{code:"ph ph-mosque",desc:"Mosque"},{code:"ph ph-motorcycle",desc:"Motorcycle"},{code:"ph ph-mountains",desc:"Mountains"},{code:"ph ph-mouse",desc:"Mouse"},{code:"ph ph-mouse-simple",desc:"Mouse Simple"},{code:"ph ph-music-note",desc:"Music Note"},{code:"ph ph-music-notes",desc:"Music Notes"},{code:"ph ph-music-note-simple",desc:"Music Note Simple"},{code:"ph ph-music-notes-plus",desc:"Music Notes Plus"},{code:"ph ph-music-notes-simple",desc:"Music Notes Simple"},{code:"ph ph-navigation-arrow",desc:"Navigation Arrow"},{code:"ph ph-needle",desc:"Needle"},{code:"ph ph-newspaper",desc:"Newspaper"},{code:"ph ph-newspaper-clipping",desc:"Newspaper Clipping"},{code:"ph ph-notches",desc:"Notches"},{code:"ph ph-note",desc:"Note"},{code:"ph ph-note-blank",desc:"Note Blank"},{code:"ph ph-notebook",desc:"Notebook"},{code:"ph ph-notepad",desc:"Notepad"},{code:"ph ph-note-pencil",desc:"Note Pencil"},{code:"ph ph-notification",desc:"Notification"},{code:"ph ph-notion-logo",desc:"Notion Logo"},{code:"ph ph-number-circle-eight",desc:"Number Circle Eight"},{code:"ph ph-number-circle-five",desc:"Number Circle Five"},{code:"ph ph-number-circle-four",desc:"Number Circle Four"},{code:"ph ph-number-circle-nine",desc:"Number Circle Nine"},{code:"ph ph-number-circle-one",desc:"Number Circle One"},{code:"ph ph-number-circle-seven",desc:"Number Circle Seven"},{code:"ph ph-number-circle-six",desc:"Number Circle Six"},{code:"ph ph-number-circle-three",desc:"Number Circle Three"},{code:"ph ph-number-circle-two",desc:"Number Circle Two"},{code:"ph ph-number-circle-zero",desc:"Number Circle Zero"},{code:"ph ph-number-eight",desc:"Number Eight"},{code:"ph ph-number-five",desc:"Number Five"},{code:"ph ph-number-four",desc:"Number Four"},{code:"ph ph-number-nine",desc:"Number Nine"},{code:"ph ph-number-one",desc:"Number One"},{code:"ph ph-number-seven",desc:"Number Seven"},{code:"ph ph-number-six",desc:"Number Six"},{code:"ph ph-number-square-eight",desc:"Number Square Eight"},{code:"ph ph-number-square-five",desc:"Number Square Five"},{code:"ph ph-number-square-four",desc:"Number Square Four"},{code:"ph ph-number-square-nine",desc:"Number Square Nine"},{code:"ph ph-number-square-one",desc:"Number Square One"},{code:"ph ph-number-square-seven",desc:"Number Square Seven"},{code:"ph ph-number-square-six",desc:"Number Square Six"},{code:"ph ph-number-square-three",desc:"Number Square Three"},{code:"ph ph-number-square-two",desc:"Number Square Two"},{code:"ph ph-number-square-zero",desc:"Number Square Zero"},{code:"ph ph-number-three",desc:"Number Three"},{code:"ph ph-number-two",desc:"Number Two"},{code:"ph ph-number-zero",desc:"Number Zero"},{code:"ph ph-nut",desc:"Nut"},{code:"ph ph-ny-times-logo",desc:"Ny Times Logo"},{code:"ph ph-octagon",desc:"Octagon"},{code:"ph ph-office-chair",desc:"Office Chair"},{code:"ph ph-option",desc:"Option"},{code:"ph ph-orange-slice",desc:"Orange Slice"},{code:"ph ph-package",desc:"Package"},{code:"ph ph-paint-brush",desc:"Paint Brush"},{code:"ph ph-paint-brush-broad",desc:"Paint Brush Broad"},{code:"ph ph-paint-brush-household",desc:"Paint Brush Household"},{code:"ph ph-paint-bucket",desc:"Paint Bucket"},{code:"ph ph-paint-roller",desc:"Paint Roller"},{code:"ph ph-palette",desc:"Palette"},{code:"ph ph-pants",desc:"Pants"},{code:"ph ph-paperclip",desc:"Paperclip"},{code:"ph ph-paperclip-horizontal",desc:"Paperclip Horizontal"},{code:"ph ph-paper-plane",desc:"Paper Plane"},{code:"ph ph-paper-plane-right",desc:"Paper Plane Right"},{code:"ph ph-paper-plane-tilt",desc:"Paper Plane Tilt"},{code:"ph ph-parachute",desc:"Parachute"},{code:"ph ph-paragraph",desc:"Paragraph"},{code:"ph ph-parallelogram",desc:"Parallelogram"},{code:"ph ph-park",desc:"Park"},{code:"ph ph-password",desc:"Password"},{code:"ph ph-path",desc:"Path"},{code:"ph ph-patreon-logo",desc:"Patreon Logo"},{code:"ph ph-pause",desc:"Pause"},{code:"ph ph-pause-circle",desc:"Pause Circle"},{code:"ph ph-paw-print",desc:"Paw Print"},{code:"ph ph-paypal-logo",desc:"Paypal Logo"},{code:"ph ph-peace",desc:"Peace"},{code:"ph ph-pen",desc:"Pen"},{code:"ph ph-pencil",desc:"Pencil"},{code:"ph ph-pencil-circle",desc:"Pencil Circle"},{code:"ph ph-pencil-line",desc:"Pencil Line"},{code:"ph ph-pencil-simple",desc:"Pencil Simple"},{code:"ph ph-pencil-simple-line",desc:"Pencil Simple Line"},{code:"ph ph-pencil-simple-slash",desc:"Pencil Simple Slash"},{code:"ph ph-pencil-slash",desc:"Pencil Slash"},{code:"ph ph-pen-nib",desc:"Pen Nib"},{code:"ph ph-pen-nib-straight",desc:"Pen Nib Straight"},{code:"ph ph-pentagram",desc:"Pentagram"},{code:"ph ph-pepper",desc:"Pepper"},{code:"ph ph-percent",desc:"Percent"},{code:"ph ph-person",desc:"Person"},{code:"ph ph-person-arms-spread",desc:"Person Arms Spread"},{code:"ph ph-person-simple",desc:"Person Simple"},{code:"ph ph-person-simple-bike",desc:"Person Simple Bike"},{code:"ph ph-person-simple-run",desc:"Person Simple Run"},{code:"ph ph-person-simple-throw",desc:"Person Simple Throw"},{code:"ph ph-person-simple-walk",desc:"Person Simple Walk"},{code:"ph ph-perspective",desc:"Perspective"},{code:"ph ph-phone",desc:"Phone"},{code:"ph ph-phone-call",desc:"Phone Call"},{code:"ph ph-phone-disconnect",desc:"Phone Disconnect"},{code:"ph ph-phone-incoming",desc:"Phone Incoming"},{code:"ph ph-phone-outgoing",desc:"Phone Outgoing"},{code:"ph ph-phone-plus",desc:"Phone Plus"},{code:"ph ph-phone-slash",desc:"Phone Slash"},{code:"ph ph-phone-x",desc:"Phone X"},{code:"ph ph-phosphor-logo",desc:"Phosphor Logo"},{code:"ph ph-pi",desc:"Pi"},{code:"ph ph-piano-keys",desc:"Piano Keys"},{code:"ph ph-picture-in-picture",desc:"Picture In Picture"},{code:"ph ph-piggy-bank",desc:"Piggy Bank"},{code:"ph ph-pill",desc:"Pill"},{code:"ph ph-pinterest-logo",desc:"Pinterest Logo"},{code:"ph ph-pinwheel",desc:"Pinwheel"},{code:"ph ph-pizza",desc:"Pizza"},{code:"ph ph-placeholder",desc:"Placeholder"},{code:"ph ph-planet",desc:"Planet"},{code:"ph ph-plant",desc:"Plant"},{code:"ph ph-play",desc:"Play"},{code:"ph ph-play-circle",desc:"Play Circle"},{code:"ph ph-playlist",desc:"Playlist"},{code:"ph ph-play-pause",desc:"Play Pause"},{code:"ph ph-plug",desc:"Plug"},{code:"ph ph-plug-charging",desc:"Plug Charging"},{code:"ph ph-plugs",desc:"Plugs"},{code:"ph ph-plugs-connected",desc:"Plugs Connected"},{code:"ph ph-plus",desc:"Plus"},{code:"ph ph-plus-circle",desc:"Plus Circle"},{code:"ph ph-plus-minus",desc:"Plus Minus"},{code:"ph ph-plus-square",desc:"Plus Square"},{code:"ph ph-poker-chip",desc:"Poker Chip"},{code:"ph ph-police-car",desc:"Police Car"},{code:"ph ph-polygon",desc:"Polygon"},{code:"ph ph-popcorn",desc:"Popcorn"},{code:"ph ph-potted-plant",desc:"Potted Plant"},{code:"ph ph-power",desc:"Power"},{code:"ph ph-prescription",desc:"Prescription"},{code:"ph ph-presentation",desc:"Presentation"},{code:"ph ph-presentation-chart",desc:"Presentation Chart"},{code:"ph ph-printer",desc:"Printer"},{code:"ph ph-prohibit",desc:"Prohibit"},{code:"ph ph-prohibit-inset",desc:"Prohibit Inset"},{code:"ph ph-projector-screen",desc:"Projector Screen"},{code:"ph ph-projector-screen-chart",desc:"Projector Screen Chart"},{code:"ph ph-pulse",desc:"Pulse"},{code:"ph ph-activity",desc:"Activity"},{code:"ph ph-push-pin",desc:"Push Pin"},{code:"ph ph-push-pin-simple",desc:"Push Pin Simple"},{code:"ph ph-push-pin-simple-slash",desc:"Push Pin Simple Slash"},{code:"ph ph-push-pin-slash",desc:"Push Pin Slash"},{code:"ph ph-puzzle-piece",desc:"Puzzle Piece"},{code:"ph ph-qr-code",desc:"Qr Code"},{code:"ph ph-question",desc:"Question"},{code:"ph ph-queue",desc:"Queue"},{code:"ph ph-quotes",desc:"Quotes"},{code:"ph ph-radical",desc:"Radical"},{code:"ph ph-radio",desc:"Radio"},{code:"ph ph-radioactive",desc:"Radioactive"},{code:"ph ph-radio-button",desc:"Radio Button"},{code:"ph ph-rainbow",desc:"Rainbow"},{code:"ph ph-rainbow-cloud",desc:"Rainbow Cloud"},{code:"ph ph-read-cv-logo",desc:"Read Cv Logo"},{code:"ph ph-receipt",desc:"Receipt"},{code:"ph ph-receipt-x",desc:"Receipt X"},{code:"ph ph-record",desc:"Record"},{code:"ph ph-rectangle",desc:"Rectangle"},{code:"ph ph-recycle",desc:"Recycle"},{code:"ph ph-reddit-logo",desc:"Reddit Logo"},{code:"ph ph-repeat",desc:"Repeat"},{code:"ph ph-repeat-once",desc:"Repeat Once"},{code:"ph ph-rewind",desc:"Rewind"},{code:"ph ph-rewind-circle",desc:"Rewind Circle"},{code:"ph ph-road-horizon",desc:"Road Horizon"},{code:"ph ph-robot",desc:"Robot"},{code:"ph ph-rocket",desc:"Rocket"},{code:"ph ph-rocket-launch",desc:"Rocket Launch"},{code:"ph ph-rows",desc:"Rows"},{code:"ph ph-rss",desc:"Rss"},{code:"ph ph-rss-simple",desc:"Rss Simple"},{code:"ph ph-rug",desc:"Rug"},{code:"ph ph-ruler",desc:"Ruler"},{code:"ph ph-scales",desc:"Scales"},{code:"ph ph-scan",desc:"Scan"},{code:"ph ph-scissors",desc:"Scissors"},{code:"ph ph-scooter",desc:"Scooter"},{code:"ph ph-screencast",desc:"Screencast"},{code:"ph ph-scribble-loop",desc:"Scribble Loop"},{code:"ph ph-scroll",desc:"Scroll"},{code:"ph ph-seal",desc:"Seal"},{code:"ph ph-seal-check",desc:"Seal Check"},{code:"ph ph-seal-question",desc:"Seal Question"},{code:"ph ph-seal-warning",desc:"Seal Warning"},{code:"ph ph-circle-wavy",desc:"Circle Wavy"},{code:"ph ph-circle-wavy-check",desc:"Circle Wavy Check"},{code:"ph ph-circle-wavy-question",desc:"Circle Wavy Question"},{code:"ph ph-circle-wavy-warning",desc:"Circle Wavy Warning"},{code:"ph ph-selection",desc:"Selection"},{code:"ph ph-selection-all",desc:"Selection All"},{code:"ph ph-selection-background",desc:"Selection Background"},{code:"ph ph-selection-foreground",desc:"Selection Foreground"},{code:"ph ph-selection-inverse",desc:"Selection Inverse"},{code:"ph ph-selection-plus",desc:"Selection Plus"},{code:"ph ph-selection-slash",desc:"Selection Slash"},{code:"ph ph-shapes",desc:"Shapes"},{code:"ph ph-share",desc:"Share"},{code:"ph ph-share-fat",desc:"Share Fat"},{code:"ph ph-share-network",desc:"Share Network"},{code:"ph ph-shield",desc:"Shield"},{code:"ph ph-shield-check",desc:"Shield Check"},{code:"ph ph-shield-checkered",desc:"Shield Checkered"},{code:"ph ph-shield-chevron",desc:"Shield Chevron"},{code:"ph ph-shield-plus",desc:"Shield Plus"},{code:"ph ph-shield-slash",desc:"Shield Slash"},{code:"ph ph-shield-star",desc:"Shield Star"},{code:"ph ph-shield-warning",desc:"Shield Warning"},{code:"ph ph-shirt-folded",desc:"Shirt Folded"},{code:"ph ph-shooting-star",desc:"Shooting Star"},{code:"ph ph-shopping-bag",desc:"Shopping Bag"},{code:"ph ph-shopping-bag-open",desc:"Shopping Bag Open"},{code:"ph ph-shopping-cart",desc:"Shopping Cart"},{code:"ph ph-shopping-cart-simple",desc:"Shopping Cart Simple"},{code:"ph ph-shower",desc:"Shower"},{code:"ph ph-shrimp",desc:"Shrimp"},{code:"ph ph-shuffle",desc:"Shuffle"},{code:"ph ph-shuffle-angular",desc:"Shuffle Angular"},{code:"ph ph-shuffle-simple",desc:"Shuffle Simple"},{code:"ph ph-sidebar",desc:"Sidebar"},{code:"ph ph-sidebar-simple",desc:"Sidebar Simple"},{code:"ph ph-sigma",desc:"Sigma"},{code:"ph ph-signature",desc:"Signature"},{code:"ph ph-sign-in",desc:"Sign In"},{code:"ph ph-sign-out",desc:"Sign Out"},{code:"ph ph-signpost",desc:"Signpost"},{code:"ph ph-sim-card",desc:"Sim Card"},{code:"ph ph-siren",desc:"Siren"},{code:"ph ph-sketch-logo",desc:"Sketch Logo"},{code:"ph ph-skip-back",desc:"Skip Back"},{code:"ph ph-skip-back-circle",desc:"Skip Back Circle"},{code:"ph ph-skip-forward",desc:"Skip Forward"},{code:"ph ph-skip-forward-circle",desc:"Skip Forward Circle"},{code:"ph ph-skull",desc:"Skull"},{code:"ph ph-slack-logo",desc:"Slack Logo"},{code:"ph ph-sliders",desc:"Sliders"},{code:"ph ph-sliders-horizontal",desc:"Sliders Horizontal"},{code:"ph ph-slideshow",desc:"Slideshow"},{code:"ph ph-smiley",desc:"Smiley"},{code:"ph ph-smiley-angry",desc:"Smiley Angry"},{code:"ph ph-smiley-blank",desc:"Smiley Blank"},{code:"ph ph-smiley-meh",desc:"Smiley Meh"},{code:"ph ph-smiley-nervous",desc:"Smiley Nervous"},{code:"ph ph-smiley-sad",desc:"Smiley Sad"},{code:"ph ph-smiley-sticker",desc:"Smiley Sticker"},{code:"ph ph-smiley-wink",desc:"Smiley Wink"},{code:"ph ph-smiley-x-eyes",desc:"Smiley X Eyes"},{code:"ph ph-snapchat-logo",desc:"Snapchat Logo"},{code:"ph ph-sneaker",desc:"Sneaker"},{code:"ph ph-sneaker-move",desc:"Sneaker Move"},{code:"ph ph-snowflake",desc:"Snowflake"},{code:"ph ph-soccer-ball",desc:"Soccer Ball"},{code:"ph ph-sort-ascending",desc:"Sort Ascending"},{code:"ph ph-sort-descending",desc:"Sort Descending"},{code:"ph ph-soundcloud-logo",desc:"Soundcloud Logo"},{code:"ph ph-spade",desc:"Spade"},{code:"ph ph-sparkle",desc:"Sparkle"},{code:"ph ph-speaker-hifi",desc:"Speaker Hifi"},{code:"ph ph-speaker-high",desc:"Speaker High"},{code:"ph ph-speaker-low",desc:"Speaker Low"},{code:"ph ph-speaker-none",desc:"Speaker None"},{code:"ph ph-speaker-simple-high",desc:"Speaker Simple High"},{code:"ph ph-speaker-simple-low",desc:"Speaker Simple Low"},{code:"ph ph-speaker-simple-none",desc:"Speaker Simple None"},{code:"ph ph-speaker-simple-slash",desc:"Speaker Simple Slash"},{code:"ph ph-speaker-simple-x",desc:"Speaker Simple X"},{code:"ph ph-speaker-slash",desc:"Speaker Slash"},{code:"ph ph-speaker-x",desc:"Speaker X"},{code:"ph ph-spinner",desc:"Spinner"},{code:"ph ph-spinner-gap",desc:"Spinner Gap"},{code:"ph ph-spiral",desc:"Spiral"},{code:"ph ph-split-horizontal",desc:"Split Horizontal"},{code:"ph ph-split-vertical",desc:"Split Vertical"},{code:"ph ph-spotify-logo",desc:"Spotify Logo"},{code:"ph ph-square",desc:"Square"},{code:"ph ph-square-half",desc:"Square Half"},{code:"ph ph-square-half-bottom",desc:"Square Half Bottom"},{code:"ph ph-square-logo",desc:"Square Logo"},{code:"ph ph-squares-four",desc:"Squares Four"},{code:"ph ph-square-split-horizontal",desc:"Square Split Horizontal"},{code:"ph ph-square-split-vertical",desc:"Square Split Vertical"},{code:"ph ph-stack",desc:"Stack"},{code:"ph ph-stack-overflow-logo",desc:"Stack Overflow Logo"},{code:"ph ph-stack-simple",desc:"Stack Simple"},{code:"ph ph-stairs",desc:"Stairs"},{code:"ph ph-stamp",desc:"Stamp"},{code:"ph ph-star",desc:"Star"},{code:"ph ph-star-and-crescent",desc:"Star And Crescent"},{code:"ph ph-star-four",desc:"Star Four"},{code:"ph ph-star-half",desc:"Star Half"},{code:"ph ph-star-of-david",desc:"Star Of David"},{code:"ph ph-steering-wheel",desc:"Steering Wheel"},{code:"ph ph-steps",desc:"Steps"},{code:"ph ph-stethoscope",desc:"Stethoscope"},{code:"ph ph-sticker",desc:"Sticker"},{code:"ph ph-stool",desc:"Stool"},{code:"ph ph-stop",desc:"Stop"},{code:"ph ph-stop-circle",desc:"Stop Circle"},{code:"ph ph-storefront",desc:"Storefront"},{code:"ph ph-strategy",desc:"Strategy"},{code:"ph ph-stripe-logo",desc:"Stripe Logo"},{code:"ph ph-student",desc:"Student"},{code:"ph ph-subtitles",desc:"Subtitles"},{code:"ph ph-subtract",desc:"Subtract"},{code:"ph ph-subtract-square",desc:"Subtract Square"},{code:"ph ph-suitcase",desc:"Suitcase"},{code:"ph ph-suitcase-rolling",desc:"Suitcase Rolling"},{code:"ph ph-suitcase-simple",desc:"Suitcase Simple"},{code:"ph ph-sun",desc:"Sun"},{code:"ph ph-sun-dim",desc:"Sun Dim"},{code:"ph ph-sunglasses",desc:"Sunglasses"},{code:"ph ph-sun-horizon",desc:"Sun Horizon"},{code:"ph ph-swap",desc:"Swap"},{code:"ph ph-swatches",desc:"Swatches"},{code:"ph ph-swimming-pool",desc:"Swimming Pool"},{code:"ph ph-sword",desc:"Sword"},{code:"ph ph-synagogue",desc:"Synagogue"},{code:"ph ph-syringe",desc:"Syringe"},{code:"ph ph-table",desc:"Table"},{code:"ph ph-tabs",desc:"Tabs"},{code:"ph ph-tag",desc:"Tag"},{code:"ph ph-tag-chevron",desc:"Tag Chevron"},{code:"ph ph-tag-simple",desc:"Tag Simple"},{code:"ph ph-target",desc:"Target"},{code:"ph ph-taxi",desc:"Taxi"},{code:"ph ph-telegram-logo",desc:"Telegram Logo"},{code:"ph ph-television",desc:"Television"},{code:"ph ph-television-simple",desc:"Television Simple"},{code:"ph ph-tennis-ball",desc:"Tennis Ball"},{code:"ph ph-tent",desc:"Tent"},{code:"ph ph-terminal",desc:"Terminal"},{code:"ph ph-terminal-window",desc:"Terminal Window"},{code:"ph ph-test-tube",desc:"Test Tube"},{code:"ph ph-text-aa",desc:"Text Aa"},{code:"ph ph-text-align-center",desc:"Text Align Center"},{code:"ph ph-text-align-justify",desc:"Text Align Justify"},{code:"ph ph-text-align-left",desc:"Text Align Left"},{code:"ph ph-text-align-right",desc:"Text Align Right"},{code:"ph ph-text-a-underline",desc:"Text A Underline"},{code:"ph ph-text-b",desc:"Text B"},{code:"ph ph-text-bolder",desc:"Text Bolder"},{code:"ph ph-textbox",desc:"Textbox"},{code:"ph ph-text-columns",desc:"Text Columns"},{code:"ph ph-text-h",desc:"Text H"},{code:"ph ph-text-h-five",desc:"Text H Five"},{code:"ph ph-text-h-four",desc:"Text H Four"},{code:"ph ph-text-h-one",desc:"Text H One"},{code:"ph ph-text-h-six",desc:"Text H Six"},{code:"ph ph-text-h-three",desc:"Text H Three"},{code:"ph ph-text-h-two",desc:"Text H Two"},{code:"ph ph-text-indent",desc:"Text Indent"},{code:"ph ph-text-italic",desc:"Text Italic"},{code:"ph ph-text-outdent",desc:"Text Outdent"},{code:"ph ph-text-strikethrough",desc:"Text Strikethrough"},{code:"ph ph-text-t",desc:"Text T"},{code:"ph ph-text-underline",desc:"Text Underline"},{code:"ph ph-thermometer",desc:"Thermometer"},{code:"ph ph-thermometer-cold",desc:"Thermometer Cold"},{code:"ph ph-thermometer-hot",desc:"Thermometer Hot"},{code:"ph ph-thermometer-simple",desc:"Thermometer Simple"},{code:"ph ph-thumbs-down",desc:"Thumbs Down"},{code:"ph ph-thumbs-up",desc:"Thumbs Up"},{code:"ph ph-ticket",desc:"Ticket"},{code:"ph ph-tidal-logo",desc:"Tidal Logo"},{code:"ph ph-tiktok-logo",desc:"Tiktok Logo"},{code:"ph ph-timer",desc:"Timer"},{code:"ph ph-tipi",desc:"Tipi"},{code:"ph ph-toggle-left",desc:"Toggle Left"},{code:"ph ph-toggle-right",desc:"Toggle Right"},{code:"ph ph-toilet",desc:"Toilet"},{code:"ph ph-toilet-paper",desc:"Toilet Paper"},{code:"ph ph-toolbox",desc:"Toolbox"},{code:"ph ph-tooth",desc:"Tooth"},{code:"ph ph-tote",desc:"Tote"},{code:"ph ph-tote-simple",desc:"Tote Simple"},{code:"ph ph-trademark",desc:"Trademark"},{code:"ph ph-trademark-registered",desc:"Trademark Registered"},{code:"ph ph-traffic-cone",desc:"Traffic Cone"},{code:"ph ph-traffic-sign",desc:"Traffic Sign"},{code:"ph ph-traffic-signal",desc:"Traffic Signal"},{code:"ph ph-train",desc:"Train"},{code:"ph ph-train-regional",desc:"Train Regional"},{code:"ph ph-train-simple",desc:"Train Simple"},{code:"ph ph-tram",desc:"Tram"},{code:"ph ph-translate",desc:"Translate"},{code:"ph ph-trash",desc:"Trash"},{code:"ph ph-trash-simple",desc:"Trash Simple"},{code:"ph ph-tray",desc:"Tray"},{code:"ph ph-tree",desc:"Tree"},{code:"ph ph-tree-evergreen",desc:"Tree Evergreen"},{code:"ph ph-tree-palm",desc:"Tree Palm"},{code:"ph ph-tree-structure",desc:"Tree Structure"},{code:"ph ph-trend-down",desc:"Trend Down"},{code:"ph ph-trend-up",desc:"Trend Up"},{code:"ph ph-triangle",desc:"Triangle"},{code:"ph ph-trophy",desc:"Trophy"},{code:"ph ph-truck",desc:"Truck"},{code:"ph ph-t-shirt",desc:"T Shirt"},{code:"ph ph-twitch-logo",desc:"Twitch Logo"},{code:"ph ph-twitter-logo",desc:"Twitter Logo"},{code:"ph ph-umbrella",desc:"Umbrella"},{code:"ph ph-umbrella-simple",desc:"Umbrella Simple"},{code:"ph ph-unite",desc:"Unite"},{code:"ph ph-unite-square",desc:"Unite Square"},{code:"ph ph-upload",desc:"Upload"},{code:"ph ph-upload-simple",desc:"Upload Simple"},{code:"ph ph-usb",desc:"Usb"},{code:"ph ph-user",desc:"User"},{code:"ph ph-user-circle",desc:"User Circle"},{code:"ph ph-user-circle-gear",desc:"User Circle Gear"},{code:"ph ph-user-circle-minus",desc:"User Circle Minus"},{code:"ph ph-user-circle-plus",desc:"User Circle Plus"},{code:"ph ph-user-focus",desc:"User Focus"},{code:"ph ph-user-gear",desc:"User Gear"},{code:"ph ph-user-list",desc:"User List"},{code:"ph ph-user-minus",desc:"User Minus"},{code:"ph ph-user-plus",desc:"User Plus"},{code:"ph ph-user-rectangle",desc:"User Rectangle"},{code:"ph ph-users",desc:"Users"},{code:"ph ph-users-four",desc:"Users Four"},{code:"ph ph-user-square",desc:"User Square"},{code:"ph ph-users-three",desc:"Users Three"},{code:"ph ph-user-switch",desc:"User Switch"},{code:"ph ph-van",desc:"Van"},{code:"ph ph-vault",desc:"Vault"},{code:"ph ph-vibrate",desc:"Vibrate"},{code:"ph ph-video",desc:"Video"},{code:"ph ph-video-camera",desc:"Video Camera"},{code:"ph ph-video-camera-slash",desc:"Video Camera Slash"},{code:"ph ph-vignette",desc:"Vignette"},{code:"ph ph-vinyl-record",desc:"Vinyl Record"},{code:"ph ph-virtual-reality",desc:"Virtual Reality"},{code:"ph ph-virus",desc:"Virus"},{code:"ph ph-voicemail",desc:"Voicemail"},{code:"ph ph-volleyball",desc:"Volleyball"},{code:"ph ph-wall",desc:"Wall"},{code:"ph ph-wallet",desc:"Wallet"},{code:"ph ph-warehouse",desc:"Warehouse"},{code:"ph ph-warning",desc:"Warning"},{code:"ph ph-warning-circle",desc:"Warning Circle"},{code:"ph ph-warning-diamond",desc:"Warning Diamond"},{code:"ph ph-warning-octagon",desc:"Warning Octagon"},{code:"ph ph-watch",desc:"Watch"},{code:"ph ph-waveform",desc:"Waveform"},{code:"ph ph-waves",desc:"Waves"},{code:"ph ph-wave-sawtooth",desc:"Wave Sawtooth"},{code:"ph ph-wave-sine",desc:"Wave Sine"},{code:"ph ph-wave-square",desc:"Wave Square"},{code:"ph ph-wave-triangle",desc:"Wave Triangle"},{code:"ph ph-webcam",desc:"Webcam"},{code:"ph ph-webcam-slash",desc:"Webcam Slash"},{code:"ph ph-webhooks-logo",desc:"Webhooks Logo"},{code:"ph ph-wechat-logo",desc:"Wechat Logo"},{code:"ph ph-whatsapp-logo",desc:"Whatsapp Logo"},{code:"ph ph-wheelchair",desc:"Wheelchair"},{code:"ph ph-wheelchair-motion",desc:"Wheelchair Motion"},{code:"ph ph-wifi-high",desc:"Wifi High"},{code:"ph ph-wifi-low",desc:"Wifi Low"},{code:"ph ph-wifi-medium",desc:"Wifi Medium"},{code:"ph ph-wifi-none",desc:"Wifi None"},{code:"ph ph-wifi-slash",desc:"Wifi Slash"},{code:"ph ph-wifi-x",desc:"Wifi X"},{code:"ph ph-wind",desc:"Wind"},{code:"ph ph-windows-logo",desc:"Windows Logo"},{code:"ph ph-wine",desc:"Wine"},{code:"ph ph-wrench",desc:"Wrench"},{code:"ph ph-x",desc:"X"},{code:"ph ph-x-circle",desc:"X Circle"},{code:"ph ph-x-square",desc:"X Square"},{code:"ph ph-yin-yang",desc:"Yin Yang"},{code:"ph ph-youtube-logo",desc:"YouTube Logo"}],iconsButtons:["iconsBack","|"]}),e.FE.PLUGINS.icons=function(t){function n(){for(var e='<div style="text-align: center">',n=0;n<t.opts.iconsSet.length;n++)0!==n&&n%t.opts.iconsStep==0&&(e+="<br>"),e+='<span class="fr-command fr-icon" tabIndex="-1" data-cmd="insertIcon" title="'+t.language.translate(t.opts.iconsSet[n].desc)+'" role="button" data-param1="'+t.opts.iconsSet[n].code+'"><i class="'+t.opts.iconsSet[n].code+'"></i><span class="fr-sr-only">'+t.language.translate(t.opts.iconsSet[n].desc)+"&nbsp;&nbsp;&nbsp;</span></span>";return e+="</div>"}return{_init:function(){var e=function(){for(var e=t.el.querySelectorAll("i.ph:not(.fr-deletable)"),n=0;n<e.length;n++)e[n].className+=" fr-deletable"};e(),t.events.on("html.set",e)},insert:function(n){var o=function(){if(!t.selection.isCollapsed())return!1;var e=t.selection.element(),n=t.selection.endElement();if(e&&t.node.hasClass(e,"fr-icon"))return e;if(n&&t.node.hasClass(n,"fr-icon"))return n;var o=t.selection.ranges(0),r=o.startContainer;if(r.nodeType==Node.ELEMENT_NODE&&r.childNodes.length>0&&o.startOffset>0){var i=r.childNodes[o.startOffset-1];if(t.node.hasClass(i,"fr-icon"))return i}return!1}(),r=t.selection.ranges(0);o?(0===r.startOffset&&t.selection.element()===o?e(o).before(e.FE.MARKERS+e.FE.INVISIBLE_SPACE):r.startOffset>0&&t.selection.element()===o&&r.commonAncestorContainer.parentNode.classList.contains("fr-icon")&&e(o).after(e.FE.INVISIBLE_SPACE+e.FE.MARKERS),t.selection.restore(),t.html.insert('<i class="'+n+' fr-deletable"></i>&nbsp;'+e.FE.MARKERS,!0)):t.html.insert('<i class="'+n+' fr-icon fr-deletable"></i>&nbsp;',!0)},showIconsPopup:function(){var o=t.$tb.find('.fr-command[data-cmd="icons"]'),r=t.popups.get("icons");if(r||(r=function(){var o="";t.opts.toolbarInline&&t.opts.iconsButtons.length>0&&(o='<div class="fr-buttons fr-icons-buttons">'+t.button.buildList(t.opts.iconsButtons)+"</div>");var r={buttons:o,icons:n()},i=t.popups.create("icons",r);return t.tooltip.bind(i,".fr-icon"),function(n){t.events.on("popup.tab",(function(o){var r=e(o.currentTarget);if(!t.popups.isVisible("icons")||!r.is("span, a"))return!0;var i,a,s,l=o.which;if(e.FE.KEYCODE.TAB==l){if(r.is("span.fr-icon")&&o.shiftKey||r.is("a")&&!o.shiftKey){var d=n.find(".fr-buttons");i=!t.accessibility.focusToolbar(d,!!o.shiftKey)}if(!1!==i){var c=n.find("span.fr-icon:focus:first, span.fr-icon:visible:first, a");r.is("span.fr-icon")&&(c=c.not("span.fr-icon:not(:focus)")),a=c.index(r),a=o.shiftKey?((a-1)%c.length+c.length)%c.length:(a+1)%c.length,s=c.get(a),t.events.disableBlur(),s.focus(),i=!1}}else if(e.FE.KEYCODE.ARROW_UP==l||e.FE.KEYCODE.ARROW_DOWN==l||e.FE.KEYCODE.ARROW_LEFT==l||e.FE.KEYCODE.ARROW_RIGHT==l){if(r.is("span.fr-icon")){var p=r.parent().find("span.fr-icon");a=p.index(r);var f=t.opts.iconsStep,h=Math.floor(p.length/f),u=a%f,g=Math.floor(a/f)*f+u,m=h*f;e.FE.KEYCODE.ARROW_UP==l?g=((g-f)%m+m)%m:e.FE.KEYCODE.ARROW_DOWN==l?g=(g+f)%m:e.FE.KEYCODE.ARROW_LEFT==l?g=((g-1)%m+m)%m:e.FE.KEYCODE.ARROW_RIGHT==l&&(g=(g+1)%m),s=e(p.get(g)),t.events.disableBlur(),s.focus(),i=!1}}else e.FE.KEYCODE.ENTER==l&&(r.is("a")?r[0].click():t.button.exec(r),i=!1);return!1===i&&(o.preventDefault(),o.stopPropagation()),i}),!0)}(i),i.addClass("fr-popup-icons-plugin"),i}()),!r.hasClass("fr-active")){t.popups.refresh("icons"),t.popups.setContainer("icons",t.$tb);var i=o.offset().left+o.outerWidth()/2,a=o.offset().top+(t.opts.toolbarBottom?10:o.outerHeight()-10);t.popups.show("icons",i,a,o.outerHeight())}},hideIconsPopup:function(){t.popups.hide("icons")},back:function(){t.popups.hide("icons"),t.toolbar.showInline()}}},e.FE.DefineIcon("icons",{NAME:"star",FA5NAME:"star"}),e.FE.RegisterCommand("icons",{title:"Icons",undo:!1,focus:!0,refreshOnCallback:!1,popup:!0,callback:function(){this.popups.isVisible("icons")?(this.$el.find(".fr-marker").length&&(this.events.disableBlur(),this.selection.restore()),this.popups.hide("icons")):this.icons.showIconsPopup()},plugin:"icons"}),e.FE.RegisterCommand("insertIcon",{callback:function(e,t){this.icons.insert(t),this.icons.hideIconsPopup()}}),e.FE.DefineIcon("iconsBack",{NAME:"arrow-left"}),e.FE.RegisterCommand("iconsBack",{title:"Back",undo:!1,focus:!1,back:!0,refreshAfterCallback:!1,callback:function(){this.icons.back()}})}(jQuery),function(e){e.extend(e.FE.POPUP_TEMPLATES,{emoticons:"[_BUTTONS_][_EMOTICONS_]"}),e.extend(e.FE.DEFAULTS,{emoticonsStep:8,emoticonsSet:[{code:"1f600",desc:"Grinning face"},{code:"1f601",desc:"Grinning face with smiling eyes"},{code:"1f602",desc:"Face with tears of joy"},{code:"1f603",desc:"Smiling face with open mouth"},{code:"1f604",desc:"Smiling face with open mouth and smiling eyes"},{code:"1f605",desc:"Smiling face with open mouth and cold sweat"},{code:"1f606",desc:"Smiling face with open mouth and tightly-closed eyes"},{code:"1f607",desc:"Smiling face with halo"},{code:"1f608",desc:"Smiling face with horns"},{code:"1f609",desc:"Winking face"},{code:"1f60a",desc:"Smiling face with smiling eyes"},{code:"1f60b",desc:"Face savoring delicious food"},{code:"1f60c",desc:"Relieved face"},{code:"1f60d",desc:"Smiling face with heart-shaped eyes"},{code:"1f60e",desc:"Smiling face with sunglasses"},{code:"1f60f",desc:"Smirking face"},{code:"1f610",desc:"Neutral face"},{code:"1f611",desc:"Expressionless face"},{code:"1f612",desc:"Unamused face"},{code:"1f613",desc:"Face with cold sweat"},{code:"1f614",desc:"Pensive face"},{code:"1f615",desc:"Confused face"},{code:"1f616",desc:"Confounded face"},{code:"1f617",desc:"Kissing face"},{code:"1f618",desc:"Face throwing a kiss"},{code:"1f619",desc:"Kissing face with smiling eyes"},{code:"1f61a",desc:"Kissing face with closed eyes"},{code:"1f61b",desc:"Face with stuck out tongue"},{code:"1f61c",desc:"Face with stuck out tongue and winking eye"},{code:"1f61d",desc:"Face with stuck out tongue and tightly-closed eyes"},{code:"1f61e",desc:"Disappointed face"},{code:"1f61f",desc:"Worried face"},{code:"1f620",desc:"Angry face"},{code:"1f621",desc:"Pouting face"},{code:"1f622",desc:"Crying face"},{code:"1f623",desc:"Persevering face"},{code:"1f624",desc:"Face with look of triumph"},{code:"1f625",desc:"Disappointed but relieved face"},{code:"1f626",desc:"Frowning face with open mouth"},{code:"1f627",desc:"Anguished face"},{code:"1f628",desc:"Fearful face"},{code:"1f629",desc:"Weary face"},{code:"1f62a",desc:"Sleepy face"},{code:"1f62b",desc:"Tired face"},{code:"1f62c",desc:"Grimacing face"},{code:"1f62d",desc:"Loudly crying face"},{code:"1f62e",desc:"Face with open mouth"},{code:"1f62f",desc:"Hushed face"},{code:"1f630",desc:"Face with open mouth and cold sweat"},{code:"1f631",desc:"Face screaming in fear"},{code:"1f632",desc:"Astonished face"},{code:"1f633",desc:"Flushed face"},{code:"1f634",desc:"Sleeping face"},{code:"1f635",desc:"Dizzy face"},{code:"1f636",desc:"Face without mouth"},{code:"1f637",desc:"Face with medical mask"}],emoticonsButtons:["emoticonsBack","|"],emoticonsUseImage:!0}),e.FE.PLUGINS.emoticons=function(t){function n(){if(!t.selection.isCollapsed())return!1;var e=t.selection.element(),n=t.selection.endElement();if(e&&t.node.hasClass(e,"fr-emoticon"))return e;if(n&&t.node.hasClass(n,"fr-emoticon"))return n;var o=t.selection.ranges(0),r=o.startContainer;if(r.nodeType==Node.ELEMENT_NODE&&r.childNodes.length>0&&o.startOffset>0){var i=r.childNodes[o.startOffset-1];if(t.node.hasClass(i,"fr-emoticon"))return i}return!1}function o(){for(var e='<div style="text-align: center">',n=0;n<t.opts.emoticonsSet.length;n++)0!==n&&n%t.opts.emoticonsStep==0&&(e+="<br>"),e+='<span class="fr-command fr-emoticon" tabIndex="-1" data-cmd="insertEmoticon" title="'+t.language.translate(t.opts.emoticonsSet[n].desc)+'" role="button" data-param1="'+t.opts.emoticonsSet[n].code+'">'+(t.opts.emoticonsUseImage?'<img src="https://cdnjs.cloudflare.com/ajax/libs/emojione/2.0.1/assets/svg/'+t.opts.emoticonsSet[n].code+'.svg"/>':"&#x"+t.opts.emoticonsSet[n].code+";")+'<span class="fr-sr-only">'+t.language.translate(t.opts.emoticonsSet[n].desc)+"&nbsp;&nbsp;&nbsp;</span></span>";return t.opts.emoticonsUseImage&&(e+='<p style="font-size: 12px; text-align: center; padding: 0 5px;">Emoji free by <a class="fr-link" tabIndex="-1" href="http://emojione.com/" target="_blank" rel="nofollow noopener noreferrer" role="link" aria-label="Open Emoji One website.">Emoji One</a></p>'),e+="</div>"}return{_init:function(){var o=function(){for(var e=t.el.querySelectorAll(".fr-emoticon:not(.fr-deletable)"),n=0;n<e.length;n++)e[n].className+=" fr-deletable"};o(),t.events.on("html.set",o),t.events.on("keydown",(function(o){if(t.keys.isCharacter(o.which)&&t.selection.inEditor()){var r=t.selection.ranges(0),i=n();t.node.hasClass(i,"fr-emoticon-img")&&i&&(0===r.startOffset&&t.selection.element()===i?e(i).before(e.FE.MARKERS+e.FE.INVISIBLE_SPACE):e(i).after(e.FE.INVISIBLE_SPACE+e.FE.MARKERS),t.selection.restore())}})),t.events.on("keyup",(function(o){for(var r=t.el.querySelectorAll(".fr-emoticon"),i=0;i<r.length;i++)void 0!==r[i].textContent&&0===r[i].textContent.replace(/\u200B/gi,"").length&&e(r[i]).remove();if(!(o.which>=e.FE.KEYCODE.ARROW_LEFT&&o.which<=e.FE.KEYCODE.ARROW_DOWN)){var a=n();t.node.hasClass(a,"fr-emoticon-img")&&(e(a).append(e.FE.MARKERS),t.selection.restore())}}))},insert:function(o,r){var i=n(),a=t.selection.ranges(0);i?(0===a.startOffset&&t.selection.element()===i?e(i).before(e.FE.MARKERS+e.FE.INVISIBLE_SPACE):a.startOffset>0&&t.selection.element()===i&&a.commonAncestorContainer.parentNode.classList.contains("fr-emoticon")&&e(i).after(e.FE.INVISIBLE_SPACE+e.FE.MARKERS),t.selection.restore(),t.html.insert('<span class="fr-emoticon fr-deletable'+(r?" fr-emoticon-img":"")+'"'+(r?' style="background: url('+r+');"':"")+">"+(r?"&nbsp;":o)+"</span>&nbsp;"+e.FE.MARKERS,!0)):t.html.insert('<span class="fr-emoticon fr-deletable'+(r?" fr-emoticon-img":"")+'"'+(r?' style="background: url('+r+');"':"")+">"+(r?"&nbsp;":o)+"</span>&nbsp;",!0)},showEmoticonsPopup:function(){var n=t.$tb.find('.fr-command[data-cmd="emoticons"]'),r=t.popups.get("emoticons");if(r||(r=function(){var n="";t.opts.toolbarInline&&t.opts.emoticonsButtons.length>0&&(n='<div class="fr-buttons fr-emoticons-buttons">'+t.button.buildList(t.opts.emoticonsButtons)+"</div>");var r={buttons:n,emoticons:o()},i=t.popups.create("emoticons",r);return t.tooltip.bind(i,".fr-emoticon"),function(n){t.events.on("popup.tab",(function(o){var r=e(o.currentTarget);if(!t.popups.isVisible("emoticons")||!r.is("span, a"))return!0;var i,a,s,l=o.which;if(e.FE.KEYCODE.TAB==l){if(r.is("span.fr-emoticon")&&o.shiftKey||r.is("a")&&!o.shiftKey){var d=n.find(".fr-buttons");i=!t.accessibility.focusToolbar(d,!!o.shiftKey)}if(!1!==i){var c=n.find("span.fr-emoticon:focus:first, span.fr-emoticon:visible:first, a");r.is("span.fr-emoticon")&&(c=c.not("span.fr-emoticon:not(:focus)")),a=c.index(r),a=o.shiftKey?((a-1)%c.length+c.length)%c.length:(a+1)%c.length,s=c.get(a),t.events.disableBlur(),s.focus(),i=!1}}else if(e.FE.KEYCODE.ARROW_UP==l||e.FE.KEYCODE.ARROW_DOWN==l||e.FE.KEYCODE.ARROW_LEFT==l||e.FE.KEYCODE.ARROW_RIGHT==l){if(r.is("span.fr-emoticon")){var p=r.parent().find("span.fr-emoticon");a=p.index(r);var f=t.opts.emoticonsStep,h=Math.floor(p.length/f),u=a%f,g=Math.floor(a/f)*f+u,m=h*f;e.FE.KEYCODE.ARROW_UP==l?g=((g-f)%m+m)%m:e.FE.KEYCODE.ARROW_DOWN==l?g=(g+f)%m:e.FE.KEYCODE.ARROW_LEFT==l?g=((g-1)%m+m)%m:e.FE.KEYCODE.ARROW_RIGHT==l&&(g=(g+1)%m),s=e(p.get(g)),t.events.disableBlur(),s.focus(),i=!1}}else e.FE.KEYCODE.ENTER==l&&(r.is("a")?r[0].click():t.button.exec(r),i=!1);return!1===i&&(o.preventDefault(),o.stopPropagation()),i}),!0)}(i),i}()),!r.hasClass("fr-active")){t.popups.refresh("emoticons"),t.popups.setContainer("emoticons",t.$tb);var i=n.offset().left+n.outerWidth()/2,a=n.offset().top+(t.opts.toolbarBottom?10:n.outerHeight()-10);t.popups.show("emoticons",i,a,n.outerHeight())}},hideEmoticonsPopup:function(){t.popups.hide("emoticons")},back:function(){t.popups.hide("emoticons"),t.toolbar.showInline()}}},e.FE.DefineIcon("emoticons",{NAME:"smile-o",FA5NAME:"smile"}),e.FE.RegisterCommand("emoticons",{title:"Emoticons",undo:!1,focus:!0,refreshOnCallback:!1,popup:!0,callback:function(){this.popups.isVisible("emoticons")?(this.$el.find(".fr-marker").length&&(this.events.disableBlur(),this.selection.restore()),this.popups.hide("emoticons")):this.emoticons.showEmoticonsPopup()},plugin:"emoticons"}),e.FE.RegisterCommand("insertEmoticon",{callback:function(e,t){this.emoticons.insert("&#x"+t+";",this.opts.emoticonsUseImage?"https://cdnjs.cloudflare.com/ajax/libs/emojione/2.0.1/assets/svg/"+t+".svg":null),this.emoticons.hideEmoticonsPopup()}}),e.FE.DefineIcon("emoticonsBack",{NAME:"arrow-left"}),e.FE.RegisterCommand("emoticonsBack",{title:"Back",undo:!1,focus:!1,back:!0,refreshAfterCallback:!1,callback:function(){this.emoticons.back()}})}(jQuery),function(e){e.extend(e.FE.POPUP_TEMPLATES,{"colors.picker":"[_BUTTONS_][_TEXT_COLORS_][_BACKGROUND_COLORS_][_CUSTOM_COLOR_]"}),e.extend(e.FE.DEFAULTS,{colorsText:["#61BD6D","#1ABC9C","#54ACD2","#2C82C9","#9365B8","#475577","#CCCCCC","#41A85F","#00A885","#3D8EB9","#2969B0","#553982","#28324E","#000000","#F7DA64","#FBA026","#EB6B56","#E25041","#A38F84","#EFEFEF","#FFFFFF","#FAC51C","#F37934","#D14841","#B8312F","#7C706B","#D1D5D8","REMOVE"],colorsBackground:["#61BD6D","#1ABC9C","#54ACD2","#2C82C9","#9365B8","#475577","#CCCCCC","#41A85F","#00A885","#3D8EB9","#2969B0","#553982","#28324E","#000000","#F7DA64","#FBA026","#EB6B56","#E25041","#A38F84","#EFEFEF","#FFFFFF","#FAC51C","#F37934","#D14841","#B8312F","#7C706B","#D1D5D8","REMOVE"],colorsStep:7,colorsHEXInput:!0,colorsDefaultTab:"text",colorsButtons:["colorsBack","|","-"]});var t=["text","background"];e.FE.PLUGINS.colors=function(n){function o(){n.popups.hide("colors.picker")}function r(e){for(var t="text"==e?n.opts.colorsText:n.opts.colorsBackground,o='<div class="fr-color-set fr-'+e+"-color"+(n.opts.colorsDefaultTab==e||"text"!=n.opts.colorsDefaultTab&&"background"!=n.opts.colorsDefaultTab&&"text"==e?" fr-selected-set":"")+'">',r=0;r<t.length;r++)0!==r&&r%n.opts.colorsStep==0&&(o+="<br>"),"REMOVE"!=t[r]?o+='<span class="fr-command fr-select-color" style="background: '+t[r]+';" tabIndex="-1" aria-selected="false" role="button" data-cmd="'+e+'Color" data-param1="'+t[r]+'"><span class="fr-sr-only">'+n.language.translate("Color")+" "+t[r]+"&nbsp;&nbsp;&nbsp;</span></span>":o+='<span class="fr-command fr-select-color" data-cmd="'+e+'Color" tabIndex="-1" role="button" data-param1="REMOVE" title="'+n.language.translate("Clear Formatting")+'">'+n.icon.create("remove")+'<span class="fr-sr-only">'+n.language.translate("Clear Formatting")+"</span></span>";return o+"</div>"}function i(e){var t=n.popups.get("colors.picker"),o=t.find(".fr-"+e+"-color .fr-active-item").attr("data-param1"),r=t.find(".fr-color-hex-layer input"),i=t.find('.fr-colors-tab[data-param1="'+e+'"]');r.length&&i.hasClass("fr-selected-tab")&&r.val(o).trigger("change")}function a(e){"REMOVE"!=e?n.format.applyStyle("background-color",n.helpers.HEXtoRGB(e)):n.format.removeStyle("background-color"),o()}function s(e){"REMOVE"!=e?n.format.applyStyle("color",n.helpers.HEXtoRGB(e)):n.format.removeStyle("color"),o()}return{showColorsPopup:function(){var o=n.$tb.find('.fr-command[data-cmd="color"]'),a=n.popups.get("colors.picker");if(a||(a=function(){var t='<div class="fr-buttons fr-colors-buttons">';n.opts.toolbarInline&&n.opts.colorsButtons.length>0&&(t+=n.button.buildList(n.opts.colorsButtons));t+=(o='<div class="fr-colors-tabs fr-group">',o+='<span class="fr-colors-tab '+("background"==n.opts.colorsDefaultTab?"":"fr-selected-tab ")+'fr-command" tabIndex="-1" role="button" aria-pressed="'+("background"!=n.opts.colorsDefaultTab)+'" data-param1="text" data-cmd="colorChangeSet" title="'+n.language.translate("Text")+'">'+n.language.translate("Text")+"</span>",(o+='<span class="fr-colors-tab '+("background"==n.opts.colorsDefaultTab?"fr-selected-tab":"")+'fr-command" tabIndex="-1" role="button" aria-pressed="'+("background"==n.opts.colorsDefaultTab)+'" data-param1="background" data-cmd="colorChangeSet" title="'+n.language.translate("Background")+'">'+n.language.translate("Background")+"</span>")+"</div></div>");var o;var i="";n.opts.colorsHEXInput&&(i='<div class="fr-color-hex-layer fr-active fr-layer" id="fr-color-hex-layer-'+n.id+'"><div class="fr-input-line"><input maxlength="7" id="fr-color-hex-layer-text-'+n.id+'" type="text" placeholder="'+n.language.translate("HEX Color")+'" tabIndex="1" aria-required="true"></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-submit" data-cmd="customColor" tabIndex="2" role="button">'+n.language.translate("OK")+"</button></div></div>");var a={buttons:t,text_colors:r("text"),background_colors:r("background"),custom_color:i},s=n.popups.create("colors.picker",a);return function(t){n.events.on("popup.tab",(function(o){var r=e(o.currentTarget);if(!n.popups.isVisible("colors.picker")||!r.is("span"))return!0;var i=o.which,a=!0;if(e.FE.KEYCODE.TAB==i){var s=t.find(".fr-buttons");a=!n.accessibility.focusToolbar(s,!!o.shiftKey)}else if(e.FE.KEYCODE.ARROW_UP==i||e.FE.KEYCODE.ARROW_DOWN==i||e.FE.KEYCODE.ARROW_LEFT==i||e.FE.KEYCODE.ARROW_RIGHT==i){if(r.is("span.fr-select-color")){var l=r.parent().find("span.fr-select-color"),d=l.index(r),c=n.opts.colorsStep,p=Math.floor(l.length/c),f=d%c,h=Math.floor(d/c)*c+f,u=p*c;e.FE.KEYCODE.ARROW_UP==i?h=((h-c)%u+u)%u:e.FE.KEYCODE.ARROW_DOWN==i?h=(h+c)%u:e.FE.KEYCODE.ARROW_LEFT==i?h=((h-1)%u+u)%u:e.FE.KEYCODE.ARROW_RIGHT==i&&(h=(h+1)%u);var g=e(l.get(h));n.events.disableBlur(),g.focus(),a=!1}}else e.FE.KEYCODE.ENTER==i&&(n.button.exec(r),a=!1);return!1===a&&(o.preventDefault(),o.stopPropagation()),a}),!0)}(s),s}()),!a.hasClass("fr-active"))if(n.popups.setContainer("colors.picker",n.$tb),t.map((function(t){!function(t){var o,r=n.popups.get("colors.picker"),a=e(n.selection.element());o="background"==t?"background-color":"color";var s=r.find(".fr-"+t+"-color .fr-select-color");s.find(".fr-selected-color").remove(),s.removeClass("fr-active-item"),s.not('[data-param1="REMOVE"]').attr("aria-selected",!1);for(;a.get(0)!=n.el;){if("transparent"!=a.css(o)&&"rgba(0, 0, 0, 0)"!=a.css(o)){var l=r.find(".fr-"+t+'-color .fr-select-color[data-param1="'+n.helpers.RGBToHex(a.css(o))+'"]');l.append('<span class="fr-selected-color" aria-hidden="true"></span>'),l.addClass("fr-active-item").attr("aria-selected",!0);break}a=a.parent()}i(t)}(t)})),o.is(":visible")){var s=o.offset().left+o.outerWidth()/2,l=o.offset().top+(n.opts.toolbarBottom?10:o.outerHeight()-10);n.popups.show("colors.picker",s,l,o.outerHeight())}else n.position.forSelection(a),n.popups.show("colors.picker")},hideColorsPopup:o,changeSet:function(e,t){e.hasClass("fr-selected-tab")||(e.siblings().removeClass("fr-selected-tab").attr("aria-pressed",!1),e.addClass("fr-selected-tab").attr("aria-pressed",!0),e.parents(".fr-popup").find(".fr-color-set").removeClass("fr-selected-set"),e.parents(".fr-popup").find(".fr-color-set.fr-"+t+"-color").addClass("fr-selected-set"),i(t)),n.accessibility.focusPopup(e.parents(".fr-popup"))},background:a,customColor:function(){var e=n.popups.get("colors.picker"),t=e.find(".fr-color-hex-layer input");if(t.length){var o=t.val();"background"==e.find(".fr-selected-tab").attr("data-param1")?a(o):s(o)}},text:s,back:function(){n.popups.hide("colors.picker"),n.toolbar.showInline()}}},e.FE.DefineIcon("colors",{NAME:"tint"}),e.FE.RegisterCommand("color",{title:"Colors",undo:!1,focus:!0,refreshOnCallback:!1,popup:!0,callback:function(){this.popups.isVisible("colors.picker")?(this.$el.find(".fr-marker").length&&(this.events.disableBlur(),this.selection.restore()),this.popups.hide("colors.picker")):this.colors.showColorsPopup()},plugin:"colors"}),e.FE.RegisterCommand("textColor",{undo:!0,callback:function(e,t){this.colors.text(t)}}),e.FE.RegisterCommand("backgroundColor",{undo:!0,callback:function(e,t){this.colors.background(t)}}),e.FE.RegisterCommand("colorChangeSet",{undo:!1,focus:!1,callback:function(e,t){var n=this.popups.get("colors.picker").find('.fr-command[data-cmd="'+e+'"][data-param1="'+t+'"]');this.colors.changeSet(n,t)}}),e.FE.DefineIcon("colorsBack",{NAME:"arrow-left"}),e.FE.RegisterCommand("colorsBack",{title:"Back",undo:!1,focus:!1,back:!0,refreshAfterCallback:!1,callback:function(){this.colors.back()}}),e.FE.RegisterCommand("customColor",{title:"OK",undo:!0,callback:function(){this.colors.customColor()}}),e.FE.DefineIcon("remove",{NAME:"eraser"})}(jQuery),function(e){e.FE.URLRegEx="(^| |\\u00A0)("+e.FE.LinkRegEx+"|([a-z0-9+-_.]{1,}@[a-z0-9+-_.]{1,}\\.[a-z0-9+-_]{1,}))$",e.FE.PLUGINS.url=function(t){var n=null;function o(e,o,r){for(var i="";r.length&&"."==r[r.length-1];)i+=".",r=r.substring(0,r.length-1);var a=r;if(t.opts.linkConvertEmailAddress)t.helpers.isEmail(a)&&!/^mailto:.*/i.test(a)&&(a="mailto:"+a);else if(t.helpers.isEmail(a))return o+r;return/^((http|https|ftp|ftps|mailto|tel|sms|notes|data)\:)/i.test(a)||(a="//"+a),(o||"")+"<a"+(t.opts.linkAlwaysBlank?' target="_blank"':"")+(n?' rel="'+n+'"':"")+' data-fr-linked="true" href="'+a+'">'+r.replace(/&amp;/g,"&").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")+"</a>"+i}function r(){return new RegExp(e.FE.URLRegEx,"gi")}function i(e){return t.opts.linkAlwaysNoFollow&&(n="nofollow"),t.opts.linkAlwaysBlank&&(t.opts.linkNoOpener&&(n?n+=" noopener":n="noopener"),t.opts.linkNoReferrer&&(n?n+=" noreferrer":n="noreferrer")),e.replace(r(),o)}function a(e){return!!e&&("A"===e.tagName||!(!e.parentNode||e.parentNode==t.el)&&a(e.parentNode))}function s(e){var t=e.split(" ");return t[t.length-1]}function l(){var n=t.selection.ranges(0),o=n.startContainer;if(!o||o.nodeType!==Node.TEXT_NODE||n.startOffset!==(o.textContent||"").length)return!1;if(a(o))return!1;if(r().test(s(o.textContent))){e(o).before(i(o.textContent));var l=e(o.parentNode).find("a[data-fr-linked]");l.removeAttr("data-fr-linked"),o.parentNode.removeChild(o),t.events.trigger("url.linked",[l.get(0)])}else if(o.textContent.split(" ").length<=2&&o.previousSibling&&"A"===o.previousSibling.tagName){var d=o.previousSibling.innerText+o.textContent;r().test(s(d))&&(e(o.previousSibling).replaceWith(i(d)),o.parentNode.removeChild(o))}}return{_init:function(){t.events.on("keypress",(function(e){!t.selection.isCollapsed()||"."!=e.key&&")"!=e.key&&"("!=e.key||l()}),!0),t.events.on("keydown",(function(n){var o=n.which;!t.selection.isCollapsed()||o!=e.FE.KEYCODE.ENTER&&o!=e.FE.KEYCODE.SPACE||l()}),!0),t.events.on("paste.beforeCleanup",(function(e){if(t.helpers.isURL(e)){var n=null;return t.opts.linkAlwaysBlank&&(t.opts.linkNoOpener&&(n?n+=" noopener":n="noopener"),t.opts.linkNoReferrer&&(n?n+=" noreferrer":n="noreferrer")),"<a"+(t.opts.linkAlwaysBlank?' target="_blank"':"")+(n?' rel="'+n+'"':"")+' href="'+e+'" >'+e+"</a>"}}))}}}}(jQuery),function(e){e.extend(e.FE.DEFAULTS,{lineBreakerTags:["table","hr","form","dl","span.fr-video",".fr-embedly"],lineBreakerOffset:15,lineBreakerHorizontalOffset:10}),e.FE.PLUGINS.lineBreaker=function(t){var n,o,r;function i(o,r){var i,a,s,l,d,c,p,f;if(null==o)d=(l=r.parent()).offset().top,i=(p=r.offset().top)-Math.min((p-d)/2,t.opts.lineBreakerOffset),s=l.outerWidth(),a=l.offset().left;else if(null==r)(c=(l=o.parent()).offset().top+l.outerHeight())<(f=o.offset().top+o.outerHeight())&&(c=(l=e(l).parent()).offset().top+l.outerHeight()),i=f+Math.min(Math.abs(c-f)/2,t.opts.lineBreakerOffset),s=l.outerWidth(),a=l.offset().left;else{l=o.parent();var h=o.offset().top+o.height(),u=r.offset().top;if(h>u)return!1;i=(h+u)/2,s=l.outerWidth(),a=l.offset().left}t.opts.iframe&&(a+=t.$iframe.offset().left-t.helpers.scrollLeft(),i+=t.$iframe.offset().top-t.helpers.scrollTop()),t.$box.append(n),n.css("top",i-t.win.pageYOffset),n.css("left",a-t.win.pageXOffset),n.css("width",s),n.data("tag1",o),n.data("tag2",r),n.addClass("fr-visible").data("instance",t)}function a(n){if(n){var o=e(n);if(0===t.$el.find(o).length)return null;if(n.nodeType!=Node.TEXT_NODE&&o.is(t.opts.lineBreakerTags.join(",")))return o;if(o.parents(t.opts.lineBreakerTags.join(",")).length>0)return n=o.parents(t.opts.lineBreakerTags.join(",")).get(0),0!==t.$el.find(n).length&&e(n).is(t.opts.lineBreakerTags.join(","))?e(n):null}return null}function s(n,o){var r=t.doc.elementFromPoint(n,o);return r&&!e(r).closest(".fr-line-breaker").length&&!t.node.isElement(r)&&r!=t.$wp.get(0)&&function(e){if(void 0!==e.inFroalaWrapper)return e.inFroalaWrapper;for(var n=e;e.parentNode&&e.parentNode!==t.$wp.get(0);)e=e.parentNode;return n.inFroalaWrapper=e.parentNode==t.$wp.get(0),n.inFroalaWrapper}(r)?r:null}function l(e,n,o){for(var r=o,i=null;r<=t.opts.lineBreakerOffset&&!i;)(i=s(e,n-r))||(i=s(e,n+r)),r+=o;return i}function d(e,n,o){for(var r=null,i=100;!r&&e>t.$box.offset().left&&e<t.$box.offset().left+t.$box.outerWidth()&&i>0;)(r=s(e,n))||(r=l(e,n,5)),"left"==o?e-=t.opts.lineBreakerHorizontalOffset:e+=t.opts.lineBreakerHorizontalOffset,i-=t.opts.lineBreakerHorizontalOffset;return r}function c(e){r=null;var o=null,s=null,c=t.doc.elementFromPoint(e.pageX-t.win.pageXOffset,e.pageY-t.win.pageYOffset);c&&("HTML"==c.tagName||"BODY"==c.tagName||t.node.isElement(c)||(c.getAttribute("class")||"").indexOf("fr-line-breaker")>=0)?((s=l(e.pageX-t.win.pageXOffset,e.pageY-t.win.pageYOffset,1))||(s=d(e.pageX-t.win.pageXOffset-t.opts.lineBreakerHorizontalOffset,e.pageY-t.win.pageYOffset,"left")),s||(s=d(e.pageX-t.win.pageXOffset+t.opts.lineBreakerHorizontalOffset,e.pageY-t.win.pageYOffset,"right")),o=a(s)):o=a(c),o?function(e,o){var r,s,l=e.offset().top,d=e.offset().top+e.outerHeight();if(Math.abs(d-o)<=t.opts.lineBreakerOffset||Math.abs(o-l)<=t.opts.lineBreakerOffset)if(Math.abs(d-o)<Math.abs(o-l)){for(var c=(s=e.get(0)).nextSibling;c&&c.nodeType==Node.TEXT_NODE&&0===c.textContent.length;)c=c.nextSibling;if(!c)return i(e,null),!0;if(r=a(c))return i(e,r),!0}else{if(!(s=e.get(0)).previousSibling)return i(null,e),!0;if(r=a(s.previousSibling))return i(r,e),!0}n.removeClass("fr-visible").removeData("instance")}(o,e.pageY):t.core.sameInstance(n)&&n.removeClass("fr-visible").removeData("instance")}function p(e){return!(n.hasClass("fr-visible")&&!t.core.sameInstance(n))&&(t.popups.areVisible()||t.el.querySelector(".fr-selected-cell")?(n.removeClass("fr-visible"),!0):void(!1!==o||t.edit.isDisabled()||(r&&clearTimeout(r),r=setTimeout(c,30,e))))}function f(){r&&clearTimeout(r),n&&n.hasClass("fr-visible")&&n.removeClass("fr-visible").removeData("instance")}function h(){o=!0,f()}function u(){o=!1}function g(o){o.preventDefault();var r=n.data("instance")||t;n.removeClass("fr-visible").removeData("instance");var i=n.data("tag1"),a=n.data("tag2"),s=t.html.defaultTag();null==i?s&&"TD"!=a.parent().get(0).tagName&&0===a.parents(s).length?a.before("<"+s+">"+e.FE.MARKERS+"<br></"+s+">"):a.before(e.FE.MARKERS+"<br>"):s&&"TD"!=i.parent().get(0).tagName&&0===i.parents(s).length?i.after("<"+s+">"+e.FE.MARKERS+"<br></"+s+">"):i.after(e.FE.MARKERS+"<br>"),r.selection.restore()}return{_init:function(){if(!t.$wp)return!1;t.shared.$line_breaker||(t.shared.$line_breaker=e('<div class="fr-line-breaker"><a class="fr-floating-btn" role="button" tabIndex="-1" title="'+t.language.translate("Break")+'"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><rect x="21" y="11" width="2" height="8"/><rect x="14" y="17" width="7" height="2"/><path d="M14.000,14.000 L14.000,22.013 L9.000,18.031 L14.000,14.000 Z"/></svg></a></div>')),n=t.shared.$line_breaker,t.events.on("shared.destroy",(function(){n.html("").removeData().remove(),n=null}),!0),t.events.on("destroy",(function(){n.removeData("instance").removeClass("fr-visible").appendTo("body:first"),clearTimeout(r)}),!0),t.events.$on(n,"mousemove",(function(e){e.stopPropagation()}),!0),t.events.bindClick(n,"a",g),o=!1,t.events.$on(t.$win,"mousemove",p),t.events.$on(e(t.win),"scroll",f),t.events.on("popups.show.table.edit",f),t.events.on("commands.after",f),t.events.$on(e(t.win),"mousedown",h),t.events.$on(e(t.win),"mouseup",u)}}}}(jQuery),function(e){e.extend(e.FE.DEFAULTS,{entities:"&quot;&#39;&iexcl;&cent;&pound;&curren;&yen;&brvbar;&sect;&uml;&copy;&ordf;&laquo;&not;&shy;&reg;&macr;&deg;&plusmn;&sup2;&sup3;&acute;&micro;&para;&middot;&cedil;&sup1;&ordm;&raquo;&frac14;&frac12;&frac34;&iquest;&Agrave;&Aacute;&Acirc;&Atilde;&Auml;&Aring;&AElig;&Ccedil;&Egrave;&Eacute;&Ecirc;&Euml;&Igrave;&Iacute;&Icirc;&Iuml;&ETH;&Ntilde;&Ograve;&Oacute;&Ocirc;&Otilde;&Ouml;&times;&Oslash;&Ugrave;&Uacute;&Ucirc;&Uuml;&Yacute;&THORN;&szlig;&agrave;&aacute;&acirc;&atilde;&auml;&aring;&aelig;&ccedil;&egrave;&eacute;&ecirc;&euml;&igrave;&iacute;&icirc;&iuml;&eth;&ntilde;&ograve;&oacute;&ocirc;&otilde;&ouml;&divide;&oslash;&ugrave;&uacute;&ucirc;&uuml;&yacute;&thorn;&yuml;&OElig;&oelig;&Scaron;&scaron;&Yuml;&fnof;&circ;&tilde;&Alpha;&Beta;&Gamma;&Delta;&Epsilon;&Zeta;&Eta;&Theta;&Iota;&Kappa;&Lambda;&Mu;&Nu;&Xi;&Omicron;&Pi;&Rho;&Sigma;&Tau;&Upsilon;&Phi;&Chi;&Psi;&Omega;&alpha;&beta;&gamma;&delta;&epsilon;&zeta;&eta;&theta;&iota;&kappa;&lambda;&mu;&nu;&xi;&omicron;&pi;&rho;&sigmaf;&sigma;&tau;&upsilon;&phi;&chi;&psi;&omega;&thetasym;&upsih;&piv;&ensp;&emsp;&thinsp;&zwnj;&zwj;&lrm;&rlm;&ndash;&mdash;&lsquo;&rsquo;&sbquo;&ldquo;&rdquo;&bdquo;&dagger;&Dagger;&bull;&hellip;&permil;&prime;&Prime;&lsaquo;&rsaquo;&oline;&frasl;&euro;&image;&weierp;&real;&trade;&alefsym;&larr;&uarr;&rarr;&darr;&harr;&crarr;&lArr;&uArr;&rArr;&dArr;&hArr;&forall;&part;&exist;&empty;&nabla;&isin;&notin;&ni;&prod;&sum;&minus;&lowast;&radic;&prop;&infin;&ang;&and;&or;&cap;&cup;&int;&there4;&sim;&cong;&asymp;&ne;&equiv;&le;&ge;&sub;&sup;&nsub;&sube;&supe;&oplus;&otimes;&perp;&sdot;&lceil;&rceil;&lfloor;&rfloor;&lang;&rang;&loz;&spades;&clubs;&hearts;&diams;"}),e.FE.PLUGINS.entities=function(t){var n,o;function r(e){var t=e.textContent;if(t.match(n)){for(var r="",i=0;i<t.length;i++)o[t[i]]?r+=o[t[i]]:r+=t[i];e.textContent=r}}function i(e){if(e&&["STYLE","SCRIPT","svg","IFRAME"].indexOf(e.tagName)>=0)return!0;for(var n=t.node.contents(e),o=0;o<n.length;o++)n[o].nodeType==Node.TEXT_NODE?r(n[o]):i(n[o]);e.nodeType==Node.TEXT_NODE&&r(e)}function a(e){return 0===e.length?"":t.clean.exec(e,i).replace(/\&amp;/g,"&")}return{_init:function(){t.opts.htmlSimpleAmpersand||(t.opts.entities=t.opts.entities+"&amp;");var r=e("<div>").html(t.opts.entities).text(),i=t.opts.entities.split(";");o={},n="";for(var s=0;s<r.length;s++){var l=r.charAt(s);o[l]=i[s]+";",n+="\\"+l+(s<r.length-1?"|":"")}n=new RegExp("("+n+")","g"),t.events.on("html.get",a,!0)}}}}(jQuery),function(e){e.extend(e.FE.DEFAULTS,{dragInline:!0}),e.FE.PLUGINS.draggable=function(t){function n(n){return!(!n.originalEvent||!n.originalEvent.target||n.originalEvent.target.nodeType!=Node.TEXT_NODE)||(n.target&&"A"==n.target.tagName&&1==n.target.childNodes.length&&"IMG"==n.target.childNodes[0].tagName&&(n.target=n.target.childNodes[0]),e(n.target).hasClass("fr-draggable")?(t.undo.canDo()||t.undo.saveStep(),t.opts.dragInline?t.$el.attr("contenteditable",!0):t.$el.attr("contenteditable",!1),t.opts.toolbarInline&&t.toolbar.hide(),e(n.target).addClass("fr-dragging"),t.browser.msie||t.browser.edge||t.selection.clear(),void n.originalEvent.dataTransfer.setData("text","Froala")):(t.browser.msie||n.preventDefault(),!1))}function o(e){return!(e&&("HTML"==e.tagName||"BODY"==e.tagName||t.node.isElement(e)))}function r(e,n,o){t.opts.iframe&&(e+=t.$iframe.offset().top,n+=t.$iframe.offset().left),c.offset().top!=e&&c.css("top",e),c.offset().left!=n&&c.css("left",n),c.width()!=o&&c.css("width",o)}function i(n){n.originalEvent.dataTransfer.dropEffect="move",t.opts.dragInline?function(){for(var t=null,n=0;n<e.FE.INSTANCES.length;n++)if((t=e.FE.INSTANCES[n].$el.find(".fr-dragging")).length)return t.get(0)}()||!t.browser.msie&&!t.browser.edge||n.preventDefault():(n.preventDefault(),function(n){var i=t.doc.elementFromPoint(n.originalEvent.pageX-t.win.pageXOffset,n.originalEvent.pageY-t.win.pageYOffset);if(!o(i)){for(var a=0,s=i;!o(s)&&s==i&&n.originalEvent.pageY-t.win.pageYOffset-a>0;)a++,s=t.doc.elementFromPoint(n.originalEvent.pageX-t.win.pageXOffset,n.originalEvent.pageY-t.win.pageYOffset-a);(!o(s)||c&&0===t.$el.find(s).length&&s!=c.get(0))&&(s=null);for(var l=0,d=i;!o(d)&&d==i&&n.originalEvent.pageY-t.win.pageYOffset+l<e(t.doc).height();)l++,d=t.doc.elementFromPoint(n.originalEvent.pageX-t.win.pageXOffset,n.originalEvent.pageY-t.win.pageYOffset+l);(!o(d)||c&&0===t.$el.find(d).length&&d!=c.get(0))&&(d=null),i=null==d&&s?s:d&&null==s?d:d&&s?a<l?s:d:null}if(e(i).hasClass("fr-drag-helper"))return!1;if(i&&!t.node.isBlock(i)&&(i=t.node.blockParent(i)),i&&["TD","TH","TR","THEAD","TBODY"].indexOf(i.tagName)>=0&&(i=e(i).parents("table").get(0)),i&&["LI"].indexOf(i.tagName)>=0&&(i=e(i).parents("UL, OL").get(0)),i&&!e(i).hasClass("fr-drag-helper")){var p;c||(e.FE.$draggable_helper||(e.FE.$draggable_helper=e('<div class="fr-drag-helper"></div>')),c=e.FE.$draggable_helper,t.events.on("shared.destroy",(function(){c.html("").removeData().remove(),c=null}),!0)),p=n.originalEvent.pageY<e(i).offset().top+e(i).outerHeight()/2;var f=e(i),h=0;p||0!==f.next().length?(p||(f=f.next()),"before"==c.data("fr-position")&&f.is(c.data("fr-tag"))||(f.prev().length>0&&(h=parseFloat(f.prev().css("margin-bottom"))||0),h=Math.max(h,parseFloat(f.css("margin-top"))||0),r(f.offset().top-h/2-t.$box.offset().top,f.offset().left-t.win.pageXOffset-t.$box.offset().left,f.width()),c.data("fr-position","before"))):"after"==c.data("fr-position")&&f.is(c.data("fr-tag"))||(h=parseFloat(f.css("margin-bottom"))||0,r(f.offset().top+e(i).height()+h/2-t.$box.offset().top,f.offset().left-t.win.pageXOffset-t.$box.offset().left,f.width()),c.data("fr-position","after")),c.data("fr-tag",f),c.addClass("fr-visible"),c.appendTo(t.$box)}else c&&t.$box.find(c).length>0&&c.removeClass("fr-visible")}(n))}function a(e){e.originalEvent.dataTransfer.dropEffect="move",t.opts.dragInline||e.preventDefault()}function s(e){t.$el.attr("contenteditable",!0);var n=t.$el.find(".fr-dragging");c&&c.hasClass("fr-visible")&&t.$box.find(c).length?l(e):n.length&&(e.preventDefault(),e.stopPropagation()),c&&t.$box.find(c).length&&c.removeClass("fr-visible"),n.removeClass("fr-dragging")}function l(n){var o,r;"true"!==t.$el.attr("contenteditable")&&t.$el.attr("contenteditable",!0);for(var i=0;i<e.FE.INSTANCES.length;i++)if((o=e.FE.INSTANCES[i].$el.find(".fr-dragging")).length){r=e.FE.INSTANCES[i];break}if(o.length){if(n.preventDefault(),n.stopPropagation(),c&&c.hasClass("fr-visible")&&t.$box.find(c).length)c.data("fr-tag")[c.data("fr-position")]('<span class="fr-marker"></span>'),c.removeClass("fr-visible");else if(!1===t.markers.insertAtPoint(n.originalEvent))return!1;if(o.removeClass("fr-dragging"),!1===(o=t.events.chainTrigger("element.beforeDrop",o)))return!1;var a=o;if(o.parent().is("A")&&1==o.parent().get(0).childNodes.length&&(a=o.parent()),t.core.isEmpty())t.events.focus();else t.$el.find(".fr-marker").replaceWith(e.FE.MARKERS),t.selection.restore();if(r==t||t.undo.canDo()||t.undo.saveStep(),t.core.isEmpty())t.$el.html(a);else{var s=t.markers.insert();0===a.find(s).length?e(s).replaceWith(a):0===o.find(s).length&&e(s).replaceWith(o),o.after(e.FE.MARKERS),t.selection.restore()}return t.popups.hideAll(),t.selection.save(),t.$el.find(t.html.emptyBlockTagsQuery()).not("TD, TH, LI, .fr-inner").not(t.opts.htmlAllowedEmptyTags.join(",")).remove(),t.html.wrap(),t.html.fillEmptyBlocks(),t.selection.restore(),t.undo.saveStep(),t.opts.iframe&&t.size.syncIframe(),r!=t&&(r.popups.hideAll(),r.$el.find(r.html.emptyBlockTagsQuery()).not("TD, TH, LI, .fr-inner").remove(),r.html.wrap(),r.html.fillEmptyBlocks(),r.undo.saveStep(),r.events.trigger("element.dropped"),r.opts.iframe&&r.size.syncIframe()),t.events.trigger("element.dropped",[a]),!1}c&&c.removeClass("fr-visible"),t.undo.canDo()||t.undo.saveStep(),setTimeout((function(){t.undo.saveStep()}),0)}function d(e){if(e&&"DIV"==e.tagName&&t.node.hasClass(e,"fr-drag-helper"))e.parentNode.removeChild(e);else if(e&&e.nodeType==Node.ELEMENT_NODE)for(var n=e.querySelectorAll("div.fr-drag-helper"),o=0;o<n.length;o++)n[o].parentNode.removeChild(n[o])}var c;return{_init:function(){t.opts.enter==e.FE.ENTER_BR&&(t.opts.dragInline=!0),t.events.on("dragstart",n,!0),t.events.on("dragover",i,!0),t.events.on("dragenter",a,!0),t.events.on("document.dragend",s,!0),t.events.on("document.drop",s,!0),t.events.on("drop",l,!0),t.events.on("html.processGet",d)}}}}(jQuery),jQuery.FE.PLUGINS.codeBeautifier=function(){var e,t,n,o,r={};function i(e,t){var n={"@page":!0,"@font-face":!0,"@keyframes":!0,"@media":!0,"@supports":!0,"@document":!0},o={"@media":!0,"@supports":!0,"@document":!0};t=t||{},e=(e=e||"").replace(/\r\n|[\r\u2028\u2029]/g,"\n");var r=t.indent_size||4,i=t.indent_char||" ",a=void 0===t.selector_separator_newline||t.selector_separator_newline,s=void 0!==t.end_with_newline&&t.end_with_newline,l=void 0===t.newline_between_rules||t.newline_between_rules,d=t.eol?t.eol:"\n";"string"==typeof r&&(r=parseInt(r,10)),t.indent_with_tabs&&(i="\t",r=1),d=d.replace(/\\r/,"\r").replace(/\\n/,"\n");var c,p=/^\s+$/,f=-1,h=0;function u(){return(c=e.charAt(++f))||""}function g(t){var n,o=f;return t&&v(),n=e.charAt(f+1)||"",f=o-1,u(),n}function m(t){for(var n=f;u();)if("\\"===c)u();else{if(-1!==t.indexOf(c))break;if("\n"===c)break}return e.substring(n,f+1)}function v(){for(var e="";p.test(g());)u(),e+=c;return e}function b(){var e="";for(c&&p.test(c)&&(e=c);p.test(u());)e+=c;return e}function E(t){var n=f;for(t="/"===g(),u();u();){if(!t&&"*"===c&&"/"===g()){u();break}if(t&&"\n"===c)return e.substring(n,f)}return e.substring(n,f)+c}function y(t){return e.substring(f-t.length,f).toLowerCase()===t}function w(){for(var t=0,n=f+1;n<e.length;n++){var o=e.charAt(n);if("{"===o)return!0;if("("===o)t+=1;else if(")"===o){if(0==t)return!1;t-=1}else if(";"===o||"}"===o)return!1}return!1}for(var S,C,_=e.match(/^[\t ]*/)[0],T=new Array(r+1).join(i),k=0,A=0,x={"{":function(e){x.singleSpace(),N.push(e),x.newLine()},"}":function(e){x.newLine(),N.push(e),x.newLine()},_lastCharWhitespace:function(){return p.test(N[N.length-1])},newLine:function(e){N.length&&(e||"\n"===N[N.length-1]||x.trim(),N.push("\n"),_&&N.push(_))},singleSpace:function(){N.length&&!x._lastCharWhitespace()&&N.push(" ")},preserveSingleSpace:function(){M&&x.singleSpace()},trim:function(){for(;x._lastCharWhitespace();)N.pop()}},N=[],R=!1,F=!1,O=!1,D="",$="";;){var L=b(),M=""!==L,I=-1!==L.indexOf("\n");if($=D,D=c,!c)break;if("/"===c&&"*"===g()){var B=0===k;(I||B)&&x.newLine(),N.push(E()),x.newLine(),B&&x.newLine(!0)}else if("/"===c&&"/"===g())I||"{"===$||x.trim(),x.singleSpace(),N.push(E()),x.newLine();else if("@"===c){x.preserveSingleSpace(),N.push(c);var P=(S=void 0,C=void 0,S=f,C=m(": ,;{}()[]/='\""),f=S-1,u(),C);P.match(/[ :]$/)&&(u(),P=m(": ").replace(/\s$/,""),N.push(P),x.singleSpace()),(P=P.replace(/\s$/,""))in n&&(A+=1,P in o&&(O=!0))}else"#"===c&&"{"===g()?(x.preserveSingleSpace(),N.push(m("}"))):"{"===c?"}"===g(!0)?(v(),u(),x.singleSpace(),N.push("{}"),x.newLine(),l&&0===k&&x.newLine(!0)):(k++,_+=T,x["{"](c),O?(O=!1,R=k>A):R=k>=A):"}"===c?(k--,_=_.slice(0,-r),x["}"](c),R=!1,F=!1,A&&A--,l&&0===k&&x.newLine(!0)):":"===c?(v(),!R&&!O||y("&")||w()?":"===g()?(u(),N.push("::")):N.push(":"):(F=!0,N.push(":"),x.singleSpace())):'"'===c||"'"===c?(x.preserveSingleSpace(),N.push(m(c))):";"===c?(F=!1,N.push(c),x.newLine()):"("===c?y("url")?(N.push(c),v(),u()&&(")"!==c&&'"'!==c&&"'"!==c?N.push(m(")")):f--)):(h++,x.preserveSingleSpace(),N.push(c),v()):")"===c?(N.push(c),h--):","===c?(N.push(c),v(),a&&!F&&h<1?x.newLine():x.singleSpace()):"]"===c?N.push(c):"["===c?(x.preserveSingleSpace(),N.push(c)):"="===c?(v(),c="=",N.push(c)):(x.preserveSingleSpace(),N.push(c))}var K="";return _&&(K+=_),K+=N.join("").replace(/[\r\n\t ]+$/,""),s&&(K+="\n"),"\n"!=d&&(K=K.replace(/[\n]/g,d)),K}function a(e,t){for(var n=0;n<t.length;n+=1)if(t[n]===e)return!0;return!1}function s(e){return e.replace(/^\s+|\s+$/g,"")}function l(e,t){return new m(e,t).beautify()}e=r,t="ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠࢢ-ࢬऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々-〇〡-〩〱-〵〸-〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꪀ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",n=new RegExp("["+t+"]"),o=new RegExp("["+t+"̀-ͯ҃-֑҇-ׇֽֿׁׂׅׄؐ-ؚؠ-ىٲ-ۓۧ-ۨۻ-ۼܰ-݊ࠀ-ࠔࠛ-ࠣࠥ-ࠧࠩ-࠭ࡀ-ࡗࣤ-ࣾऀ-ःऺ-़ा-ॏ॑-ॗॢ-ॣ०-९ঁ-ঃ়া-ৄেৈৗয়-ৠਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑ੦-ੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢ-ૣ૦-૯ଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୟ-ୠ୦-୯ஂா-ூெ-ைொ-்ௗ௦-௯ఁ-ఃె-ైొ-్ౕౖౢ-ౣ౦-౯ಂಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢ-ೣ೦-೯ംഃെ-ൈൗൢ-ൣ൦-൯ංඃ්ා-ුූෘ-ෟෲෳิ-ฺเ-ๅ๐-๙ິ-ູ່-ໍ໐-໙༘༙༠-༩༹༵༷ཁ-ཇཱ-྄྆-྇ྍ-ྗྙ-ྼ࿆က-ဩ၀-၉ၧ-ၭၱ-ၴႂ-ႍႏ-ႝ፝-፟ᜎ-ᜐᜠ-ᜰᝀ-ᝐᝲᝳក-ឲ៝០-៩᠋-᠍᠐-᠙ᤠ-ᤫᤰ-᤻ᥑ-ᥭᦰ-ᧀᧈ-ᧉ᧐-᧙ᨀ-ᨕᨠ-ᩓ᩠-᩿᩼-᪉᪐-᪙ᭆ-ᭋ᭐-᭙᭫-᭳᮰-᮹᯦-᯳ᰀ-ᰢ᱀-᱉ᱛ-ᱽ᳐-᳒ᴀ-ᶾḁ-ἕ‌‍‿⁀⁔⃐-⃥⃜⃡-⃰ⶁ-ⶖⷠ-ⷿ〡-〨゙゚Ꙁ-ꙭꙴ-꙽ꚟ꛰-꛱ꟸ-ꠀ꠆ꠋꠣ-ꠧꢀ-ꢁꢴ-꣄꣐-꣙ꣳ-ꣷ꤀-꤉ꤦ-꤭ꤰ-ꥅꦀ-ꦃ꦳-꧀ꨀ-ꨧꩀ-ꩁꩌ-ꩍ꩐-꩙ꩻꫠ-ꫩꫲ-ꫳꯀ-ꯡ꯬꯭꯰-꯹ﬠ-ﬨ︀-️︠-︦︳︴﹍-﹏０-９＿]"),e.newline=/[\n\r\u2028\u2029]/,e.lineBreak=new RegExp("\r\n|"+e.newline.source),e.allLineBreaks=new RegExp(e.lineBreak.source,"g"),e.isIdentifierStart=function(e){return e<65?36===e||64===e:e<91||(e<97?95===e:e<123||e>=170&&n.test(String.fromCharCode(e)))},e.isIdentifierChar=function(e){return e<48?36===e:e<58||!(e<65)&&(e<91||(e<97?95===e:e<123||e>=170&&o.test(String.fromCharCode(e))))};var d="BlockStatement",c="Statement",p="ObjectLiteral",f="ArrayLiteral",h="ForInitializer",u="Conditional",g="Expression";function m(e,t){var n,o,i,l,m,v,E,w,S,C,_,T,k,A=[],x="";function N(e,t){var o=0;return e&&(o=e.indentation_level,!n.just_added_newline()&&e.line_indent_level>o&&(o=e.line_indent_level)),{mode:t,parent:e,last_text:e?e.last_text:"",last_word:e?e.last_word:"",declaration_statement:!1,declaration_assignment:!1,multiline_frame:!1,if_block:!1,else_block:!1,do_block:!1,do_while:!1,in_case_statement:!1,in_case:!1,case_body:!1,indentation_level:o,line_indent_level:e?e.line_indent_level:o,start_line_index:n.get_line_number(),ternary_depth:0}}for(T={TK_START_EXPR:function(){H();var e=g;if("["===l.text){if("TK_WORD"===m||")"===w.last_text)return"TK_RESERVED"===m&&a(w.last_text,i.line_starters)&&(n.space_before_token=!0),I(e),L(),M(),void(k.space_in_paren&&(n.space_before_token=!0));e=f,B(w.mode)&&("["!==w.last_text&&(","!==w.last_text||"]"!==v&&"}"!==v)||k.keep_array_indentation||D())}else"TK_RESERVED"===m&&"for"===w.last_text?e=h:"TK_RESERVED"===m&&a(w.last_text,["if","while"])&&(e=u);";"===w.last_text||"TK_START_BLOCK"===m?D():"TK_END_EXPR"===m||"TK_START_EXPR"===m||"TK_END_BLOCK"===m||"."===w.last_text?O(l.wanted_newline):"TK_RESERVED"===m&&"("===l.text||"TK_WORD"===m||"TK_OPERATOR"===m?"TK_RESERVED"===m&&("function"===w.last_word||"typeof"===w.last_word)||"*"===w.last_text&&"function"===v?k.space_after_anon_function&&(n.space_before_token=!0):"TK_RESERVED"!==m||!a(w.last_text,i.line_starters)&&"catch"!==w.last_text||k.space_before_conditional&&(n.space_before_token=!0):n.space_before_token=!0,"("===l.text&&"TK_RESERVED"===m&&"await"===w.last_word&&(n.space_before_token=!0),"("===l.text&&("TK_EQUALS"!==m&&"TK_OPERATOR"!==m||U()||O()),I(e),L(),k.space_in_paren&&(n.space_before_token=!0),M()},TK_END_EXPR:function(){for(;w.mode===c;)K();w.multiline_frame&&O("]"===l.text&&B(w.mode)&&!k.keep_array_indentation),k.space_in_paren&&("TK_START_EXPR"!==m||k.space_in_empty_paren?n.space_before_token=!0:(n.trim(),n.space_before_token=!1)),"]"===l.text&&k.keep_array_indentation?(L(),K()):(K(),L()),n.remove_redundant_indentation(S),w.do_while&&S.mode===u&&(S.mode=g,w.do_block=!1,w.do_while=!1)},TK_START_BLOCK:function(){var e=W(1),t=W(2);t&&(":"===t.text&&a(e.type,["TK_STRING","TK_WORD","TK_RESERVED"])||a(e.text,["get","set"])&&a(t.type,["TK_WORD","TK_RESERVED"]))?a(v,["class","interface"])?I(d):I(p):I(d);var o=!e.comments_before.length&&"}"===e.text&&"function"===w.last_word&&"TK_END_EXPR"===m;"expand"===k.brace_style||"none"===k.brace_style&&l.wanted_newline?"TK_OPERATOR"!==m&&(o||"TK_EQUALS"===m||"TK_RESERVED"===m&&z(w.last_text)&&"else"!==w.last_text)?n.space_before_token=!0:D(!1,!0):"TK_OPERATOR"!==m&&"TK_START_EXPR"!==m?"TK_START_BLOCK"===m?D():n.space_before_token=!0:B(S.mode)&&","===w.last_text&&("}"===v?n.space_before_token=!0:D()),L(),M()},TK_END_BLOCK:function(){for(;w.mode===c;)K();var e="TK_START_BLOCK"===m;"expand"===k.brace_style?e||D():e||(B(w.mode)&&k.keep_array_indentation?(k.keep_array_indentation=!1,D(),k.keep_array_indentation=!0):D()),K(),L()},TK_WORD:V,TK_RESERVED:V,TK_SEMICOLON:function(){for(H()&&(n.space_before_token=!1);w.mode===c&&!w.if_block&&!w.do_block;)K();L()},TK_STRING:function(){H()||"TK_RESERVED"===m||"TK_WORD"===m?n.space_before_token=!0:"TK_COMMA"===m||"TK_START_EXPR"===m||"TK_EQUALS"===m||"TK_OPERATOR"===m?U()||O():D(),L()},TK_EQUALS:function(){H(),w.declaration_statement&&(w.declaration_assignment=!0),n.space_before_token=!0,L(),n.space_before_token=!0},TK_OPERATOR:function(){if(H(),"TK_RESERVED"===m&&z(w.last_text))return n.space_before_token=!0,void L();if("*"!==l.text||"TK_DOT"!==m){if(":"===l.text&&w.in_case)return w.case_body=!0,M(),L(),D(),void(w.in_case=!1);if("::"!==l.text){"TK_OPERATOR"===m&&O();var e=!0,t=!0;a(l.text,["--","++","!","~"])||a(l.text,["-","+"])&&(a(m,["TK_START_BLOCK","TK_START_EXPR","TK_EQUALS","TK_OPERATOR"])||a(w.last_text,i.line_starters)||","===w.last_text)?(e=!1,t=!1,!l.wanted_newline||"--"!==l.text&&"++"!==l.text||D(!1,!0),";"===w.last_text&&P(w.mode)&&(e=!0),"TK_RESERVED"===m?e=!0:"TK_END_EXPR"===m?e=!("]"===w.last_text&&("--"===l.text||"++"===l.text)):"TK_OPERATOR"===m&&(e=a(l.text,["--","-","++","+"])&&a(w.last_text,["--","-","++","+"]),a(l.text,["+","-"])&&a(w.last_text,["--","++"])&&(t=!0)),w.mode!==d&&w.mode!==c||"{"!==w.last_text&&";"!==w.last_text||D()):":"===l.text?0===w.ternary_depth?e=!1:w.ternary_depth-=1:"?"===l.text?w.ternary_depth+=1:"*"===l.text&&"TK_RESERVED"===m&&"function"===w.last_text&&(e=!1,t=!1),n.space_before_token=n.space_before_token||e,L(),n.space_before_token=t}else L()}else L()},TK_COMMA:function(){if(w.declaration_statement)return P(w.parent.mode)&&(w.declaration_assignment=!1),L(),void(w.declaration_assignment?(w.declaration_assignment=!1,D(!1,!0)):(n.space_before_token=!0,k.comma_first&&O()));L(),w.mode===p||w.mode===c&&w.parent.mode===p?(w.mode===c&&K(),D()):(n.space_before_token=!0,k.comma_first&&O())},TK_BLOCK_COMMENT:function(){if(n.raw)return n.add_raw_token(l),void(l.directives&&"end"===l.directives.preserve&&(k.test_output_raw||(n.raw=!1)));if(l.directives)return D(!1,!0),L(),"start"===l.directives.preserve&&(n.raw=!0),void D(!1,!0);if(!r.newline.test(l.text)&&!l.wanted_newline)return n.space_before_token=!0,L(),void(n.space_before_token=!0);var e,t=function(e){e=e.replace(/\x0d/g,"");for(var t=[],n=e.indexOf("\n");-1!==n;)t.push(e.substring(0,n)),n=(e=e.substring(n+1)).indexOf("\n");return e.length&&t.push(e),t}(l.text),o=!1,i=!1,a=l.whitespace_before,d=a.length;for(D(!1,!0),t.length>1&&(function(e,t){for(var n=0;n<e.length;n++)if(s(e[n]).charAt(0)!==t)return!1;return!0}(t.slice(1),"*")?o=!0:function(e,t){for(var n,o=0,r=e.length;o<r;o++)if((n=e[o])&&0!==n.indexOf(t))return!1;return!0}(t.slice(1),a)&&(i=!0)),L(t[0]),e=1;e<t.length;e++)D(!1,!0),o?L(" "+t[e].replace(/^\s+/g,"")):i&&t[e].length>d?L(t[e].substring(d)):n.add_token(t[e]);D(!1,!0)},TK_COMMENT:function(){l.wanted_newline?D(!1,!0):n.trim(!0),n.space_before_token=!0,L(),D(!1,!0)},TK_DOT:function(){H(),"TK_RESERVED"===m&&z(w.last_text)?n.space_before_token=!0:O(")"===w.last_text&&k.break_chained_methods),L()},TK_UNKNOWN:function(){L(),"\n"===l.text[l.text.length-1]&&D()},TK_EOF:function(){for(;w.mode===c;)K()}},k={},void 0!==(t=t||{}).braces_on_own_line&&(k.brace_style=t.braces_on_own_line?"expand":"collapse"),k.brace_style=t.brace_style?t.brace_style:k.brace_style?k.brace_style:"collapse","expand-strict"===k.brace_style&&(k.brace_style="expand"),k.indent_size=t.indent_size?parseInt(t.indent_size,10):4,k.indent_char=t.indent_char?t.indent_char:" ",k.eol=t.eol?t.eol:"\n",k.preserve_newlines=void 0===t.preserve_newlines||t.preserve_newlines,k.break_chained_methods=void 0!==t.break_chained_methods&&t.break_chained_methods,k.max_preserve_newlines=void 0===t.max_preserve_newlines?0:parseInt(t.max_preserve_newlines,10),k.space_in_paren=void 0!==t.space_in_paren&&t.space_in_paren,k.space_in_empty_paren=void 0!==t.space_in_empty_paren&&t.space_in_empty_paren,k.jslint_happy=void 0!==t.jslint_happy&&t.jslint_happy,k.space_after_anon_function=void 0!==t.space_after_anon_function&&t.space_after_anon_function,k.keep_array_indentation=void 0!==t.keep_array_indentation&&t.keep_array_indentation,k.space_before_conditional=void 0===t.space_before_conditional||t.space_before_conditional,k.unescape_strings=void 0!==t.unescape_strings&&t.unescape_strings,k.wrap_line_length=void 0===t.wrap_line_length?0:parseInt(t.wrap_line_length,10),k.e4x=void 0!==t.e4x&&t.e4x,k.end_with_newline=void 0!==t.end_with_newline&&t.end_with_newline,k.comma_first=void 0!==t.comma_first&&t.comma_first,k.test_output_raw=void 0!==t.test_output_raw&&t.test_output_raw,k.jslint_happy&&(k.space_after_anon_function=!0),t.indent_with_tabs&&(k.indent_char="\t",k.indent_size=1),k.eol=k.eol.replace(/\\r/,"\r").replace(/\\n/,"\n"),E="";k.indent_size>0;)E+=k.indent_char,k.indent_size-=1;var R=0;if(e&&e.length){for(;" "===e.charAt(R)||"\t"===e.charAt(R);)x+=e.charAt(R),R+=1;e=e.substring(R)}function F(e){var t=e.newlines;if(k.keep_array_indentation&&B(w.mode))for(n=0;n<t;n+=1)D(n>0);else if(k.max_preserve_newlines&&t>k.max_preserve_newlines&&(t=k.max_preserve_newlines),k.preserve_newlines&&e.newlines>1){D();for(var n=1;n<t;n+=1)D(!0)}T[(l=e).type]()}function O(e){e=void 0!==e&&e,n.just_added_newline()||(k.preserve_newlines&&l.wanted_newline||e||k.wrap_line_length&&n.current_line.get_character_count()+l.text.length+(n.space_before_token?1:0)>=k.wrap_line_length)&&D(!1,!0)}function D(e,t){if(!t&&";"!==w.last_text&&","!==w.last_text&&"="!==w.last_text&&"TK_OPERATOR"!==m)for(;w.mode===c&&!w.if_block&&!w.do_block;)K();n.add_new_line(e)&&(w.multiline_frame=!0)}function $(){n.just_added_newline()&&(k.keep_array_indentation&&B(w.mode)&&l.wanted_newline?(n.current_line.push(l.whitespace_before),n.space_before_token=!1):n.set_indent(w.indentation_level)&&(w.line_indent_level=w.indentation_level))}function L(e){n.raw?n.add_raw_token(l):(k.comma_first&&"TK_COMMA"===m&&n.just_added_newline()&&","===n.previous_line.last()&&(n.previous_line.pop(),$(),n.add_token(","),n.space_before_token=!0),e=e||l.text,$(),n.add_token(e))}function M(){w.indentation_level+=1}function I(e){w?(C.push(w),S=w):S=N(null,e),w=N(S,e)}function B(e){return e===f}function P(e){return a(e,[g,h,u])}function K(){C.length>0&&(S=w,w=C.pop(),S.mode===c&&n.remove_redundant_indentation(S))}function U(){return w.parent.mode===p&&w.mode===c&&(":"===w.last_text&&0===w.ternary_depth||"TK_RESERVED"===m&&a(w.last_text,["get","set"]))}function H(){return!!("TK_RESERVED"===m&&a(w.last_text,["var","let","const"])&&"TK_WORD"===l.type||"TK_RESERVED"===m&&"do"===w.last_text||"TK_RESERVED"===m&&"return"===w.last_text&&!l.wanted_newline||"TK_RESERVED"===m&&"else"===w.last_text&&("TK_RESERVED"!==l.type||"if"!==l.text)||"TK_END_EXPR"===m&&(S.mode===h||S.mode===u)||"TK_WORD"===m&&w.mode===d&&!w.in_case&&"--"!==l.text&&"++"!==l.text&&"function"!==v&&"TK_WORD"!==l.type&&"TK_RESERVED"!==l.type||w.mode===p&&(":"===w.last_text&&0===w.ternary_depth||"TK_RESERVED"===m&&a(w.last_text,["get","set"])))&&(I(c),M(),"TK_RESERVED"===m&&a(w.last_text,["var","let","const"])&&"TK_WORD"===l.type&&(w.declaration_statement=!0),U()||O("TK_RESERVED"===l.type&&a(l.text,["do","for","if","while"])),!0)}function z(e){return a(e,["case","return","do","if","throw","else"])}function W(e){var t=o+(e||0);return t<0||t>=A.length?null:A[t]}function V(){if("TK_RESERVED"===l.type&&w.mode!==p&&a(l.text,["set","get"])&&(l.type="TK_WORD"),"TK_RESERVED"===l.type&&w.mode===p&&":"==W(1).text&&(l.type="TK_WORD"),H()||!l.wanted_newline||P(w.mode)||"TK_OPERATOR"===m&&"--"!==w.last_text&&"++"!==w.last_text||"TK_EQUALS"===m||!k.preserve_newlines&&"TK_RESERVED"===m&&a(w.last_text,["var","let","const","set","get"])||D(),w.do_block&&!w.do_while){if("TK_RESERVED"===l.type&&"while"===l.text)return n.space_before_token=!0,L(),n.space_before_token=!0,void(w.do_while=!0);D(),w.do_block=!1}if(w.if_block)if(w.else_block||"TK_RESERVED"!==l.type||"else"!==l.text){for(;w.mode===c;)K();w.if_block=!1,w.else_block=!1}else w.else_block=!0;return"TK_RESERVED"===l.type&&("case"===l.text||"default"===l.text&&w.in_case_statement)?(D(),(w.case_body||k.jslint_happy)&&(w.indentation_level>0&&(!w.parent||w.indentation_level>w.parent.indentation_level)&&(w.indentation_level-=1),w.case_body=!1),L(),w.in_case=!0,void(w.in_case_statement=!0)):("TK_RESERVED"===l.type&&"function"===l.text&&((a(w.last_text,["}",";"])||n.just_added_newline()&&!a(w.last_text,["[","{",":","=",","]))&&(n.just_added_blankline()||l.comments_before.length||(D(),D(!0))),"TK_RESERVED"===m||"TK_WORD"===m?"TK_RESERVED"===m&&a(w.last_text,["get","set","new","return","export","async"])||"TK_RESERVED"===m&&"default"===w.last_text&&"export"===v?n.space_before_token=!0:D():"TK_OPERATOR"===m||"="===w.last_text?n.space_before_token=!0:(w.multiline_frame||!P(w.mode)&&!B(w.mode))&&D()),"TK_COMMA"!==m&&"TK_START_EXPR"!==m&&"TK_EQUALS"!==m&&"TK_OPERATOR"!==m||U()||O(),"TK_RESERVED"===l.type&&a(l.text,["function","get","set"])?(L(),void(w.last_word=l.text)):(_="NONE","TK_END_BLOCK"===m?"TK_RESERVED"===l.type&&a(l.text,["else","catch","finally"])?"expand"===k.brace_style||"end-expand"===k.brace_style||"none"===k.brace_style&&l.wanted_newline?_="NEWLINE":(_="SPACE",n.space_before_token=!0):_="NEWLINE":"TK_SEMICOLON"===m&&w.mode===d?_="NEWLINE":"TK_SEMICOLON"===m&&P(w.mode)?_="SPACE":"TK_STRING"===m?_="NEWLINE":"TK_RESERVED"===m||"TK_WORD"===m||"*"===w.last_text&&"function"===v?_="SPACE":"TK_START_BLOCK"===m?_="NEWLINE":"TK_END_EXPR"===m&&(n.space_before_token=!0,_="NEWLINE"),"TK_RESERVED"===l.type&&a(l.text,i.line_starters)&&")"!==w.last_text&&(_="else"===w.last_text||"export"===w.last_text?"SPACE":"NEWLINE"),"TK_RESERVED"===l.type&&a(l.text,["else","catch","finally"])?"TK_END_BLOCK"!==m||"expand"===k.brace_style||"end-expand"===k.brace_style||"none"===k.brace_style&&l.wanted_newline?D():(n.trim(!0),"}"!==n.current_line.last()&&D(),n.space_before_token=!0):"NEWLINE"===_?"TK_RESERVED"===m&&z(w.last_text)?n.space_before_token=!0:"TK_END_EXPR"!==m?"TK_START_EXPR"===m&&"TK_RESERVED"===l.type&&a(l.text,["var","let","const"])||":"===w.last_text||("TK_RESERVED"===l.type&&"if"===l.text&&"else"===w.last_text?n.space_before_token=!0:D()):"TK_RESERVED"===l.type&&a(l.text,i.line_starters)&&")"!==w.last_text&&D():w.multiline_frame&&B(w.mode)&&","===w.last_text&&"}"===v?D():"SPACE"===_&&(n.space_before_token=!0),L(),w.last_word=l.text,"TK_RESERVED"===l.type&&"do"===l.text&&(w.do_block=!0),void("TK_RESERVED"===l.type&&"if"===l.text&&(w.if_block=!0))))}m="TK_START_BLOCK",v="",(n=new b(E,x)).raw=k.test_output_raw,C=[],I(d),this.beautify=function(){var t,r;for(i=new y(e,k,E),A=i.tokenize(),o=0;t=W();){for(var a=0;a<t.comments_before.length;a++)F(t.comments_before[a]);F(t),v=w.last_text,m=t.type,w.last_text=t.text,o+=1}return r=n.get_code(),k.end_with_newline&&(r+="\n"),"\n"!=k.eol&&(r=r.replace(/[\n]/g,k.eol)),r}}function v(e){var t=0,n=-1,o=[],r=!0;this.set_indent=function(o){t=e.baseIndentLength+o*e.indent_length,n=o},this.get_character_count=function(){return t},this.is_empty=function(){return r},this.last=function(){return this._empty?null:o[o.length-1]},this.push=function(e){o.push(e),t+=e.length,r=!1},this.pop=function(){var e=null;return r||(e=o.pop(),t-=e.length,r=0===o.length),e},this.remove_indent=function(){n>0&&(n-=1,t-=e.indent_length)},this.trim=function(){for(;" "===this.last();)o.pop(),t-=1;r=0===o.length},this.toString=function(){var t="";return this._empty||(n>=0&&(t=e.indent_cache[n]),t+=o.join("")),t}}function b(e,t){t=t||"",this.indent_cache=[t],this.baseIndentLength=t.length,this.indent_length=e.length,this.raw=!1;var n=[];this.baseIndentString=t,this.indent_string=e,this.previous_line=null,this.current_line=null,this.space_before_token=!1,this.add_outputline=function(){this.previous_line=this.current_line,this.current_line=new v(this),n.push(this.current_line)},this.add_outputline(),this.get_line_number=function(){return n.length},this.add_new_line=function(e){return!(1===this.get_line_number()&&this.just_added_newline()||!e&&this.just_added_newline()||(this.raw||this.add_outputline(),0))},this.get_code=function(){return n.join("\n").replace(/[\r\n\t ]+$/,"")},this.set_indent=function(e){if(n.length>1){for(;e>=this.indent_cache.length;)this.indent_cache.push(this.indent_cache[this.indent_cache.length-1]+this.indent_string);return this.current_line.set_indent(e),!0}return this.current_line.set_indent(0),!1},this.add_raw_token=function(e){for(var t=0;t<e.newlines;t++)this.add_outputline();this.current_line.push(e.whitespace_before),this.current_line.push(e.text),this.space_before_token=!1},this.add_token=function(e){this.add_space_before_token(),this.current_line.push(e)},this.add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&this.current_line.push(" "),this.space_before_token=!1},this.remove_redundant_indentation=function(e){if(!e.multiline_frame&&e.mode!==h&&e.mode!==u)for(var t=e.start_line_index,o=n.length;t<o;)n[t].remove_indent(),t++},this.trim=function(o){for(o=void 0!==o&&o,this.current_line.trim(e,t);o&&n.length>1&&this.current_line.is_empty();)n.pop(),this.current_line=n[n.length-1],this.current_line.trim();this.previous_line=n.length>1?n[n.length-2]:null},this.just_added_newline=function(){return this.current_line.is_empty()},this.just_added_blankline=function(){return!!this.just_added_newline()&&(1===n.length||n[n.length-2].is_empty())}}var E=function(e,t,n,o,r,i){this.type=e,this.text=t,this.comments_before=[],this.newlines=n||0,this.wanted_newline=n>0,this.whitespace_before=o||"",this.parent=null,this.directives=null};function y(e,t,n){var o="\n\r\t ".split(""),i=/[0-9]/,l=/[01234567]/,d=/[0123456789abcdefABCDEF]/,c="+ - * / % & ++ -- = += -= *= /= %= == === != !== > < >= <= >> << >>> >>>= >>= <<= && &= | || ! ~ , : ? ^ ^= |= :: =>".split(" ");this.line_starters="continue,try,throw,return,var,let,const,if,switch,case,default,for,while,break,function,import,export".split(",");var p,f,h,u,g,m,v=this.line_starters.concat(["do","in","else","get","set","new","catch","finally","typeof","yield","async","await"]),b=/([\s\S]*?)((?:\*\/)|$)/g,y=/([^\n\r\u2028\u2029]*)/g,w=/\/\* beautify( \w+[:]\w+)+ \*\//g,S=/ (\w+)[:](\w+)/g,C=/([\s\S]*?)((?:\/\*\sbeautify\signore:end\s\*\/)|$)/g,_=/((<\?php|<\?=)[\s\S]*?\?>)|(<%[\s\S]*?%>)/g;function T(){var n,T,k=[];if(p=0,f="",g>=m)return["","TK_EOF"];T=u.length?u[u.length-1]:new E("TK_START_BLOCK","{");var A=e.charAt(g);for(g+=1;a(A,o);){if(r.newline.test(A)?"\n"===A&&"\r"===e.charAt(g-2)||(p+=1,k=[]):k.push(A),g>=m)return["","TK_EOF"];A=e.charAt(g),g+=1}if(k.length&&(f=k.join("")),i.test(A)){var x=!0,N=!0,R=i;for("0"===A&&g<m&&/[Xxo]/.test(e.charAt(g))?(x=!1,N=!1,A+=e.charAt(g),g+=1,R=/[o]/.test(e.charAt(g))?l:d):(A="",g-=1);g<m&&R.test(e.charAt(g));)A+=e.charAt(g),g+=1,x&&g<m&&"."===e.charAt(g)&&(A+=e.charAt(g),g+=1,x=!1),N&&g<m&&/[Ee]/.test(e.charAt(g))&&(A+=e.charAt(g),(g+=1)<m&&/[+-]/.test(e.charAt(g))&&(A+=e.charAt(g),g+=1),N=!1,x=!1);return[A,"TK_WORD"]}if(r.isIdentifierStart(e.charCodeAt(g-1))){if(g<m)for(;r.isIdentifierChar(e.charCodeAt(g))&&(A+=e.charAt(g),(g+=1)!==m););return"TK_DOT"===T.type||"TK_RESERVED"===T.type&&a(T.text,["set","get"])||!a(A,v)?[A,"TK_WORD"]:"in"===A?[A,"TK_OPERATOR"]:[A,"TK_RESERVED"]}if("("===A||"["===A)return[A,"TK_START_EXPR"];if(")"===A||"]"===A)return[A,"TK_END_EXPR"];if("{"===A)return[A,"TK_START_BLOCK"];if("}"===A)return[A,"TK_END_BLOCK"];if(";"===A)return[A,"TK_SEMICOLON"];if("/"===A){var F="";if("*"===e.charAt(g)){var O;g+=1,b.lastIndex=g,F="/*"+(O=b.exec(e))[0],g+=O[0].length;var D=function(e){if(!e.match(w))return null;var t={};S.lastIndex=0;for(var n=S.exec(e);n;)t[n[1]]=n[2],n=S.exec(e);return t}(F);return D&&"start"===D.ignore&&(C.lastIndex=g,F+=(O=C.exec(e))[0],g+=O[0].length),[F=F.replace(r.lineBreak,"\n"),"TK_BLOCK_COMMENT",D]}if("/"===e.charAt(g))return g+=1,y.lastIndex=g,F="//"+(O=y.exec(e))[0],g+=O[0].length,[F,"TK_COMMENT"]}if("`"===A||"'"===A||'"'===A||("/"===A||t.e4x&&"<"===A&&e.slice(g-1).match(/^<([-a-zA-Z:0-9_.]+|{[^{}]*}|!\[CDATA\[[\s\S]*?\]\])(\s+[-a-zA-Z:0-9_.]+\s*=\s*('[^']*'|"[^"]*"|{.*?}))*\s*(\/?)\s*>/))&&("TK_RESERVED"===T.type&&a(T.text,["return","case","throw","else","do","typeof","yield"])||"TK_END_EXPR"===T.type&&")"===T.text&&T.parent&&"TK_RESERVED"===T.parent.type&&a(T.parent.text,["if","while","for"])||a(T.type,["TK_COMMENT","TK_START_EXPR","TK_START_BLOCK","TK_END_BLOCK","TK_OPERATOR","TK_EQUALS","TK_EOF","TK_SEMICOLON","TK_COMMA"]))){var $=A,L=!1,M=!1;if(n=A,"/"===$)for(var I=!1;g<m&&(L||I||e.charAt(g)!==$)&&!r.newline.test(e.charAt(g));)n+=e.charAt(g),L?L=!1:(L="\\"===e.charAt(g),"["===e.charAt(g)?I=!0:"]"===e.charAt(g)&&(I=!1)),g+=1;else if(t.e4x&&"<"===$){var B=/<(\/?)([-a-zA-Z:0-9_.]+|{[^{}]*}|!\[CDATA\[[\s\S]*?\]\])(\s+[-a-zA-Z:0-9_.]+\s*=\s*('[^']*'|"[^"]*"|{.*?}))*\s*(\/?)\s*>/g,P=e.slice(g-1),K=B.exec(P);if(K&&0===K.index){for(var U=K[2],H=0;K;){var z=!!K[1],W=K[2],V=!!K[K.length-1]||"![CDATA["===W.slice(0,8);if(W!==U||V||(z?--H:++H),H<=0)break;K=B.exec(P)}var Y=K?K.index+K[0].length:P.length;return P=P.slice(0,Y),g+=Y-1,[P=P.replace(r.lineBreak,"\n"),"TK_STRING"]}}else for(;g<m&&(L||e.charAt(g)!==$&&("`"===$||!r.newline.test(e.charAt(g))));)(L||"`"===$)&&r.newline.test(e.charAt(g))?("\r"===e.charAt(g)&&"\n"===e.charAt(g+1)&&(g+=1),n+="\n"):n+=e.charAt(g),L?("x"!==e.charAt(g)&&"u"!==e.charAt(g)||(M=!0),L=!1):L="\\"===e.charAt(g),g+=1;if(M&&t.unescape_strings&&(n=function(e){for(var t,n=!1,o="",r=0,i="",a=0;n||r<e.length;)if(t=e.charAt(r),r++,n){if(n=!1,"x"===t)i=e.substr(r,2),r+=2;else{if("u"!==t){o+="\\"+t;continue}i=e.substr(r,4),r+=4}if(!i.match(/^[0123456789abcdefABCDEF]+$/))return e;if((a=parseInt(i,16))>=0&&a<32){o+="x"===t?"\\x"+i:"\\u"+i;continue}if(34===a||39===a||92===a)o+="\\"+String.fromCharCode(a);else{if("x"===t&&a>126&&a<=255)return e;o+=String.fromCharCode(a)}}else"\\"===t?n=!0:o+=t;return o}(n)),g<m&&e.charAt(g)===$&&(n+=$,g+=1,"/"===$))for(;g<m&&r.isIdentifierStart(e.charCodeAt(g));)n+=e.charAt(g),g+=1;return[n,"TK_STRING"]}if("#"===A){if(0===u.length&&"!"===e.charAt(g)){for(n=A;g<m&&"\n"!==A;)n+=A=e.charAt(g),g+=1;return[s(n)+"\n","TK_UNKNOWN"]}var q="#";if(g<m&&i.test(e.charAt(g))){do{q+=A=e.charAt(g),g+=1}while(g<m&&"#"!==A&&"="!==A);return"#"===A||("["===e.charAt(g)&&"]"===e.charAt(g+1)?(q+="[]",g+=2):"{"===e.charAt(g)&&"}"===e.charAt(g+1)&&(q+="{}",g+=2)),[q,"TK_WORD"]}}if("<"===A&&("?"===e.charAt(g)||"%"===e.charAt(g))){_.lastIndex=g-1;var X=_.exec(e);if(X)return A=X[0],g+=A.length-1,[A=A.replace(r.lineBreak,"\n"),"TK_STRING"]}if("<"===A&&"\x3c!--"===e.substring(g-1,g+3)){for(g+=3,A="\x3c!--";!r.newline.test(e.charAt(g))&&g<m;)A+=e.charAt(g),g++;return h=!0,[A,"TK_COMMENT"]}if("-"===A&&h&&"--\x3e"===e.substring(g-1,g+2))return h=!1,g+=2,["--\x3e","TK_COMMENT"];if("."===A)return[A,"TK_DOT"];if(a(A,c)){for(;g<m&&a(A+e.charAt(g),c)&&(A+=e.charAt(g),!((g+=1)>=m)););return","===A?[A,"TK_COMMA"]:"="===A?[A,"TK_EQUALS"]:[A,"TK_OPERATOR"]}return[A,"TK_UNKNOWN"]}this.tokenize=function(){var t,n,o;m=e.length,g=0,h=!1,u=[];for(var r=null,i=[],a=[];!n||"TK_EOF"!==n.type;){for(o=T(),t=new E(o[1],o[0],p,f);"TK_COMMENT"===t.type||"TK_BLOCK_COMMENT"===t.type||"TK_UNKNOWN"===t.type;)"TK_BLOCK_COMMENT"===t.type&&(t.directives=o[2]),a.push(t),o=T(),t=new E(o[1],o[0],p,f);a.length&&(t.comments_before=a,a=[]),"TK_START_BLOCK"===t.type||"TK_START_EXPR"===t.type?(t.parent=n,i.push(r),r=t):("TK_END_BLOCK"===t.type||"TK_END_EXPR"===t.type)&&r&&("]"===t.text&&"["===r.text||")"===t.text&&"("===r.text||"}"===t.text&&"{"===r.text)&&(t.parent=r.parent,r=i.pop()),u.push(t),n=t}return u}}return{run:function(e,t){function n(e){return e.replace(/\s+$/g,"")}var o,r,a,s,d,c,p,f,h,u,g,m,v,b;for(void 0!==(t=t||{}).wrap_line_length&&0!==parseInt(t.wrap_line_length,10)||void 0===t.max_char||0===parseInt(t.max_char,10)||(t.wrap_line_length=t.max_char),r=void 0!==t.indent_inner_html&&t.indent_inner_html,a=void 0===t.indent_size?4:parseInt(t.indent_size,10),s=void 0===t.indent_char?" ":t.indent_char,c=void 0===t.brace_style?"collapse":t.brace_style,d=0===parseInt(t.wrap_line_length,10)?32786:parseInt(t.wrap_line_length||250,10),p=t.unformatted||["a","span","img","bdo","em","strong","dfn","code","samp","kbd","var","cite","abbr","acronym","q","sub","sup","tt","i","b","big","small","u","s","strike","font","ins","del","address","pre"],f=void 0===t.preserve_newlines||t.preserve_newlines,h=f?isNaN(parseInt(t.max_preserve_newlines,10))?32786:parseInt(t.max_preserve_newlines,10):0,u=void 0!==t.indent_handlebars&&t.indent_handlebars,g=void 0===t.wrap_attributes?"auto":t.wrap_attributes,m=void 0===t.wrap_attributes_indent_size?a:parseInt(t.wrap_attributes_indent_size,10)||a,v=void 0!==t.end_with_newline&&t.end_with_newline,b=Array.isArray(t.extra_liners)?t.extra_liners.concat():"string"==typeof t.extra_liners?t.extra_liners.split(","):"head,body,/html".split(","),t.indent_with_tabs&&(s="\t",a=1),o=new function(){return this.pos=0,this.token="",this.current_mode="CONTENT",this.tags={parent:"parent1",parentcount:1,parent1:""},this.tag_type="",this.token_text=this.last_token=this.last_text=this.token_type="",this.newlines=0,this.indent_content=r,this.Utils={whitespace:"\n\r\t ".split(""),single_token:"br,input,link,meta,source,!doctype,basefont,base,area,hr,wbr,param,img,isindex,embed".split(","),extra_liners:b,in_array:function(e,t){for(var n=0;n<t.length;n++)if(e==t[n])return!0;return!1}},this.is_whitespace=function(e){for(;0<e.length;e++)if(!this.Utils.in_array(e.charAt(0),this.Utils.whitespace))return!1;return!0},this.traverse_whitespace=function(){var e="";if(e=this.input.charAt(this.pos),this.Utils.in_array(e,this.Utils.whitespace)){for(this.newlines=0;this.Utils.in_array(e,this.Utils.whitespace);)f&&"\n"==e&&this.newlines<=h&&(this.newlines+=1),this.pos++,e=this.input.charAt(this.pos);return!0}return!1},this.space_or_wrap=function(e){this.line_char_count>=this.wrap_line_length?(this.print_newline(!1,e),this.print_indentation(e)):(this.line_char_count++,e.push(" "))},this.get_content=function(){for(var e="",t=[];"<"!=this.input.charAt(this.pos);){if(this.pos>=this.input.length)return t.length?t.join(""):["","TK_EOF"];if(this.traverse_whitespace())this.space_or_wrap(t);else{if(u){var n=this.input.substr(this.pos,3);if("{{#"==n||"{{/"==n)break;if("{{!"==n)return[this.get_tag(),"TK_TAG_HANDLEBARS_COMMENT"];if("{{"==this.input.substr(this.pos,2)&&"{{else}}"==this.get_tag(!0))break}e=this.input.charAt(this.pos),this.pos++,this.line_char_count++,t.push(e)}}return t.length?t.join(""):""},this.get_contents_to=function(e){if(this.pos==this.input.length)return["","TK_EOF"];var t="",n=new RegExp("</"+e+"\\s*>","igm");n.lastIndex=this.pos;var o=n.exec(this.input),r=o?o.index:this.input.length;return this.pos<r&&(t=this.input.substring(this.pos,r),this.pos=r),t},this.record_tag=function(e){this.tags[e+"count"]?(this.tags[e+"count"]++,this.tags[e+this.tags[e+"count"]]=this.indent_level):(this.tags[e+"count"]=1,this.tags[e+this.tags[e+"count"]]=this.indent_level),this.tags[e+this.tags[e+"count"]+"parent"]=this.tags.parent,this.tags.parent=e+this.tags[e+"count"]},this.retrieve_tag=function(e){if(this.tags[e+"count"]){for(var t=this.tags.parent;t&&e+this.tags[e+"count"]!=t;)t=this.tags[t+"parent"];t&&(this.indent_level=this.tags[e+this.tags[e+"count"]],this.tags.parent=this.tags[t+"parent"]),delete this.tags[e+this.tags[e+"count"]+"parent"],delete this.tags[e+this.tags[e+"count"]],1==this.tags[e+"count"]?delete this.tags[e+"count"]:this.tags[e+"count"]--}},this.indent_to_tag=function(e){if(this.tags[e+"count"]){for(var t=this.tags.parent;t&&e+this.tags[e+"count"]!=t;)t=this.tags[t+"parent"];t&&(this.indent_level=this.tags[e+this.tags[e+"count"]])}},this.get_tag=function(e){var t,n,o="",r=[],i="",a=!1,l=!0,d=this.pos,c=this.line_char_count;e=void 0!==e&&e;do{if(this.pos>=this.input.length)return e&&(this.pos=d,this.line_char_count=c),r.length?r.join(""):["","TK_EOF"];if(o=this.input.charAt(this.pos),this.pos++,this.Utils.in_array(o,this.Utils.whitespace))a=!0;else{if("'"!=o&&'"'!=o||(o+=this.get_unformatted(o),a=!0),"="==o&&(a=!1),r.length&&"="!=r[r.length-1]&&">"!=o&&a){if(this.space_or_wrap(r),a=!1,!l&&"force"==g&&"/"!=o){this.print_newline(!0,r),this.print_indentation(r);for(var f=0;f<m;f++)r.push(s)}for(var h=0;h<r.length;h++)if(" "==r[h]){l=!1;break}}if(u&&"<"==n&&o+this.input.charAt(this.pos)=="{{"&&(o+=this.get_unformatted("}}"),r.length&&" "!=r[r.length-1]&&"<"!=r[r.length-1]&&(o=" "+o),a=!0),"<"!=o||n||(t=this.pos-1,n="<"),u&&!n&&r.length>=2&&"{"==r[r.length-1]&&"{"==r[r.length-2]&&(t="#"==o||"/"==o||"!"==o?this.pos-3:this.pos-2,n="{"),this.line_char_count++,r.push(o),r[1]&&("!"==r[1]||"?"==r[1]||"%"==r[1])){r=[this.get_comment(t)];break}if(u&&r[1]&&"{"==r[1]&&r[2]&&"!"==r[2]){r=[this.get_comment(t)];break}if(u&&"{"==n&&r.length>2&&"}"==r[r.length-2]&&"}"==r[r.length-1])break}}while(">"!=o);var v,b,E=r.join("");v=-1!=E.indexOf(" ")?E.indexOf(" "):"{"==E[0]?E.indexOf("}"):E.indexOf(">"),b="<"!=E[0]&&u?"#"==E[2]?3:2:1;var y=E.substring(b,v).toLowerCase();return"/"==E.charAt(E.length-2)||this.Utils.in_array(y,this.Utils.single_token)?e||(this.tag_type="SINGLE"):u&&"{"==E[0]&&"else"==y?e||(this.indent_to_tag("if"),this.tag_type="HANDLEBARS_ELSE",this.indent_content=!0,this.traverse_whitespace()):this.is_unformatted(y,p)?(i=this.get_unformatted("</"+y+">",E),r.push(i),this.pos,this.tag_type="SINGLE"):"script"==y&&(-1==E.search("type")||E.search("type")>-1&&E.search(/\b(text|application)\/(x-)?(javascript|ecmascript|jscript|livescript)/)>-1)?e||(this.record_tag(y),this.tag_type="SCRIPT"):"style"==y&&(-1==E.search("type")||E.search("type")>-1&&E.search("text/css")>-1)?e||(this.record_tag(y),this.tag_type="STYLE"):"!"==y.charAt(0)?e||(this.tag_type="SINGLE",this.traverse_whitespace()):e||("/"==y.charAt(0)?(this.retrieve_tag(y.substring(1)),this.tag_type="END"):(this.record_tag(y),"html"!=y.toLowerCase()&&(this.indent_content=!0),this.tag_type="START"),this.traverse_whitespace()&&this.space_or_wrap(r),this.Utils.in_array(y,this.Utils.extra_liners)&&(this.print_newline(!1,this.output),this.output.length&&"\n"!=this.output[this.output.length-2]&&this.print_newline(!0,this.output))),e&&(this.pos=d,this.line_char_count=c),r.join("")},this.get_comment=function(e){var t="",n=">",o=!1;this.pos=e;var r=this.input.charAt(this.pos);for(this.pos++;this.pos<=this.input.length&&((t+=r)[t.length-1]!=n[n.length-1]||-1==t.indexOf(n));)!o&&t.length<10&&(0===t.indexOf("<![if")?(n="<![endif]>",o=!0):0===t.indexOf("<![cdata[")?(n="]]>",o=!0):0===t.indexOf("<![")?(n="]>",o=!0):0===t.indexOf("\x3c!--")?(n="--\x3e",o=!0):0===t.indexOf("{{!")?(n="}}",o=!0):0===t.indexOf("<?")?(n="?>",o=!0):0===t.indexOf("<%")&&(n="%>",o=!0)),r=this.input.charAt(this.pos),this.pos++;return t},this.get_unformatted=function(e,t){if(t&&-1!=t.toLowerCase().indexOf(e))return"";var n="",o="",r=0,i=!0;do{if(this.pos>=this.input.length)return o;if(n=this.input.charAt(this.pos),this.pos++,this.Utils.in_array(n,this.Utils.whitespace)){if(!i){this.line_char_count--;continue}if("\n"==n||"\r"==n){o+="\n",this.line_char_count=0;continue}}o+=n,this.line_char_count++,i=!0,u&&"{"==n&&o.length&&"{"==o[o.length-2]&&(r=(o+=this.get_unformatted("}}")).length)}while(-1==o.toLowerCase().indexOf(e,r));return o},this.get_token=function(){var e;if("TK_TAG_SCRIPT"==this.last_token||"TK_TAG_STYLE"==this.last_token){var t=this.last_token.substr(7);return"string"!=typeof(e=this.get_contents_to(t))?e:[e,"TK_"+t]}return"CONTENT"==this.current_mode?"string"!=typeof(e=this.get_content())?e:[e,"TK_CONTENT"]:"TAG"==this.current_mode?"string"!=typeof(e=this.get_tag())?e:[e,"TK_TAG_"+this.tag_type]:void 0},this.get_full_indent=function(e){return(e=this.indent_level+e||0)<1?"":new Array(e+1).join(this.indent_string)},this.is_unformatted=function(e,t){if(!this.Utils.in_array(e,t))return!1;if("a"!=e.toLowerCase()||!this.Utils.in_array("a",t))return!0;var n=(this.get_tag(!0)||"").match(/^\s*<\s*\/?([a-z]*)\s*[^>]*>\s*$/);return!(n&&!this.Utils.in_array(n,t))},this.printer=function(e,t,o,r,i){this.input=e||"",this.output=[],this.indent_character=t,this.indent_string="",this.indent_size=o,this.brace_style=i,this.indent_level=0,this.wrap_line_length=r,this.line_char_count=0;for(var a=0;a<this.indent_size;a++)this.indent_string+=this.indent_character;this.print_newline=function(e,t){this.line_char_count=0,t&&t.length&&(e||"\n"!=t[t.length-1])&&("\n"!=t[t.length-1]&&(t[t.length-1]=n(t[t.length-1])),t.push("\n"))},this.print_indentation=function(e){for(var t=0;t<this.indent_level;t++)e.push(this.indent_string),this.line_char_count+=this.indent_string.length},this.print_token=function(e){this.is_whitespace(e)&&!this.output.length||((e||""!==e)&&this.output.length&&"\n"==this.output[this.output.length-1]&&(this.print_indentation(this.output),e=e.replace(/^\s+/g,"")),this.print_token_raw(e))},this.print_token_raw=function(e){this.newlines>0&&(e=n(e)),e&&""!==e&&(e.length>1&&"\n"==e[e.length-1]?(this.output.push(e.slice(0,-1)),this.print_newline(!1,this.output)):this.output.push(e));for(var t=0;t<this.newlines;t++)this.print_newline(t>0,this.output);this.newlines=0},this.indent=function(){this.indent_level++},this.unindent=function(){this.indent_level>0&&this.indent_level--}},this},o.printer(e,s,a,d,c);;){var E=o.get_token();if(o.token_text=E[0],o.token_type=E[1],"TK_EOF"==o.token_type)break;switch(o.token_type){case"TK_TAG_START":o.print_newline(!1,o.output),o.print_token(o.token_text),o.indent_content&&(o.indent(),o.indent_content=!1),o.current_mode="CONTENT";break;case"TK_TAG_STYLE":case"TK_TAG_SCRIPT":o.print_newline(!1,o.output),o.print_token(o.token_text),o.current_mode="CONTENT";break;case"TK_TAG_END":if("TK_CONTENT"==o.last_token&&""===o.last_text){var y=o.token_text.match(/\w+/)[0],w=null;o.output.length&&(w=o.output[o.output.length-1].match(/(?:<|{{#)\/?\s*(\w+)/)),(null==w||w[1]!=y&&!o.Utils.in_array(w[1],p))&&o.print_newline(!1,o.output)}o.print_token(o.token_text),o.current_mode="CONTENT";break;case"TK_TAG_SINGLE":var S=o.token_text.match(/^\s*<([a-z-]+)/i);S&&o.Utils.in_array(S[1],p)||o.print_newline(!1,o.output),o.print_token(o.token_text),o.current_mode="CONTENT";break;case"TK_TAG_HANDLEBARS_ELSE":o.print_token(o.token_text),o.indent_content&&(o.indent(),o.indent_content=!1),o.current_mode="CONTENT";break;case"TK_TAG_HANDLEBARS_COMMENT":case"TK_CONTENT":o.print_token(o.token_text),o.current_mode="TAG";break;case"TK_STYLE":case"TK_SCRIPT":if(""!==o.token_text){o.print_newline(!1,o.output);var C,_=o.token_text,T=1;"TK_SCRIPT"==o.token_type?C=l:"TK_STYLE"==o.token_type&&(C=i),"keep"==t.indent_scripts?T=0:"separate"==t.indent_scripts&&(T=-o.indent_level);var k=o.get_full_indent(T);if(C)_=C(_.replace(/^\s*/,k),t);else{var A=_.match(/^\s*/)[0].match(/[^\n\r]*$/)[0].split(o.indent_string).length-1,x=o.get_full_indent(T-A);_=_.replace(/^\s*/,k).replace(/\r\n|\r|\n/g,"\n"+x).replace(/\s+$/,"")}_&&(o.print_token_raw(_),o.print_newline(!0,o.output))}o.current_mode="TAG";break;default:""!==o.token_text&&o.print_token(o.token_text)}o.last_token=o.token_type,o.last_text=o.token_text}var N=o.output.join("").replace(/[\r\n\t ]+$/,"");return v&&(N+="\n"),N}}},function(e){if(e.FroalaEditor.PLUGINS.mediaManager=function(t){function n(e){var n=t.$el.closest('[data-control="richeditor"]'),o=e.substring(e.lastIndexOf("/")+1);n.richEditor("insertVideo",e,o),t.popups.hide("video.insert")}function o(e){var n=t.$el.closest('[data-control="richeditor"]'),o=e.substring(e.lastIndexOf("/")+1);n.richEditor("insertAudio",e,o),t.popups.hide("audio.insert")}function r(){}return{_init:function(){t.events.on("destroy",r,!0),t.events.on("video.linkError",n),t.events.on("audio.linkError",o)},insertFile:function(){t.selection.save(),new e.oc.mediaManager.popup({alias:"ocmediamanager",cropAndInsertButton:!1,onInsert:function(n){if(t.events.focus(!0),t.selection.restore(),n.length)if(n.length>1)e.oc.alert(e.oc.lang.get("mediamanager.invalid_file_single_insert"));else{for(var o,r=""===(s=t.selection.text()).trim(),i=0,a=n.length;i<a;i++){var s=r?n[i].title:s;o=n[i].publicUrl}t.html.insert('<a href="'+o+'" id="fr-inserted-file" class="fr-file">'+s+"</a>"),t.$el.find("#fr-inserted-file").removeAttr("id"),this.hide(),t.undo.saveStep()}else e.oc.alert(e.oc.lang.get("mediamanager.invalid_file_empty_insert"))}})},insertImage:function(){t.selection.save();var n=t.image.get();new e.oc.mediaManager.popup({alias:"ocmediamanager",cropAndInsertButton:!0,onInsert:function(o){if(t.events.focus(!0),t.selection.restore(),o.length){for(var r=0,i=0,a=(o=o.reverse()).length;i<a;i++)"image"===o[i].documentType?(t.image.insert(o[i].publicUrl,!1,{},n),1==++r&&(n=null)):e.oc.alert(e.oc.lang.get("mediamanager.invalid_image_invalid_insert",'The file "'+o[i].title+'" is not an image.'));0!==r&&(this.hide(),t.undo.saveStep())}else e.oc.alert(e.oc.lang.get("mediamanager.invalid_image_empty_insert"))}})},insertVideo:function(n){t.selection.save(),new e.oc.mediaManager.popup({alias:"ocmediamanager",cropAndInsertButton:!1,onInsert:function(o){if(t.events.focus(!0),t.selection.restore(),o.length)if(o.length>1)e.oc.alert(e.oc.lang.get("mediamanager.invalid_file_single_insert"));else{var r=o[0];if("video"===r.documentType){if(n)n(r.publicUrl,r.title);else t.$el.closest('[data-control="richeditor"]').richEditor("insertVideo",r.publicUrl,r.title);this.hide()}else e.oc.alert(e.oc.lang.get("mediamanager.invalid_video_invalid_insert",'The file "'+r.title+'" is not a video.'))}else e.oc.alert(e.oc.lang.get("mediamanager.invalid_video_empty_insert"))}})},insertAudio:function(n){t.selection.save(),new e.oc.mediaManager.popup({alias:"ocmediamanager",cropAndInsertButton:!1,onInsert:function(o){if(t.events.focus(!0),t.selection.restore(),o.length)if(o.length>1)e.oc.alert(e.oc.lang.get("mediamanager.invalid_file_single_insert"));else{var r=o[0];if("audio"===r.documentType){if(n)n(r.publicUrl,r.title);else t.$el.closest('[data-control="richeditor"]').richEditor("insertAudio",r.publicUrl,r.title);this.hide()}else e.oc.alert(e.oc.lang.get("mediamanager.invalid_audio_invalid_insert",'The file "'+r.title+'" is not an audio file.'))}else e.oc.alert(e.oc.lang.get("mediamanager.invalid_audio_empty_insert"))}})}}},!(e.FE.PLUGINS.link&&e.FE.PLUGINS.file&&e.FE.PLUGINS.image&&e.FE.PLUGINS.video))throw new Error("Media manager plugin requires link, file, image and video plugin.");e.FE.DEFAULTS.imageInsertButtons.push("mmImageManager"),e.FE.RegisterCommand("mmImageManager",{title:"Browse",undo:!1,focus:!1,callback:function(){this.mediaManager.insertImage()},plugin:"mediaManager"}),e.FE.DefineIcon("mmImageManager",{NAME:"folder-o"}),e.FE.DEFAULTS.fileInsertButtons.push("mmFileManager"),e.FE.RegisterCommand("mmFileManager",{title:"Browse",undo:!1,focus:!1,callback:function(){this.mediaManager.insertFile()},plugin:"mediaManager"}),e.FE.DefineIcon("mmFileManager",{NAME:"folder-o"}),e.FE.DEFAULTS.videoInsertButtons.push("mmVideoManager"),e.FE.RegisterCommand("mmVideoManager",{title:"Browse",undo:!1,focus:!1,callback:function(){this.mediaManager.insertVideo()},plugin:"mediaManager"}),e.FE.DefineIcon("mmVideoManager",{NAME:"folder-o"}),e.FE.DEFAULTS.audioInsertButtons.push("mmAudioManager"),e.FE.RegisterCommand("mmAudioManager",{title:"Browse",undo:!1,focus:!1,callback:function(){this.mediaManager.insertAudio()},plugin:"mediaManager"}),e.FE.DefineIcon("mmAudioManager",{NAME:"folder-o"})}(jQuery),function(e){e.FroalaEditor.PLUGINS.pageLinks=function(t){var n;function o(o){t.image&&n&&t.image.set(n),t.link.insert(o.link,e('input.fr-link-attr[name="text"]',t.popups.get("link.insert")).val()||o.params.title)}function r(){t.selection.save()}return{_init:function(){},insertLink:function(){n=t.image?t.image.get():null,oc.pageLookup.popup({alias:"ocpagelookup",value:e('input.fr-link-attr[name="href"]',t.popups.get("link.insert")).val(),onInsert:o,onShown:r,singleMode:!0})}}},e.FE.DefineIcon("linkPageRoute",{NAME:"folder-o"}),e.FE.RegisterCommand("linkPageRoute",{title:"Choose Link",undo:!1,focus:!1,callback:function(){this.pageLinks.insertLink()},plugin:"pageLinks"}),e.FE.DefineIcon("insertPageLink",{NAME:"link"}),e.FE.RegisterShortcut(e.FE.KEYCODE.K,"insertPageLink",null,"K"),e.FE.RegisterCommand("insertPageLink",{title:"Insert Link",undo:!1,focus:!0,refreshOnCallback:!1,popup:!0,callback:function(){this.popups.isVisible("link.insert")?(this.$el.find(".fr-marker").length&&(this.events.disableBlur(),this.selection.restore()),this.popups.hide("link.insert")):this.link.showInsertPopup()},plugin:"link"}),e.FE.RegisterInsertPageLinkCommand=function(){e.FE.DEFAULTS.linkInsertButtons=["linkBack","|","linkPageRoute"],e.FE.RegisterCommand("insertPageLink",{title:"Insert Link",undo:!1,focus:!0,refreshOnCallback:!1,popup:!0,callback:function(){this.link.showInsertPopup(),this.popups.hide("link.insert"),this.pageLinks.insertLink()},plugin:"pageLinks"})},oc.pageLookup&&e.FE.RegisterInsertPageLinkCommand()}(jQuery),function(e){e.FroalaEditor.PLUGINS.figures=function(t){function n(n){var o=e("<div />").append(n.clone()).remove().html();t.events.focus(!0),t.selection.restore(),t.html.insert(o),t.html.cleanEmptyTags(),e("figure",t.$el).each((function(){var t=e(this),n=t.parent("p"),o=t.next("p");n.length&&t.insertAfter(n),o.length&&!e("> *:not(br)",o).length&&0==o.text().trim().length&&o.remove()})),t.undo.saveStep(),r()}function o(){var t=e('<figure contenteditable="false" tabindex="0" data-ui-block="true">&nbsp;</figure>');return t.get(0).contentEditable=!1,t}function r(){e("[data-video], [data-audio]",t.$el).each((function(){e(this).addClass("fr-draggable").attr({"data-ui-block":"true",draggable:"true",tabindex:"0"}).html("&nbsp;"),this.contentEditable=!1}))}function i(e,n){void 0!==e.attr("data-ui-block")&&0==n.text().trim().length&&(n.remove(),a(e),t.undo.saveStep())}function a(e){return void 0!==e.attr("data-ui-block")&&(e.focus(),t.selection.clear(),!0)}function s(e,n){e.length&&(a(e)||(n?(t.selection.setAtStart(e.get(0)),t.selection.restore()):(t.selection.setAtEnd(e.get(0)),t.selection.restore())))}function l(n){if(function(n){if("ArrowDown"===n.key||"ArrowUp"===n.key||"Backspace"===n.key||"Delete"===n.key){var o=e(t.selection.element());if(o.is("br")&&(o=o.parent()),o.length)switch(n.key){case"ArrowUp":a(o.prev());break;case"ArrowDown":a(o.next());break;case"Delete":i(o.next(),o);break;case"Backspace":i(o.prev(),o)}}}(n),n.isDefaultPrevented())return!1}function d(n){if(n.target&&void 0!==e(n.target).attr("data-ui-block")&&function(n,o){if("ArrowDown"===n.key||"ArrowUp"===n.key||"Enter"===n.key||"Backspace"===n.key||"Delete"===n.key){switch(n.key){case"ArrowDown":s(e(o).next(),!0);break;case"ArrowUp":s(e(o).prev(),!1);break;case"Enter":e("<p><br/></p>").insertAfter(o),t.selection.setAfter(o),t.selection.restore(),t.undo.saveStep();break;case"Backspace":case"Delete":var r=e(o).next(),i=!0;0==r.length&&(r=e(o).prev(),i=!1),s(r,i),e(o).remove(),t.undo.saveStep()}n.preventDefault()}}(n,n.target),n.isDefaultPrevented())return!1}function c(t){var n=e("<div>"+t+"</div>");return n.find("[data-video], [data-audio]").each((function(){e(this).removeAttr("contenteditable data-ui-block tabindex draggable").removeClass("fr-draggable fr-dragging")})),n.html()}function p(){t.$el.off("keydown","figure",d)}return{_init:function(){t.events.on("initialized",r),t.events.on("html.set",r),t.events.on("html.get",c),t.events.on("keydown",l),t.events.on("destroy",p,!0),t.$el.on("keydown","figure",d)},insert:n,insertVideo:function(e,t){var r=o();r.attr("data-video",e),r.attr("data-label",t),n(r)},insertAudio:function(e,t){var r=o();r.attr("data-audio",e),r.attr("data-label",t),n(r)}}}}(jQuery),function(e){if(e.FroalaEditor.PLUGINS.snippets=function(t){function n(e){setTimeout((function(){t.events.trigger("contentChanged"),e.target.focus()}),0)}function o(t){t.target&&32==t.which&&void 0!==e(t.target).attr("data-snippet")&&e.oc.inspector.manager.createInspector(t.target)}function r(){setTimeout((function(){t.codeView&&t.codeView.isActive()||e("[data-snippet]",t.$el).each((function(){var t=e(this);t.get(0).dataset.control="snippet",t.html("&nbsp;")}))}),0)}function i(t){if(!t.includes("figure")||!t.includes("data-inspector-handler-alias"))return t;var n=e("<div>"+t+"</div>");return e("[data-snippet]",n).each((function(){var t=e(this);oc.importControl("snippet").cleanSnippet(t.get(0)),t.removeAttr("contenteditable data-control tabindex data-ui-block draggable"),t.removeClass("fr-draggable fr-dragging"),t.attr("class")||t.removeAttr("class")})),n.html()}function a(t){if(void 0!==t.attr("data-snippet")){var n=t.parent("p");n.length&&(t.insertAfter(n),e("> *:not(br)",n).length||0!=n.text().trim().length||n.remove())}}function s(){t.$el.off("hidden.oc.inspector","[data-snippet]",n)}return{_init:function(){t.events.on("html.set",r),t.events.on("html.get",i),t.events.on("keydown",o),t.events.on("element.dropped",a),t.$el.on("hidden.oc.inspector","[data-snippet]",n),t.events.on("destroy",s,!0)},insertSnippet:function(){oc.snippetLookup?(t.selection.save(),oc.snippetLookup.popup({onInsert:function(n){t.events.focus(!0),t.selection.restore();var o=e(oc.snippetLookup.generateSnippetHtml(n));o.attr("data-control","snippet"),t.figures.insert(o),this.hide()}})):console.error("Unable to insert snippet: Missing snippet lookup widget")}}},e.FE.DefineIcon("insertSnippet",{NAME:"newspaper-o"}),!e.FE.PLUGINS.figures)throw new Error("Snippets plugin requires figures plugin.");e.FE.RegisterInsertSnippetCommand=function(){e.FE.RegisterCommand("insertSnippet",{title:"Insert Snippet",undo:!1,focus:!1,callback:function(){this.snippets.insertSnippet()},plugin:"snippets"})},oc.snippetLookup&&e.FE.RegisterInsertSnippetCommand()}(jQuery);
